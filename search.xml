<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
      <link href="/2022/04/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/"/>
      <url>/2022/04/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</h1><h2 id="1-æ¦‚è¿°"><a class="header-anchor" href="#1-æ¦‚è¿°">Â¶</a>1. æ¦‚è¿°</h2><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490749945651649074994467.png" alt="" style="zoom:50%;" /><p>Flutterä¸­å…¶å®æä¾›å¾ˆå¤šç§ç±»çš„å†…ç½®ç»„ä»¶ï¼Œæ—¢æ¶‰åŠæœ‰çŠ¶æ€çš„ï¼Œä¹Ÿæ¶‰åŠæ— çŠ¶æ€çš„ï¼Œä½¿ç”¨è¿™äº›ç»„ä»¶è¿›è¡Œç»„åˆï¼Œå¾ˆå¿«èƒ½å¤Ÿå®Œæˆç•Œé¢å¸ƒå±€çš„æ­å»ºå·¥ä½œ</p><br/><h2 id="2-å®¹å™¨ç±»"><a class="header-anchor" href="#2-å®¹å™¨ç±»">Â¶</a>2. å®¹å™¨ç±»</h2><p>å®¹å™¨è‡ªç„¶æ˜¯è¦å¯ä»¥å°†å…¶ä»–ç»„ä»¶æ”¾åœ¨è‡ªå·±çš„å†…éƒ¨çš„ï¼Œæœ‰ç‚¹åƒAndroidé‡Œé¢çš„<code>ViewGroup</code>æˆ–è€…HTMLé‡Œé¢çš„<code>&lt;div&gt;</code></p><h3 id="2-1-Container"><a class="header-anchor" href="#2-1-Container">Â¶</a>2.1. Container</h3><p><code>Container</code>ç»„ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å°†å…¶ä»–ç»„ä»¶<strong>æ‰“åŒ…</strong>ï¼Œä»¥ä¾¿äºæ•´ä½“è¿›è¡Œä¿®é¥°æˆ–å®šä½</p><p>å¯ä»¥å°†è¿™é‡Œçš„<code>Container</code>çœ‹åšæ˜¯Androidé‡Œçš„æŸä¸€ç§å¸ƒå±€</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490838940271649083893967.png" alt=""></p><p>è¿™é‡ŒåªåŒ…å«ä¸€ä¸ª<code>Text</code>ç»„ä»¶ï¼Œå¹¶ä¸”è®¾ç½®äº†å®¹å™¨çš„èƒŒæ™¯è‰²ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Container</code>çš„å¤§å°ä¼šæ ¹æ®å†…å®¹çš„å¤§å°è‡ªé€‚åº”ï¼Œå¯ä»¥çœ‹åšæ˜¯Androidä¸­çš„<code>wrap_content</code></p><br/><p>å½“ç„¶ï¼Œå†…è¾¹è·çš„<code>padding</code>çš„æ•ˆæœä¹Ÿåˆ«æ— äºŒè‡´</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),   <span class="comment">// æ·»åŠ å†…è¾¹è·</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490841665651649084166405.png" alt=""></p><p><code>EdgeInsets.all()</code>ä»å¤–è¡¨å¤§è‡´èƒ½çŒœå‡ºæ¥æ˜¯å››å‘¨éƒ½è®¾ç½®ä¸ºç›¸åŒçš„æŒ‡å®šè¾¹è·</p><br/><p>ä½¿ç”¨<code>margin</code>å±æ€§æ— ç–‘æ˜¯æ·»åŠ ç»„ä»¶å››å‘¨çš„å¤–è¾¹è·çš„è®¾ç½®</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),</span><br><span class="line">          margin: EdgeInsets.all(<span class="number">10.0</span>),    <span class="comment">// æ·»åŠ å¤–è¾¹è·ï¼Œå½“ç„¶ï¼Œè¿™é‡Œä¹Ÿæ˜¯å››å‘¨ä¸€èµ·åŠ äº†</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490843445651649084343570.png" alt=""></p><br/><p><strong>è£…é¥°å™¨</strong>å¯ä»¥ç”¨æ¥åœ¨å®¹å™¨å†…éƒ¨æ·»åŠ ä¸€ä¸ªå›¾å½¢</p><blockquote><p>æ³¨æ„ï¼š</p><p>è£…é¥°å™¨ä¸å¯ä¸colorå±æ€§å…±å­˜</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),</span><br><span class="line">          margin: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">          decoration: BoxDecoration(      <span class="comment">// æ·»åŠ è£…é¥°å™¨ï¼ŒåŒæ—¶å»æ‰colorå±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span></span><br><span class="line">            shape: BoxShape.circle,</span><br><span class="line">            color: Colors.lightBlueAccent</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490848415681649084840871.png" alt=""></p><p>è¿™æ ·çœ‹èµ·æ¥æ˜¾ç„¶ä¸å¥½çœ‹ï¼Œ<strong>è£…é¥°å™¨çš„å¤§å°é»˜è®¤å—åˆ¶äºæ•´ä¸ªå®¹å™¨çš„å¤§å°</strong>ï¼Œè€Œå®¹å™¨çš„å¤§å°åˆæ˜¯è¢«å†…éƒ¨çš„å­ç»„ä»¶æ’‘èµ·æ¥çš„ï¼Œé‚£ä¹ˆåœ¨æœ‰é™çš„ç©ºé—´é‡Œåªèƒ½å…è®¸è¿™ä¹ˆå¤§çš„åœ†</p><p>å› ä¸ºè£…é¥°å™¨åœ¨<code>Container</code>å†…éƒ¨ï¼Œå› æ­¤åªè¦å¢åŠ ä¸€äº›<code>padding</code>ï¼Œè¿™æ ·å°±æœ‰æ›´å¤šç©ºé—´â€œå‘è‚²â€</p><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490855485651649085547838.png" alt=""></p><br/><p><strong>å¯¹é½å±æ€§</strong>ï¼Œä½œç”¨äº<code>Container</code>çš„å­çº§ç»„ä»¶</p><blockquote><p>æ³¨æ„ï¼š</p><p>è¯¥å±æ€§ç›´æ¥è®¾ç½®åå½“å‰å®¹å™¨ä¼šç›´æ¥é“ºæ»¡çˆ¶å®¹å™¨ï¼Œæ„Ÿè§‰è¿™ä¸€ç‚¹å¾ˆå¥‡æ€ªï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ¬èº«é»˜è®¤æƒ…å†µä¸‹è‡ªé€‚åº”ï¼Œæ²¡æœ‰åŠæ³•ä½“ç°è¯¥å±æ€§çš„æ•ˆæœå§ï¼Œä½†è¿™å°±æ”¹å˜è‡ªå·±ç”¨äºä½“ç°è¿™ç§æ•ˆæœå—ï¼Œè¿™ä¸ªç»„ä»¶çš„è¡¨ç°æ¬²ä¹Ÿå¤ªå¼ºäº†ğŸ˜‚</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.amber,</span><br><span class="line">          alignment: Alignment.topLeft,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490867335671649086732861.png" alt=""></p><p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šå®½é«˜æˆ–è€…è¿›è¡Œå¸ƒå±€çº¦æŸè¦†ç›–è¯¥æ•ˆæœ</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.amber,</span><br><span class="line">          alignment: Alignment.topLeft,</span><br><span class="line">          width: <span class="number">200</span>,</span><br><span class="line">          height: <span class="number">100</span>,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490869365741649086936336.png" alt=""></p><h3 id="2-2-Padding"><a class="header-anchor" href="#2-2-Padding">Â¶</a>2.2. Padding</h3><p>æ³¨æ„ï¼Œè¿™é‡Œçš„<code>Padding</code>ä¸æ˜¯ä¸€ä¸ªå±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ªç»„ä»¶</p><br/><p>ç®€å•äº†è§£ä¸€ä¸‹ä¹‹å‰æåˆ°çš„<code>EdgeInsets</code></p><p>å®ƒæ˜¯æŠ½è±¡ç±»<code>EdgeInsetsGeometry</code>çš„å­ç±»ï¼Œå¯ä»¥ç”¨æ¥æè¿°ç»„ä»¶å„ä¸ªæ–¹å‘ä¸Šçš„è·ç¦»</p><br/><p><code>Padding</code>ç»„ä»¶å®é™…ä¸Šä¸<code>Container</code>çš„<code>padding</code>å±æ€§å·®ä¸å¤šï¼Œä½†æ˜¯æ›´åŠ <strong>ä¸“ä¸€å’Œè½»é‡</strong></p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491234345651649123433576.png" alt="" style="zoom:70%;" /><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Padding(</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">          child: Container(</span><br><span class="line">            color: Colors.deepPurple,</span><br><span class="line">            child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ä¸ºç»„ä»¶&#x27;</span>),</span><br><span class="line">          )</span><br><span class="line">        )</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491233175681649123317120.png" alt=""></p><h3 id="2-3-Align"><a class="header-anchor" href="#2-3-Align">Â¶</a>2.3. Align</h3><p><code>Align</code>ç»„ä»¶é‡ç‚¹æè¿°çš„æ˜¯çˆ¶å­ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œ<strong>å­ç»„ä»¶ç›¸å¯¹äºçˆ¶ç»„ä»¶çš„ä½ç½®</strong></p><blockquote><p>æ³¨æ„ï¼š</p><p>è¿™é‡Œåœ¨ä½¿ç”¨<code>Align</code>ç»„ä»¶æ—¶å’Œä¹‹å‰<code>Container</code>çš„<code>alignment</code>å±æ€§æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œçˆ¶çº§éƒ½ä¼šè‡ªå·±æ‰©å±•èŒƒå›´</p></blockquote><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">         color: Colors.lightBlue,</span><br><span class="line">         child: Align(</span><br><span class="line">           alignment: Alignment.topLeft,</span><br><span class="line">           child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ç»„ä»¶&#x27;</span>),</span><br><span class="line">         ),</span><br><span class="line">       )</span><br></pre></td></tr></table></figure><p>è¿™é‡Œè®¾ç½®æ–‡æœ¬ç»„ä»¶ä½äºçˆ¶çº§ç»„ä»¶çš„å·¦ä¸Šè§’ï¼Œå¯ä»¥æƒ³è±¡çˆ¶çº§ç»„ä»¶ä¼šé»˜è®¤ä¸ºçˆ¶çº§çš„å¤§å°ï¼Œç„¶åå°†å­çº§ç»„ä»¶æ”¾åˆ°å·¦ä¸Šè§’ï¼ˆå› ä¸ºæ²¡æœ‰æŒ‡å®šå¤§å°ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491240515661649124051139.png" alt=""></p><p>é™¤äº†ä»£ç æšä¸¾çš„å‡ ä¸ªé¢„è®¾çš„ä½ç½®ï¼Œè¿˜å¯ä»¥é€šè¿‡<strong>æ ¡å‡†å€¼</strong>è¿›è¡ŒæŒ‡å®š</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491242135651649124213167.png" alt="" style="zoom:50%;" /><p><code>Align</code>ç»„ä»¶åœ¨å®šä¹‰ä¸­å°†ä¸€ä¸ªç»„ä»¶åœ¨æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ï¼Œæ°´å¹³æ–¹å‘ä¸Šç»„ä»¶ä»å·¦è‡³åˆ’åˆ†ä¸ºä¸º-1 ~ 1ï¼Œå‚ç›´æ–¹å‘ä¸Šç»„ä»¶ä»ä¸Šåˆ°ä¸‹åˆ’åˆ†ä¸º-1 ~ 1</p><p>å½“ç„¶ï¼ŒèŒƒå›´å¯ä»¥è¶…å‡ºï¼Œåªæ˜¯ä¸åœ¨ç»„ä»¶èŒƒå›´å†…äº†</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          child: Align(</span><br><span class="line">            alignment: Alignment(<span class="number">0.5</span>, <span class="number">0.5</span>),</span><br><span class="line">            child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ç»„ä»¶&#x27;</span>),</span><br><span class="line">          )</span><br></pre></td></tr></table></figure><p>è¿™æ ·å¯ä»¥å°†å¯¹é½æ§åˆ¶å¾—æ›´åŠ ç²¾ç¡®</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491253045671649125303770.png" alt="" style="zoom:50%;" />]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>NDKï¼ˆå…¥é—¨ï¼‰</title>
      <link href="/2022/04/04/NDK%EF%BC%88%E5%85%A5%E9%97%A8%EF%BC%89/"/>
      <url>/2022/04/04/NDK%EF%BC%88%E5%85%A5%E9%97%A8%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1>NDKï¼ˆå…¥é—¨ï¼‰</h1><h2 id="1-ä½¿ç”¨ç›®çš„"><a class="header-anchor" href="#1-ä½¿ç”¨ç›®çš„">Â¶</a>1. ä½¿ç”¨ç›®çš„</h2><ul><li>è¿›ä¸€æ­¥æå‡è®¾å¤‡æ€§èƒ½ï¼Œä»¥é™ä½å»¶è¿Ÿæˆ–è¿è¡Œæ¸¸æˆæˆ–ç‰©ç†æ¨¡æ‹Ÿç­‰è®¡ç®—å¯†é›†å‹åº”ç”¨</li><li>é‡å¤ä½¿ç”¨æ‚¨è‡ªå·±æˆ–å…¶ä»–å¼€å‘è€…çš„ C æˆ– C++ åº“</li></ul><p>Android StudioåŸç”Ÿåº“ç¼–è¯‘é»˜è®¤ä½¿ç”¨<code>CMake</code>ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ<code>ndk-build</code></p><h2 id="2-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#2-å‡†å¤‡å·¥ä½œ">Â¶</a>2. å‡†å¤‡å·¥ä½œ</h2><ul><li>NDKï¼šå…è®¸åœ¨Androidä¸­ä½¿ç”¨C/C++</li><li>CMakeï¼šå¤–éƒ¨æ„å»ºå·¥å…·ï¼Œå¦‚æœä½¿ç”¨<code>ndk-build</code>ï¼Œå¯ä»¥ä¸éœ€è¦</li><li>LLDBï¼šåŸç”Ÿä»£ç è°ƒè¯•å·¥å…·ï¼Œé»˜è®¤ASè‡ªå¸¦</li></ul><p>å…ˆè¿›åˆ°<code>SDK Manager</code>å‡†å¤‡ä¸€ä¸‹å¯¹åº”çš„å·¥å…·</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490380341231649038033292.png" alt="" style="zoom:70%;" /><br/><h2 id="3-æ·»åŠ åŸç”Ÿä»£ç "><a class="header-anchor" href="#3-æ·»åŠ åŸç”Ÿä»£ç ">Â¶</a>3. æ·»åŠ åŸç”Ÿä»£ç </h2><h3 id="3-1-åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶"><a class="header-anchor" href="#3-1-åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶">Â¶</a>3.1. åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶</h3><p>é¦–å…ˆï¼Œåˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©<code>Native C++</code>ç±»å‹</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490391141311649039113214.png" alt="" style="zoom:70%;" /><p>é€‰æ‹©é»˜è®¤çš„å·¥å…·é“¾ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨é»˜è®¤çš„<code>CMake</code>é…ç½®</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490392661221649039265481.png" alt="" style="zoom:70%;" /><p>æ–°çš„é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œä½¿ç”¨Androidè§†å›¾æŸ¥çœ‹ä¸€ä¸‹é¡¹ç›®æ–‡ä»¶ç»“æ„ï¼Œä¼šå‘ç°å‡ºç°äº†ä¸€ä¸ª<code>cpp</code>ç›®å½•ï¼Œ<code>CMakeLists.txt</code>ä»£è¡¨<code>CMake</code>çš„æ„å»ºè„šæœ¬ï¼Œè€Œå¦ä¸€ä¸ª.cppæ–‡ä»¶æ˜¯ç¤ºä¾‹ä»£ç </p><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490400261281649040025617.png" alt=""></p><blockquote><p><strong>ç®€è¦åˆ†æç¤ºä¾‹</strong></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;jni.h&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">extern &quot;C&quot; JNIEXPORT jstring JNICALL</span><br><span class="line">Java_com_minos_nativedemo_MainActivity_stringFromJNI(</span><br><span class="line">        JNIEnv* env,</span><br><span class="line">        jobject /* this */) &#123;</span><br><span class="line">    std::string hello = &quot;Hello from C++&quot;;</span><br><span class="line">    return env-&gt;NewStringUTF(hello.c_str());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯ç¤ºä¾‹.cppçš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°é¡¶éƒ¨åŒ…å«äº†<code>jni</code>æ¡†æ¶çš„å¤´æ–‡ä»¶ï¼Œä¸‹é¢å£°æ˜çš„å°±æ˜¯<code>stringFromJNI()</code>å‡½æ•°ï¼Œå¤§è‡´çš„æ„æ€å°±æ˜¯å°†è¯¥å‡½æ•°å¯¹å¤–æš´éœ²ï¼Œæä¾›ç»™Javaè°ƒç”¨</p><br/><p>å†çœ‹ä¸‹<code>CMakeLists.txt</code>ä¸­çš„å†…å®¹</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># Creates and names a library, sets it as either STATIC</span><br><span class="line"># or SHARED, and provides the relative paths to its source code.</span><br><span class="line"># You can define multiple libraries, and CMake builds them for you.</span><br><span class="line"># Gradle automatically packages shared libraries with your APK.</span><br><span class="line"></span><br><span class="line">add_library( # Sets the name of the library.</span><br><span class="line">        nativedemo</span><br><span class="line"></span><br><span class="line">        # Sets the library as a shared library.</span><br><span class="line">        SHARED</span><br><span class="line"></span><br><span class="line">        # Provides a relative path to your source file(s).</span><br><span class="line">        native-lib.cpp)</span><br></pre></td></tr></table></figure><p>å°±åƒæ³¨é‡Šé‡Œæè¿°çš„é‚£æ ·ï¼Œæ ¹æ®æºæ–‡ä»¶çš„è·¯å¾„ç”Ÿæˆåº“ï¼ŒGradleè‡ªåŠ¨æ‰“åŒ…æ—¶ä¼šä¸€åŒæ”¾å…¥apkä¸­</p><br/><p>ç„¶åæ¥çœ‹çœ‹ä½¿ç”¨çš„åœ°æ–¹ï¼Œåœ¨MainActivityä¸­ä¼šä½¿ç”¨åˆ°é‡Œé¢çš„æ–¹æ³•</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line">    <span class="comment">// Used to load the &#x27;nativedemo&#x27; library on application startup.</span></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">&quot;nativedemo&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯åˆå§‹åŒ–ï¼Œæ”¾åœ¨äº†Activityçš„åˆå§‹åŒ–å—ä¸­ï¼Œè¿™æ ·åœ¨åº”ç”¨å¯åŠ¨æ—¶å°±å¯ä»¥è°ƒç”¨<code>System.loadLibrary()</code>æ–¹æ³•æ ¹æ®åº“çš„åç§°å°†åº“åŠ è½½è¿›æ¥</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A native method that is implemented by the &#x27;nativedemo&#x27; native library,</span></span><br><span class="line"><span class="comment"> * which is packaged with this application.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">external</span> <span class="function"><span class="keyword">fun</span> <span class="title">stringFromJNI</span><span class="params">()</span></span>: String</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæ˜¯å¯¹äº<code>JNI</code>æ–¹æ³•çš„å£°æ˜ï¼Œåœ¨åŠ è½½å®Œåº“ä¹‹åï¼Œå°±å¯ä»¥ä»ä¸­å–å®ƒäº†</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: ActivityMainBinding</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line"></span><br><span class="line">    binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">    setContentView(binding.root)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Example of a call to a native method</span></span><br><span class="line">        binding.sampleText.text = stringFromJNI()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨<code>ViewBinding</code>è¿›è¡Œå¸ƒå±€å…ƒç´ çš„æ“ä½œï¼Œè°ƒç”¨<code>stringFromJNI()</code>è¿”å›å­—ç¬¦ä¸²ï¼Œç„¶åå°†å†…å®¹æ˜¾ç¤ºåˆ°å¸ƒå±€ä¸Š</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490541765681649054175831.png" alt="" style="zoom:50%;" /><br/><p>æ•´ä½“æµç¨‹å¤§è‡´æ˜¯ï¼š</p><ul><li>Gradleè°ƒç”¨<code>CMakeLists.txt</code></li><li><code>CMake</code>æŒ‰ç…§æ„å»ºè„šæœ¬ä¸­çš„å‘½ä»¤å°†.cppç¼–è¯‘åˆ°å…±äº«å¯¹è±¡åº“ä¸­ï¼Œå¹¶å‘½åä¸º<code>xxx.so</code>ï¼ŒGradleä¹‹åä¼šå°†å…¶ä¸€åŒæ‰“åŒ…åˆ°apkä¸­ï¼ˆåŒ…åˆ†æå™¨å¯ä»¥çœ‹åˆ°ï¼‰</li></ul><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490545195721649054519114.png" alt="" style="zoom:70%;" /><ul><li>è¿è¡Œæ—¶ï¼ŒMainActivityè°ƒç”¨<code>System.loadLibrary()</code>åŠ è½½åŸç”Ÿåº“</li><li>åœ¨<code>onCreate()</code>ä¸­MainActivityè°ƒç”¨<code>stringFromJNI()</code></li></ul><br/><blockquote><p>å¼€å§‹è‡ªå®šä¹‰</p></blockquote><p>é¦–å…ˆéœ€è¦åœ¨å½“å‰æ¨¡å—ä¸‹æœ‰ä¸€ä¸ªä¸“é—¨çš„cppç›®å½•</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490550415661649055041171.png" alt="" style="zoom:70%;" /><p>å¤§æ¦‚æ˜¯è¿™æ ·çš„å±‚æ¬¡ç»“æ„ï¼Œæ¨¡å— &gt; src &gt; main &gt; <strong>cpp</strong></p><br/><p>ç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ”¾ç½®C++çš„æºä»£ç æ–‡ä»¶</p><p>æ¥ä¸‹æ¥å°±æ˜¯ä»£ç é€»è¾‘çš„ç¼–å†™ï¼Œå»å®ç°æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½</p><br/><h3 id="3-2-é…ç½®CMake"><a class="header-anchor" href="#3-2-é…ç½®CMake">Â¶</a>3.2. é…ç½®CMake</h3><p><code>CMake</code>çš„æ„å»ºè„šæœ¬æ–‡ä»¶<code>CMakeLists.txt</code>æ˜¯ä¸€ä¸ª<strong>çº¯æ–‡æœ¬æ–‡ä»¶</strong>ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒå¿…é¡»æŒ‡å®šæ–‡ä»¶çš„åç§°ä¸º<strong>CMakeLists.txt</strong></p><br/><p>ç„¶åéœ€è¦å‘å…¶ä¸­æ·»åŠ ä¸€äº›éœ€è¦ç”¨åˆ°çš„å‘½ä»¤</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.10.2)</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‘½ä»¤æ˜¯è®¾ç½®äº†æ„å»ºçš„æœ€å°ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ä¸‹é™</p><br/><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">add_library(</span><br><span class="line">  nativedemo</span><br><span class="line">  SHARED</span><br><span class="line">  native-lib.cpp)</span><br></pre></td></tr></table></figure><p>è¿™é‡Œç»™å‡ºåº“çš„åç§°ã€ç±»å‹ã€å¯¹åº”çš„æºæ–‡ä»¶è·¯å¾„</p><blockquote><p><strong>æ³¨æ„</strong></p><p>soåº“çš„åç§°æ€»æ˜¯ä»¥lib&lt;CMakeä¸­å®šä¹‰çš„åº“åç§°&gt;.soå‡ºç°ï¼Œä½†æ˜¯ä½¿ç”¨System.loadLibrary()æ—¶è¿˜æ˜¯ä½¿ç”¨CMakeä¸­å®šä¹‰çš„åç§°</p></blockquote><br/><h3 id="3-3-æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle"><a class="header-anchor" href="#3-3-æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle">Â¶</a>3.3. æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle</h3><p>å®ç°Gradleå…³è”<code>CMake</code>æ‰“åŒ…ï¼Œéœ€è¦åœ¨å½“å‰æ¨¡å—çš„<code>build.gradle</code>ä¸­è¿›è¡Œä¸€äº›é…ç½®</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">Â·Â·android &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        </span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">        externalNativeBuild &#123;</span><br><span class="line">            cmake &#123;</span><br><span class="line">                cppFlags <span class="string">&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    externalNativeBuild &#123;</span><br><span class="line">        cmake &#123;</span><br><span class="line">            path file(<span class="string">&#x27;src/main/cpp/CMakeLists.txt&#x27;</span>)</span><br><span class="line">            version <span class="string">&#x27;3.10.2&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°éœ€è¦<code>externalNativeBuild</code>å—è¿›è¡Œç›¸å…³é…ç½®</p><br/><p>å¤–å±‚çš„ä¸»è¦ç”¨äºä¸Gradleå»ºç«‹è¿æ¥ï¼Œè€Œ<code>defaultConfog</code>å—å†…å±‚çš„åˆ™è¿›è¡Œä¸€äº›å¯é€‰çš„é…ç½®é¡¹</p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
        <tags>
            
            <tag> NDK </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
      <link href="/2022/04/03/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/"/>
      <url>/2022/04/03/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1><p>Flutterçš„å®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸€ä¸ªç†å¿µâ€”â€”<strong>â€œä¸€åˆ‡çš†ä¸ºWidgetâ€</strong></p><p>ç”±æ­¤å¯ä»¥çœ‹å¾—å‡ºæ¥<code>Widget</code>åœ¨Flutterä¸­çš„é‡è¦åœ°ä½</p><h2 id="1-Widgetæ˜¯ä»€ä¹ˆï¼Ÿ"><a class="header-anchor" href="#1-Widgetæ˜¯ä»€ä¹ˆï¼Ÿ">Â¶</a>1. Widgetæ˜¯ä»€ä¹ˆï¼Ÿ</h2><p><code>Widget</code>æˆ‘ä»¬å°†å…¶ç†è§£ä¸º<strong>ç»„ä»¶</strong>ï¼Œä¸€ä¸ªåº”ç”¨çš„ç•Œé¢å¾€å¾€éƒ½æ¯”è¾ƒä¸°å¯Œï¼Œä¸Šé¢ä¼šæœ‰å„å¼å„æ ·çš„ç»„ä»¶ï¼Œåƒå›¾ç‰‡ã€æŒ‰é’®ã€æ’­æ”¾å™¨è¿™äº›éƒ½å¯ä»¥ç§°ä¸ºç»„ä»¶ã€‚</p><p>ç”±äºä¹‹å‰è‡ªå·±æ¥è§¦è¿‡<code>React</code>çš„å¼€å‘ï¼Œå› æ­¤æˆ‘è®¤ä¸ºï¼Œè¿™é‡Œçš„ç»„ä»¶å°±ç›¸å½“äºç¨‹åºä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå…·æœ‰<strong>ä¸“é—¨</strong>çš„åŠŸèƒ½ï¼Œä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå¤„ç†ç›¸åº”çš„æ•°æ®ï¼Œå°±åƒä½ æ‰“å¼€<code>Material Design</code>ç»„ä»¶åº“ä¸€æ ·ï¼Œé‡Œé¢å„ä¸ªç»„ä»¶éƒ½æ‰®æ¼”ç€ç‰¹å®šçš„è§’è‰²ï¼Œä¸ºäº†æŸä¸€ç§ç‰¹å®šçš„åŠŸèƒ½è€Œå­˜åœ¨ã€‚</p><p>æ‰“ä¸ªæ›´åŠ è´´è¿‘ç”Ÿæ´»çš„æ¯”æ–¹ï¼Œæˆ‘ä»¬åˆšæ¬è¿›æ–°å®¶ï¼Œè€Œç©ºè¡è¡çš„å±‹å­å°±æ˜¯æˆ‘ä»¬åŸå§‹çš„ç©ºç™½ç•Œé¢ï¼Œç„¶è€Œæˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»æ€»æ˜¯éœ€è¦å„ç§å·¥å…·æˆ–è€…æ˜¯å®¶å…·æ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œé‚£ä¹ˆè¿™ç§éœ€è¦å°±ç›¸å½“äºæ˜¯ç»„ä»¶æ‰€éœ€è¦å…·å¤‡çš„åŠŸèƒ½ï¼Œæ¯ä¸ªå·¥å…·æˆ–è€…å®¶å…·åªæ˜¯<strong>ä¸“é—¨è´Ÿè´£æŸä¸€æ–¹é¢çš„åŠŸèƒ½</strong>ï¼Œæ­¤æ—¶ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå°±å¯ä»¥å°†å®¶å…·æˆ–å·¥å…·ç†è§£ä¸ºç¨‹åºæ„ä¹‰ä¸Šçš„ç»„ä»¶ï¼ŒåŒæ—¶ï¼Œè¿™äº›ç»„ä»¶çš„æ‘†æ”¾å’Œæ­é…ä¹Ÿå½¢æˆäº†ç•Œé¢ä¸Šä¸°å¯Œå¤šå½©çš„å¸ƒå±€ã€‚</p><h2 id="2-Widgetæœ‰å“ªäº›ï¼Ÿ"><a class="header-anchor" href="#2-Widgetæœ‰å“ªäº›ï¼Ÿ">Â¶</a>2. Widgetæœ‰å“ªäº›ï¼Ÿ</h2><ul><li>æ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Widgetï¼‰</li><li>æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆStateful Widgetï¼‰</li></ul><p>å¯ä»¥å°†ç»„ä»¶æ ¹æ®çŠ¶æ€ç‰¹ç‚¹åˆ†ä¸ºä¸¤ä¸ªå¤§ç±»</p><h3 id="2-1-æ— çŠ¶æ€ç»„ä»¶"><a class="header-anchor" href="#2-1-æ— çŠ¶æ€ç»„ä»¶">Â¶</a>2.1. æ— çŠ¶æ€ç»„ä»¶</h3><p><code>StatelessWidget</code>ç±»ç›´æ¥ç»§æ‰¿äº<code>Widget</code>ç±»</p><p>æ— çŠ¶æ€ç»„ä»¶å…·ä½“åšäº›ä»€ä¹ˆäº‹å‘¢ï¼Ÿå®ƒçš„ä»»åŠ¡å¾ˆç®€å•ï¼Œä»…ä»…æ˜¯å°†éœ€è¦å±•ç¤ºçš„å†…å®¹è¿›è¡Œå‘ˆç°ï¼Œè€Œåå°±èººå¹³äº†ã€‚</p><p><code>StatelessWidget</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œéœ€è¦é‡å†™æŠ½è±¡æ–¹æ³•<code>build()</code></p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyWidget</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">      onPressed: () =&gt; &#123;&#125;,</span><br><span class="line">      child: <span class="keyword">const</span> Text(<span class="string">&#x27;Flutter&#x27;</span>)</span><br><span class="line">      ,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ç®€å•ä½¿ç”¨ä¸€ä¸ª<code>TextButton</code>çš„å†…ç½®ç»„ä»¶æ„æˆç¬¬ä¸€ä¸ªæ— çŠ¶æ€ç»„ä»¶çš„å†…å®¹ï¼Œåœ¨<code>build</code>æ–¹æ³•ä¸­è¿”å›éœ€è¦å±•ç¤ºçš„<code>Widget</code>å¯¹è±¡</p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204031715214.png" alt="image-20220403171552181" style="zoom:40%;" /><h3 id="2-2-æœ‰çŠ¶æ€ç»„ä»¶"><a class="header-anchor" href="#2-2-æœ‰çŠ¶æ€ç»„ä»¶">Â¶</a>2.2. æœ‰çŠ¶æ€ç»„ä»¶</h3><p>æ— çŠ¶æ€ç»„ä»¶ä¼¼ä¹çœ‹èµ·æ¥æŒºç®€å•çš„ï¼Œæ¥ä¸‹æ¥å…³æ³¨ä¸€ä¸‹æœ‰çŠ¶æ€ç»„ä»¶ï¼Œå®ƒèƒ½å¤Ÿå®ç°ç»„ä»¶çŠ¶æ€çš„åˆ‡æ¢ã€‚</p><p>æœ‰çŠ¶æ€ç»„ä»¶éœ€è¦ç»§æ‰¿è‡ª<code>StatefulWidget</code>ç±»ï¼Œå¦å¤–ï¼Œç”±äºå…¶éœ€è¦å¯¹çŠ¶æ€è¿›è¡Œæ“ä½œï¼Œè¿˜ä¼šæ¶‰åŠåˆ°<code>State</code>ç±»</p><p>é¦–å…ˆï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç»§æ‰¿äº<code>StatefulWidget</code>ç±»çš„ç»„ä»¶ï¼Œå¹¶ä¸”é‡å†™<code>createState()</code>æ–¹æ³•</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnotherWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> text = <span class="string">&#x27;ç©ºç©ºå¦‚ä¹Ÿ&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _AnotherWidgetState createState() &#123;</span><br><span class="line">    <span class="keyword">return</span> _AnotherWidgetState();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»™å‡ºtextä½œä¸ºä¸€ä¸ªç»„ä»¶çš„å±æ€§ï¼Œç”¨äºæ˜¾ç¤ºæ–‡æœ¬</p><p><code>State</code>ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œ<code>createState()</code>éœ€è¦è¿”å›ä¸€ä¸ªçŠ¶æ€ï¼Œå› æ­¤ï¼Œä¸“é—¨ä¸ºè¯¥ç»„ä»¶è®¾ç½®ä¸€ä¸ªçŠ¶æ€ç±»</p><figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AnotherWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AnotherWidget</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> textState = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    textState = widget.text;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ›´æ–°çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">void</span> _changeText(<span class="built_in">String</span> s) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      textState = s;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">        onPressed: () =&gt; _changeText(<span class="string">&#x27;å†…æœ‰ç„æœº&#x27;</span>),</span><br><span class="line">        child: Text(textState)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå®šä¹‰è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œè®©å…¶ç»§æ‰¿<code>State</code>ç±»ï¼Œä½¿ç”¨æ³›å‹è®©å®ƒå’Œå¯¹åº”çš„ç»„ä»¶é—´å»ºç«‹è”ç³»</p><p>è€Œåå¯¹åº”çš„æ³›å‹ä¼šè¢«èµ‹ç»™<code>State</code>çš„æˆå‘˜<code>widget</code>ä¸Šï¼Œé€šè¿‡è¯¥æˆå‘˜ä¾¿å¯ä»¥è·å–ä¹‹å‰å®šä¹‰çš„ç»„ä»¶ä¸Šçš„textå±æ€§</p><p>é‡å†™<code>initState()</code>æ–¹æ³•å¯¹çŠ¶æ€è¿›è¡Œåˆå§‹åŒ–çš„èµ‹å€¼æ“ä½œï¼Œè¿™é‡Œä½¿ç”¨textStateè®°å½•çŠ¶æ€</p><p><code>setState()</code>åˆ™æ˜¯ç”¨æ¥æ›´æ–°çŠ¶æ€çš„ï¼Œåœ¨è¿™é‡Œå°±æ˜¯å°†å˜é‡è¿›è¡Œä¿®æ”¹</p><p><code>build()</code>å°±åƒä¹‹å‰æ— çŠ¶æ€ç»„ä»¶é‡Œçš„ä¸€æ ·ï¼Œç”¨äºå‘ˆç°ç»„ä»¶ï¼Œåˆ©ç”¨å…¶<code>onPressed</code>å±æ€§ï¼Œç›‘å¬ç‚¹å‡»ï¼Œè§¦å‘çŠ¶æ€ä¿®æ”¹</p><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204032037870.png" alt="image-20220403203721828" style="zoom:50%;" /><img src="/Users/shenzhisheng/Library/Application Support/typora-user-images/image-20220403203810971.png" alt="image-20220403203810971" style="zoom:50%;" /></p><p>è¿™æ ·ï¼Œé€šè¿‡å¯¹äºå˜é‡textStateçš„ä¿®æ”¹ï¼Œæ›´æ–°äº†UIçš„æ–‡æœ¬æ˜¾ç¤º</p><h2 id="3-å‡ ä¸ªé‡è¦çš„æ–¹æ³•"><a class="header-anchor" href="#3-å‡ ä¸ªé‡è¦çš„æ–¹æ³•">Â¶</a>3. å‡ ä¸ªé‡è¦çš„æ–¹æ³•</h2><h3 id="3-1-setState"><a class="header-anchor" href="#3-1-setState">Â¶</a>3.1. setState()</h3><p>åœ¨æœ‰çŠ¶æ€ç»„ä»¶ä¸­ï¼Œé€šè¿‡æ•°æ®çš„å˜æ›´æ¥è§¦å‘UIçš„æ”¹å˜ï¼Œ<code>setState()</code>æ–¹æ³•å°±æ˜¯ç”¨æ¥æ“ä½œçŠ¶æ€çš„ï¼Œå®ƒæ‰€èµ·åˆ°çš„ä½œç”¨å°±æ˜¯<strong>è§¦å‘ç»„ä»¶æ ‘çš„é‡å»ºï¼Œå¹¶ä¸”å°†æ–°çš„çŠ¶æ€æ•°æ®æ›´æ–°åˆ°ç»„ä»¶ä¸Š</strong></p><p>åŸºäºä¸Šé¢çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‰ä¸‹æŒ‰é’®è§¦å‘<code>_changeText(String s)</code>æ–¹æ³•ï¼Œä»è€Œè°ƒç”¨å†…éƒ¨çš„`setState() é€šçŸ¥å…³è”çš„ç»„ä»¶è¿›è¡Œé‡å»ºï¼Œä»¥å‘ˆç°æ–°çš„çŠ¶æ€</p><h3 id="3-2-initState"><a class="header-anchor" href="#3-2-initState">Â¶</a>3.2. initState()</h3><p>è¿™æ˜¯ç»„ä»¶çŠ¶æ€å¯¹è±¡ä¸­ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„æ–¹æ³•ï¼Œæ­£å¦‚å…¶åå­—ä¸€æ ·ï¼Œä¸»è¦è¿›è¡Œä¸€äº›çŠ¶æ€åˆå§‹åŒ–çš„æ“ä½œï¼Œå±äºçŠ¶æ€ç”Ÿå‘½å‘¨æœŸé‡Œçš„å†…å®¹</p><h2 id="3-3-dispose"><a class="header-anchor" href="#3-3-dispose">Â¶</a>3.3. dispose()</h2><p>ä¸<code>initState()</code>ç›¸å¯¹åº”ï¼Œåœ¨çŠ¶æ€ç”Ÿå‘½å‘¨æœŸç»“æŸå‰è°ƒç”¨ï¼Œä¸»è¦ç”¨äºé‡Šæ”¾èµ„æº</p><h2 id="3-4-build"><a class="header-anchor" href="#3-4-build">Â¶</a>3.4. build()</h2><p>åœ¨æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶çš„çŠ¶æ€ç±»ä¸­éƒ½æœ‰å®ƒçš„è¸ªå½±</p><p>ç»„ä»¶é€šè¿‡ç»„åˆå¾€å¾€ä¼šå½¢æˆæ›´åŠ å¤æ‚çš„ç»„ä»¶ï¼Œå°†ç»„ä»¶å‘ˆç°å‡ºæ¥çš„è¿‡ç¨‹æ€»æ˜¯ç¦»ä¸å¼€â€œå¥—å¨ƒâ€ã€‚å…¶å®è¿™ä¹Ÿæ˜¯å¯¹åº”äº†<strong>ç»„ä»¶æ ‘</strong>çš„æ¦‚å¿µ</p><p><code>build()</code>è¿”å›çš„<code>Widget</code>å…¶å®æ˜¯æœ€å¤–å±‚çš„ç»„ä»¶ï¼Œå› ä¸ºå°†é‡Œé¢çš„å†…å®¹ç›¸å½“äºæ‰“äº†ä¸ªåŒ…ï¼Œè¿™æ ·ä¾¿å°†æ•´ä¸ªéœ€è¦æ˜¾ç¤ºçš„å†…å®¹éƒ½å‡†å¤‡å¥½äº†</p>]]></content>
      
      
      <categories>
          
          <category> Flutter </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è§†å›¾ç»‘å®š</title>
      <link href="/2022/04/02/%E8%A7%86%E5%9B%BE%E7%BB%91%E5%AE%9A/"/>
      <url>/2022/04/02/%E8%A7%86%E5%9B%BE%E7%BB%91%E5%AE%9A/</url>
      
        <content type="html"><![CDATA[<h1>ViewBinding</h1><h2 id="1-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#1-å‡†å¤‡å·¥ä½œ">Â¶</a>1. å‡†å¤‡å·¥ä½œ</h2><p>é¦–å…ˆéœ€è¦åœ¨æ¨¡å—ä¸­å¯ç”¨â€œè§†å›¾ç»‘å®šâ€ï¼Œåœ¨æ¨¡å—å¯¹åº”çš„<code>build.gradle</code>ä¸­æ·»åŠ é…ç½®</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    compileSdk <span class="number">32</span></span><br><span class="line"></span><br><span class="line">    viewBinding &#123;</span><br><span class="line">        enabled = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>ç„¶åé¡¹ç›®å°±ä¸‹è½½äº†å¯¹åº”ä¾èµ–</p><p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/WechatIMG9.png" alt="WechatIMG9"></p><p>å¯ç”¨å®Œæˆåï¼Œç³»ç»Ÿä¼šä¸ºè¯¥æ¨¡å—ä¸‹çš„æ‰€æœ‰å¸ƒå±€XMLæ–‡ä»¶ç”Ÿæˆä¸€ä¸ª<strong>ä¸ä¹‹å¯¹åº”çš„ç»‘å®šç±»</strong></p><br/><h2 id="2-ç»‘å®šç±»"><a class="header-anchor" href="#2-ç»‘å®šç±»">Â¶</a>2. ç»‘å®šç±»</h2><p>å¸ƒå±€XMLä¸­ä¼šæœ‰ä¸€äº›ç»„ä»¶è®¾ç½®idå±æ€§ï¼Œè¿™äº›å±æ€§åœ¨å¯¹åº”çš„ç»‘å®šç±»ä¸­å¯ä»¥ç›´æ¥é€šè¿‡idæ¥è·å–ï¼Œè¿™äº›æ§ä»¶ç›¸å½“äºç±»çš„æˆå‘˜ï¼Œæ ¹ç»„ä»¶å’Œå…¶ä»–æœ‰idçš„ç»„ä»¶çš„å¼•ç”¨éƒ½åŒ…å«å…¶å®ä¾‹ä¹‹ä¸­</p><br/><h3 id="2-1-å‘½åæ–¹å¼"><a class="header-anchor" href="#2-1-å‘½åæ–¹å¼">Â¶</a>2.1. å‘½åæ–¹å¼</h3><p>ç»‘å®šç±»ä¼šä»¥â€œBindingâ€ç»“å°¾ï¼Œé‡‡ç”¨å¤§é©¼å³°</p><h3 id="2-2-æ ¹è§†å›¾"><a class="header-anchor" href="#2-2-æ ¹è§†å›¾">Â¶</a>2.2. æ ¹è§†å›¾</h3><p>å¯ä»¥é€šè¿‡<code>getRoot()</code>è·å–å¯¹äºå¸ƒå±€æ–‡ä»¶ä¸­æ ¹è§†å›¾çš„å¼•ç”¨</p><br/><h2 id="3-ä½¿ç”¨"><a class="header-anchor" href="#3-ä½¿ç”¨">Â¶</a>3. ä½¿ç”¨</h2><h3 id="3-1-Activityä¸­"><a class="header-anchor" href="#3-1-Activityä¸­">Â¶</a>3.1. Activityä¸­</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: ActivityMainBinding</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        <span class="comment">// è°ƒç”¨ç»‘å®šç±»çš„inflateé™æ€æ–¹æ³•ï¼Œå¯¹è±¡å®ä¾‹åŒ–</span></span><br><span class="line">        binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">        <span class="comment">// è·å–æ ¹å¸ƒå±€</span></span><br><span class="line">        <span class="keyword">val</span> view = binding.root</span><br><span class="line">        setContentView(view)</span><br><span class="line">    &#125;    </span><br></pre></td></tr></table></figure><p>ç„¶åå°±å¯ä»¥é€šè¿‡ç»‘å®šç±»çš„å®ä¾‹å»æ“ä½œå¸ƒå±€æ–‡ä»¶</p><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">binding.run &#123;</span><br><span class="line">            ivLogo.setImageResource(R.drawable.ic_launcher_background)</span><br><span class="line">            tvContent.setText(R.string.app_name)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><h3 id="3-2-Fragmentä¸­"><a class="header-anchor" href="#3-2-Fragmentä¸­">Â¶</a>3.2. Fragmentä¸­</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: FragmentBlankBinding</span><br><span class="line"></span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreateView</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        inflater: <span class="type">LayoutInflater</span>, container: <span class="type">ViewGroup</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        savedInstanceState: <span class="type">Bundle</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: View &#123;</span><br><span class="line">        binding = FragmentBlankBinding.inflate(inflater, container, <span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">return</span> binding.root</span><br><span class="line">    &#125;   </span><br></pre></td></tr></table></figure><p>åŒæ ·å¾—åˆ°äº†å¸ƒå±€æ–‡ä»¶ç»‘å®šç±»çš„å®ä¾‹ï¼Œç„¶åå¯ä»¥ä½¿ç”¨å…¶ä¸­çš„å¼•ç”¨å»æ“ä½œå¸ƒå±€ä¸­çš„ç»„ä»¶</p><p><strong>åœ¨Fragmentä¸­ï¼Œç”±äºå…¶è§†å›¾çš„ç”Ÿå‘½å‘¨æœŸçŸ­äºFragmentè‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤éœ€è¦åœ¨<code>onDestroyView()</code>ä¸­æ¸…é™¤å¯¹ç»‘å®šç±»å®ä¾‹çš„å¼•ç”¨</strong></p>]]></content>
      
      
      <categories>
          
          <category> Android </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/03/29/hello-world/"/>
      <url>/2022/03/29/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a class="header-anchor" href="#Quick-Start">Â¶</a>Quick Start</h2><h3 id="Create-a-new-post"><a class="header-anchor" href="#Create-a-new-post">Â¶</a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a class="header-anchor" href="#Run-server">Â¶</a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a class="header-anchor" href="#Generate-static-files">Â¶</a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a class="header-anchor" href="#Deploy-to-remote-sites">Â¶</a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
