<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Dartå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
    <url>/2023/03/05/Dart%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1>Dartå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</h1>
<h2 id="1-è¿ç®—ç¬¦"><a class="header-anchor" href="#1-è¿ç®—ç¬¦">Â¶</a>1. è¿ç®—ç¬¦</h2>
<p>åœ¨<code>Dart</code>ä¸­çš„è¿ç®—ç¬¦ä½¿ç”¨ä¸ç°ä»£çš„å¤§å¤šç¼–ç¨‹è¯­è¨€å¤§éƒ½ç±»ä¼¼</p>
<h3 id="1-1-å…³ç³»è¿ç®—ç¬¦"><a class="header-anchor" href="#1-1-å…³ç³»è¿ç®—ç¬¦">Â¶</a>1.1. å…³ç³»è¿ç®—ç¬¦</h3>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204142308448.png" alt="image-20220414230828424"></p>
<p>å…³ç³»è¿ç®—ç¬¦çš„ç”¨æ³•ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­çš„åŸºæœ¬æ²¡æœ‰å¤šå°‘åŒºåˆ«ï¼Œä¸»è¦æ³¨æ„ä¸€ä¸‹ç›¸ç­‰</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ¯”è¾ƒè¿ç®—ç¬¦</span></span><br><span class="line"><span class="keyword">var</span> num1 = <span class="number">123</span>;</span><br><span class="line"><span class="keyword">var</span> num2 = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="keyword">if</span> (num1 == num2) &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="keyword">true</span>);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="built_in">print</span>(<span class="keyword">false</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç›¸ç­‰çš„å½“ç„¶æ˜¯å†…å®¹ï¼Œå¦‚æœéœ€è¦åˆ¤æ–­ä¸¤è€…ä¸ºåŒä¸€å¯¹è±¡ï¼Œä½¿ç”¨<code>identical()</code></p>
<h3 id="1-2-ç®—æœ¯è¿ç®—ç¬¦"><a class="header-anchor" href="#1-2-ç®—æœ¯è¿ç®—ç¬¦">Â¶</a>1.2. ç®—æœ¯è¿ç®—ç¬¦</h3>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204142311103.png" alt="image-20220414231128986"></p>
<p>ä»¥ä¸Šä¸ºä¸€äº›å¸¸ç”¨è¿ç®—ç¬¦ï¼Œå¯èƒ½ç‰¹æ®Šä¸€ç‚¹æ˜¯</p>
<p>~/ï¼ˆå–æ•´ï¼‰ %ï¼ˆå–ä½™ï¼‰</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num5 = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> num6 = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">print</span>(num5 ~/ num6);</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·çš„ç»“æœåªä¼šå–åˆ°æ•´æ•°éƒ¨åˆ†çš„1</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> num5 = <span class="number">4</span>;</span><br><span class="line"><span class="keyword">var</span> num6 = <span class="number">3</span>;</span><br><span class="line"><span class="built_in">print</span>(num5 % num6);</span><br></pre></td></tr></table></figure>
<p>æ¢æˆ<code>%</code>å–å¾—å°±æ˜¯ä½™æ•°1</p>
<p>å¹¶ä¸”éœ€è¦æ³¨æ„ï¼Œè¿™é‡Œçš„<code>/</code>æ“ä½œï¼Œè¿”å›çš„æ˜¯<code>double</code>ï¼Œä¸ä¼ ç»Ÿçš„c-likeè¯­è¨€æœ‰ç‚¹ä¸åŒ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204142322372.png" alt="image-20220414232234291"></p>
<p><code>++</code>ï¼Œ<code>--</code>å‰åçš†å¯ï¼Œæ²¡ä»€ä¹ˆç‰¹åˆ«</p>
<h3 id="1-3-ç±»å‹åˆ¤æ–­"><a class="header-anchor" href="#1-3-ç±»å‹åˆ¤æ–­">Â¶</a>1.3. ç±»å‹åˆ¤æ–­</h3>
<p>ä¸»è¦ç”¨äºåœ¨ä»£ç <strong>è¿è¡Œæ—¶</strong>å¯¹äºå­—æ®µçš„ç±»å‹è¿›è¡Œæ£€æŸ¥</p>
<p><code>is</code>ç”¨äºåˆ¤æ–­å˜é‡æ˜¯å¦å±äºæŸä¸ªç±»å‹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span> <span class="built_in">int</span>);  <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><code>is!</code>è¿™ä¸ªç¬¦å·å¾ˆå¥‡è‘©ï¼Œ<code>!</code>ä¸€å®šæ³¨æ„æ˜¯åœ¨åé¢ğŸ˜‚</p>
<p>æ„æ€ä¸<code>is</code>ç›¸å</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">12</span>;</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">is</span>! <span class="built_in">int</span>);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<p><code>as</code>ä»£è¡¨ä¸€ç§å¼ºè½¬ï¼Œä»–éœ€è¦<strong>ç›®æ ‡ç±»å‹ä»å±äºåŸç±»å‹</strong></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">Object</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">print</span>(a <span class="keyword">as</span> <span class="built_in">int</span>);</span><br></pre></td></tr></table></figure>
<p>ä¸€åˆ‡éƒ½æ˜¯<code>Object</code>ï¼Œé‚£ä¹ˆè‡ªç„¶å¯ä»¥å–å‡º<code>int</code>ï¼Œå½“ç„¶ï¼Œæ—¢ç„¶æ˜¯å¼ºè½¬ï¼Œä¸åŒ¹é…æ˜¯ä¼šæŠ›å¼‚å¸¸çš„</p>
<h3 id="1-4-èµ‹å€¼è¿ç®—ç¬¦"><a class="header-anchor" href="#1-4-èµ‹å€¼è¿ç®—ç¬¦">Â¶</a>1.4. èµ‹å€¼è¿ç®—ç¬¦</h3>
<p>å…¶ä»–éƒ½å¾ˆåˆ°ç†è§£ï¼Œä¸å…¶ä»–è¯­è¨€æ²¡ä»€ä¹ˆä¸¤æ ·ï¼Œæ¯”è¾ƒç‰¹æ®Šçš„åº”è¯¥å°±æ˜¯<strong>ä¸ºç©ºèµ‹å€¼</strong></p>
<p><code>??=</code>è¡¨ç¤ºä¸ºç©ºèµ‹å€¼</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="keyword">null</span>;</span><br><span class="line"><span class="comment">// å¯èƒ½æœ‰å…¶ä»–å¤„ç†</span></span><br><span class="line">b ??= <span class="string">&#x27;--&#x27;</span>;</span><br><span class="line"><span class="built_in">print</span>(b);  <span class="comment">// --</span></span><br></pre></td></tr></table></figure>
<p>è¿™ç§ä½¿ç”¨åœºæ™¯å¯èƒ½åœ¨æ¥å£è¿”å›æ—¶ä½¿ç”¨ï¼Œä¸»è¦ä½œä¸ºç¼ºçœå€¼ï¼Œåç«¯è¿”å›ä¸ºnullï¼Œæ˜¾ç¤ºç¼ºçœï¼Œå¦åˆ™å°±æ˜¾ç¤ºå¯¹åº”å­—æ®µ</p>
<h3 id="1-5-æ¡ä»¶è¡¨è¾¾å¼"><a class="header-anchor" href="#1-5-æ¡ä»¶è¡¨è¾¾å¼">Â¶</a>1.5. æ¡ä»¶è¡¨è¾¾å¼</h3>
<p>ä¸‰å…ƒè¿ç®—ç¬¦å’Œå…¶ä»–è¯­è¨€çš„å·®ä¸å¤šï¼Œä½†æ˜¯éœ€è¦æ³¨æ„<code>??</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">var</span> b = a ?? <span class="number">5</span>;</span><br><span class="line"><span class="built_in">print</span>(b);  </span><br></pre></td></tr></table></figure>
<p>ä¸<code>??=</code>ç›¸ä¼¼ï¼Œé‚£ä¸ªæ˜¯å¤„ç†å·¦å€¼å¯èƒ½ä¸ºç©ºçš„æƒ…å†µï¼Œè¿™ä¸ªæ˜¯å³å€¼ï¼Œä¸»è¦è¿˜æ˜¯ç”¨äºä¿è¯éç©ºç±»å‹ä¸ä¼šä¸ºç©º</p>
<h3 id="1-6-åŸºç¡€çš„ç±»å‹è½¬æ¢"><a class="header-anchor" href="#1-6-åŸºç¡€çš„ç±»å‹è½¬æ¢">Â¶</a>1.6. åŸºç¡€çš„ç±»å‹è½¬æ¢</h3>
<p>ç»å¸¸ä¼šç”¨åˆ°çš„å¯èƒ½å°±æ˜¯<code>String</code>å’Œ<code>Number</code>ä¹‹é—´çš„è½¬åŒ–äº†</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// toString()</span></span><br><span class="line"><span class="keyword">var</span> d = <span class="number">23.36</span>;</span><br><span class="line"><span class="keyword">var</span> str = d.toString();</span><br></pre></td></tr></table></figure>
<p>æ•°å€¼ç±»å‹è½¬åŒ–ä¸º<code>String</code>ç›´æ¥å¯ä»¥è°ƒç”¨<code>toString</code>æ–¹æ³•ï¼Œç›¸å½“äºç»™åŸæ¥çš„æ•°å€¼å¤–é¢åŠ ä¸Šæ‹¬å·</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// parse()</span></span><br><span class="line"><span class="built_in">String</span> s = <span class="string">&#x27;123&#x27;</span>;</span><br><span class="line"><span class="comment">// å¼‚å¸¸æ·»åŠ try...catch</span></span><br><span class="line"><span class="keyword">var</span> num3 = <span class="built_in">int</span>.parse(s);</span><br><span class="line"><span class="keyword">if</span> (num3 <span class="keyword">is</span> <span class="built_in">int</span>) &#123;</span><br><span class="line">  <span class="built_in">print</span>(num3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è€Œ<code>String</code>è½¬ä¸ºæ•°å€¼ç±»å‹ï¼Œå¯ä»¥é€šè¿‡å¯¹åº”æ•°å€¼ç±»å‹çš„<code>parse()</code>æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œç”±äºä¸æ˜¯æ‰€æœ‰<code>String</code>éƒ½èƒ½æ˜¯<code>Number</code>ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå®é™…åº”ç”¨ä¸­éœ€è¦åŠ ä¸Š<code>try...catch</code>ï¼Œé˜²æ­¢ç¨‹åºå´©æºƒ</p>
<blockquote>
<p>å…¶ä»–è¯­å¥è¡¨è¾¾å¼ä¸å…¶ä»–è¯­è¨€ç›¸ä¼¼ï¼Œæƒ³æ·±å…¥äº†è§£ï¼Œæ–‡æ¡£ä¾ç„¶æ˜¯æœ€å¥½çš„é€‰æ‹©</p>
<p><a href="https://www.dartcn.com/guides/language/language-tour#%E6%9D%A1%E4%BB%B6%E8%A1%A8%E8%BE%BE%E5%BC%8F">Dartæ–‡æ¡£ï¼ˆhttps://www.dartcn.com/guides/language/language-tourï¼‰</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Dart</category>
      </categories>
      <tags>
        <tag>è¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>Androidåº•å±‚åˆ†æï¼ˆäºŒï¼‰â€”â€”WindowManager</title>
    <url>/2023/03/05/Android%E5%BA%95%E5%B1%82%E5%88%86%E6%9E%90%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94WindowManager/</url>
    <content><![CDATA[<h1>Androidåº•å±‚åˆ†æï¼ˆäºŒï¼‰â€”â€”WindowManager</h1>
<p>åœ¨äº†è§£<code>WindowManagerService</code>ä¹‹å‰ï¼Œå…ˆæ¥è®¤è¯†ä¸€ä¸‹å®ƒçš„å…¶ä»–ä¼™ä¼´ä»¬</p>
<h2 id="1-WindowManageræ¦‚è¿°"><a class="header-anchor" href="#1-WindowManageræ¦‚è¿°">Â¶</a>1. WindowManageræ¦‚è¿°</h2>
<p><em><strong>android\view\WindowManager.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723103936510.png" alt="image-20220723103936510" style="zoom: 80%;" />
<p><code>WindowManager</code>æœ¬èº«æ˜¯ä¸€ä¸ª<strong>æ¥å£</strong>ï¼Œå¹¶ä¸”ç»§æ‰¿è‡ª<code>ViewManager</code></p>
<p><code>ViewManager</code>çš„å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯<strong>ä¸‰ä»¶å¥—</strong></p>
<p><em><strong>android\view\ViewManager.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723104751374.png" alt="image-20220723104751374" style="zoom: 80%;" />
<p>è¿™ä¸‰ä¸ªæ–¹æ³•åˆ†åˆ«å¯¹åº”äº†<code>View</code>çš„æ·»åŠ ã€æ›´æ–°å’Œåˆ é™¤</p>
<p>å¹¶ä¸”è¿™äº›æ–¹æ³•éƒ½ä¼ å…¥<code>View</code>ä½œä¸ºå‚æ•°ï¼Œå› æ­¤<code>Window</code>æ­£æ˜¯å€ŸåŠ©äº<code>View</code>çš„å½¢å¼å¾—ä»¥å±•ç¤º</p>
<p>æ—¢ç„¶<code>WindowManager</code>ç»§æ‰¿äº†<code>ViewManager</code>æ¥å£ï¼Œè‡ªç„¶ä¹Ÿå°±ç»§æ‰¿äº†è¿™äº›æ–¹æ³•ï¼Œå¯ç”¨äºå¯¹äº<code>View</code>è¿›è¡Œæ“ä½œ</p>
<p><em><strong>android\view\WindowManager.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723130309361.png" alt="image-20220723130309361" style="zoom:80%;" />
<p>é™¤æ­¤ä»¥å¤–ï¼ŒåŸºäº<code>Window</code>çš„ç‰¹æ€§ï¼ŒåˆåŠ å…¥äº†<code>getDefaultDisplay()</code>å’Œ<code>removeViewImmediate()</code>è¿™ä¸¤ä¸ªæ–¹æ³•</p>
<p>ç¬¬ä¸€ä¸ª<code>getDefaultDisplay()</code>è¿”å›çš„æ˜¯<code>WindowManager</code>å°†åˆ›å»º<code>Window</code>çš„<code>Display</code>å¯¹è±¡</p>
<p>è€Œç¬¬äºŒä¸ª<code>removeViewImmediate()</code>åˆ™æ˜¯<code>removeView()</code>çš„ä¸€ç§å˜ä½“ï¼Œèƒ½å¤Ÿåœ¨è¿”å›å‰ç«‹å³è°ƒç”¨ç»™å®š<code>View</code>çš„å±‚çº§çš„<code>View#onDetachedFromWindow()</code>æ–¹æ³•ï¼Œè¿™ä¸é€‚ç”¨äºæ­£å¸¸çš„åº”ç”¨é”€æ¯æµç¨‹</p>
<h2 id="2-Windowæ¦‚è¿°"><a class="header-anchor" href="#2-Windowæ¦‚è¿°">Â¶</a>2. Windowæ¦‚è¿°</h2>
<p><code>Window</code>æ˜¯ä¸€ä¸ª<strong>æŠ½è±¡ç±»</strong>ï¼Œæ­£å¦‚æ³¨é‡Šæ‰€å†™ï¼Œå®ƒ<strong>å”¯ä¸€çš„å®ç°ç±»</strong>æ˜¯<code>PhoneWindow</code></p>
<p><code>Window</code>ä¸»è¦çš„èŒè´£æ˜¯ä½œä¸º<code>View</code>çš„<strong>å®¹å™¨</strong>ï¼Œä»¥åŠ<strong>å®šä¹‰æ ‡å‡†UIçš„ä¸€äº›åŸºç¡€è§„èŒƒ</strong></p>
<p><em><strong>android\view\Window.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723132617980.png" alt="image-20220723132617980" style="zoom:80%;" />
<p>ç®€è¦é˜è¿°ä¸€ä¸‹<code>Window</code>åœ¨ä½•æ—¶è¿›è¡Œå®ä¾‹åŒ–</p>
<p>è¿™é‡Œç›´æ¥æ¥åˆ°<code>Activity</code>çš„ä»£ç ä¸­ï¼Œåœ¨å¯åŠ¨<code>Activity</code>æ—¶ï¼Œä¼šè°ƒç”¨åˆ°<code>attach()</code>ï¼Œæ­¤æ—¶ï¼Œ<code>Window</code>å¯¹è±¡è¿›è¡Œ<strong>å®ä¾‹åŒ–</strong></p>
<p><em><strong>android\app\Activity.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723133536559.png" alt="image-20220723133536559" style="zoom:80%;" />
<p>åŒæ ·åœ¨<code>attach()</code>ä¸­ï¼Œä¸‹é¢åˆè°ƒç”¨äº†<code>setWindowManager()</code>æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®šä¹‰åœ¨<code>Window</code>ä¸­</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723133923017.png" alt="image-20220723133923017"></p>
<p>åœ¨<code>WindowManager</code>ä¸ºç©ºæ—¶ï¼Œä¼šè°ƒç”¨<code>Context</code>çš„<code>getSystemService()</code>æ–¹æ³•è¿›è¡Œè·å–ï¼Œè¿™é‡Œä¼ å…¥æœåŠ¡åç§°<code>Context.WINDOW_SERVICE</code></p>
<p><em><strong>android\view\Window.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723134334675.png" alt="image-20220723134334675"></p>
<p>è¯¥æœåŠ¡çš„åç§°å°±æ˜¯<code>window</code></p>
<p><em><strong>android\content\Context.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723141029044.png" alt="image-20220723141029044"></p>
<p><code>ContextImpl</code>è¦†å†™äº†<code>Context</code>çš„<code>getSystemService()</code>æ–¹æ³•ï¼Œè¿™é‡Œæ¶‰åŠåˆ°<strong>è£…é¥°å™¨æ¨¡å¼</strong></p>
<p><em><strong>android\app\ContextImpl.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723143718291.png" alt="image-20220723143718291" style="zoom:80%;" />
<p>è¿›è€Œï¼Œè°ƒç”¨<code>SystemServiceRegistry</code>çš„<code>getSystemService()</code>ï¼Œ<code>SYSTEM_SERVICE_FETCHERS</code>æ˜¯ä¸€ä¸ª<code>ArrayMap</code>ç»“æ„ï¼Œä»ä¸­è·å–å¯¹åº”æœåŠ¡çš„<code>ServiceFetcher</code></p>
<p><em><strong>android\app\SystemServiceRegistry.java</strong></em></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723145446838.png" alt="image-20220723145446838" style="zoom:80%;" />
<p><code>ServiceFetcher</code>ä½œä¸º<code>SystemServiceRegistry</code>çš„å†…éƒ¨æ¥å£ï¼Œé€šè¿‡<code>getService()</code>æ‹¿å–æœåŠ¡ï¼Œæ³¨æ„è¿™é‡Œæœ‰<strong>ç¼“å­˜åˆ›å»º</strong>ï¼Œ<code>CachedServiceFetcher</code>å®ç°äº†<code>ServiceFetcher</code>æ¥å£</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723150053219.png" alt="image-20220723150053219" style="zoom:80%;" />
<p>ç»§ç»­çœ‹ä¸‹é¢çš„ä»£ç ï¼Œå¦‚æœæœ‰å¯¹åº”çš„æœåŠ¡ç¼“å­˜ï¼Œç›´æ¥è¿”å›ï¼›å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ï¼Œä¼šå»è°ƒç”¨<code>createService()</code>æ–¹æ³•</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723150549643.png" alt="image-20220723150549643" style="zoom:80%;" />
<p>åœ¨<code>SystemServiceRegistry</code>ç±»çš„<code>static&#123;&#125;</code>ä¸­æ³¨å†Œäº†å¯¹åº”æœåŠ¡ï¼Œ<code>createService()</code>çš„æŠ½è±¡æ–¹æ³•è¢«è¦†å†™ï¼Œæœ€ç»ˆä½œä¸ºæœåŠ¡è¿”å›çš„æ˜¯<code>WindowManagerImpl</code>å¯¹è±¡</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723151143246.png" alt="image-20220723151143246"></p>
<p>é‚£ä¹ˆï¼Œå–å‡ºçš„<code>WindowManagerImpl</code>è¢«è½¬ä¸º<code>WindowManager</code>ï¼Œå›åˆ°<code>Window.java</code>ï¼Œä¸‹é¢åˆè½¬å›æ¥</p>
<p><em><strong>android\view\Window.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723152230611.png" alt="image-20220723152230611"></p>
<p>è°ƒç”¨<code>createLocalWindowManager()</code>å®è´¨ä¸Šæ˜¯ä¾æ®ä¼ å…¥çš„<code>Window</code>å¯¹è±¡<code>new</code>äº†ä¸€ä¸ª<code>WindowManagerImpl</code>å¯¹è±¡</p>
<p><em><strong>android\view\WindowManagerImpl.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723152736906.png" alt="image-20220723152736906"></p>
<p>æ­¤æ—¶ï¼Œæ–°çš„<code>WindowManagerImpl</code>å¯¹è±¡ä¾¿æŒæœ‰äº†åŸæ¥<code>Window</code>çš„å¼•ç”¨ï¼Œé‚£ä¹ˆé€šè¿‡<code>Window#getWindowManager()</code>å¯ä»¥è·å¾—æ“ä½œ<code>Window</code>çš„æƒåŠ›ï¼Œå› ä¸ºè¿™æ­£å¥½è·å–äº†<code>Window</code>ä¸­çš„<strong>mWindowManager</strong>æˆå‘˜ï¼Œå®é™…çš„åŠŸèƒ½è¿˜æ˜¯ä¾èµ–äº<code>WindowManagerImpl</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723153322958.png" alt="image-20220723153322958"></p>
<p>ä½†æ˜¯ï¼Œåœ¨<code>WindowManagerImpl</code>ä¼šå‘ç°ï¼Œå…¶å®<code>WindowManagerImpl</code>ä¹Ÿæ˜¯æŠŠä»»åŠ¡äº¤ç»™äº†<strong>mGlobal</strong>æ¥åš</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723153940042.png" alt="image-20220723153940042" style="zoom:80%;" />
<p><strong>mGlobal</strong>æ˜¯<code>WindowManagerGlobal</code>çš„<strong>å•ä¾‹å¯¹è±¡</strong>ï¼ˆ<code>WindowManagerGlobal</code>è¿›ç¨‹å”¯ä¸€ï¼Œä½†æ˜¯<code>WindowManagerImpl</code>çš„å®ä¾‹ä¸€ä¸ªè¿›ç¨‹æœ‰å¯èƒ½æœ‰å¤šä¸ªï¼‰ï¼Œè¿™é‡Œç”¨åˆ°äº†<strong>æ¡¥æ¥æ¨¡å¼</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723154339448.png" alt="image-20220723154339448"></p>
<h2 id="3-å…³ç³»å›¾"><a class="header-anchor" href="#3-å…³ç³»å›¾">Â¶</a>3. å…³ç³»å›¾</h2>
<p>ç®€è¦æè¿°ä¸‹æ“ä½œ<code>Window</code>å‰éƒ½åšäº†äº›ä»€ä¹ˆ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723161611799.png" alt="image-20220723161611799"></p>
<p>å…¶æ¬¡ï¼Œçœ‹ä¸‹ä¸€äº›ä¸»è¦ç±»çš„å±‚æ¬¡ç»“æ„å…³ç³»ï¼Œä»…æ ‡æ³¨ä¸€äº›ä¸»è¦çš„å†…å®¹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723163459710.png" alt="image-20220723163459710" style="zoom:80%;" />
<h2 id="4-å±æ€§"><a class="header-anchor" href="#4-å±æ€§">Â¶</a>4. å±æ€§</h2>
<p><code>Window</code>çš„å±æ€§æœ‰å¾ˆå¤šç§ï¼Œå…¶ä¸­æœ€å¸¸ç”¨åˆ°çš„ä¸»è¦æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li><strong>Type</strong>ï¼ˆç±»å‹ï¼‰</li>
<li><strong>Flag</strong>ï¼ˆæ ‡å¿—ä½ï¼‰</li>
<li><strong>SoftInputMode</strong>ï¼ˆè½¯é”®ç›˜æ¨¡å¼ï¼‰</li>
</ul>
<h3 id="4-1-Windowçš„ç±»å‹ä»¥åŠæ˜¾ç¤ºçš„æ¬¡åº"><a class="header-anchor" href="#4-1-Windowçš„ç±»å‹ä»¥åŠæ˜¾ç¤ºçš„æ¬¡åº">Â¶</a>4.1. Windowçš„ç±»å‹ä»¥åŠæ˜¾ç¤ºçš„æ¬¡åº</h3>
<p><code>Window</code>çš„ä¸»è¦ç±»å‹æœ‰ä»¥ä¸‹ä¸‰ç§ï¼š</p>
<ul>
<li>å¸¸è§„çš„åº”ç”¨ç¨‹åºçª—å£</li>
<li>å­çª—å£</li>
<li>ç³»ç»Ÿä¸“ç”¨çª—å£</li>
</ul>
<h4 id="4-1-1-å¸¸è§„çš„åº”ç”¨ç¨‹åºçª—å£"><a class="header-anchor" href="#4-1-1-å¸¸è§„çš„åº”ç”¨ç¨‹åºçª—å£">Â¶</a>4.1.1. å¸¸è§„çš„åº”ç”¨ç¨‹åºçª—å£</h4>
<p>æ¯”å¦‚è¯´<code>Activity</code>å°±å±äºè¿™ä¸ªèŒƒç•´</p>
<p>å¯¹åº”çš„<code>type</code>æ•°å€¼ä¸º1~99</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723192143302.png" alt="image-20220723192143302" style="zoom:80%;" />
<h4 id="4-1-2-å­çª—å£"><a class="header-anchor" href="#4-1-2-å­çª—å£">Â¶</a>4.1.2. å­çª—å£</h4>
<p>è¿™ç§çª—å£ç±»å‹<strong>æ— æ³•ç‹¬ç«‹å­˜åœ¨</strong>ï¼Œ<strong>éœ€è¦ä¾é™„åœ¨å…¶ä»–çª—å£ä¹‹ä¸Š</strong></p>
<p>å¦‚<code>PopWindow</code>å°±å±äºè¯¥èŒƒç•´</p>
<p>å¯¹åº”çš„<code>type</code>æ•°å€¼ä¸º1000~1999</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723192248088.png" alt="image-20220723192248088" style="zoom:80%;" />
<h4 id="4-1-3-ç³»ç»Ÿä¸“ç”¨çª—å£"><a class="header-anchor" href="#4-1-3-ç³»ç»Ÿä¸“ç”¨çª—å£">Â¶</a>4.1.3. ç³»ç»Ÿä¸“ç”¨çª—å£</h4>
<p><code>Toast</code>ã€è½¯é”®ç›˜ã€ç³»ç»Ÿé”™è¯¯å¼¹çª—ç­‰çª—å£å±äºè¯¥èŒƒç•´</p>
<p>ç³»ç»Ÿä¸“ç”¨çª—å£çš„ç±»å‹è¿˜æ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå…¶å¯¹åº”<code>type</code>ä¸º2000~2999</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723194545782.png" alt="image-20220723194545782" style="zoom:80%;" />
<h4 id="4-1-4-çª—å£æ˜¾ç¤ºæ¬¡åº"><a class="header-anchor" href="#4-1-4-çª—å£æ˜¾ç¤ºæ¬¡åº">Â¶</a>4.1.4. çª—å£æ˜¾ç¤ºæ¬¡åº</h4>
<p>è¿›ç¨‹å‘<code>WMS</code>ç”³è¯·çª—å£è¿›è¡Œæ˜¾ç¤ºï¼Œ<code>WMS</code>ä¸ºçª—å£ç¡®å®šæ˜¾ç¤ºçš„æ¬¡åº</p>
<p>æ­£å¦‚<code>CSS</code>é‡Œé¢çš„<code>z-index</code>å±æ€§ä¸€æ ·ï¼Œåœ¨å‚ç›´äºå±å¹•çš„æ–¹å‘ä¸Šï¼Œ<code>Android</code>ä¹Ÿæä¾›<code>Z-Order</code>çš„æ¦‚å¿µï¼Œç”¨äºè¡¨ç¤º<strong>é¡µé¢æ˜¾ç¤ºå±‚çº§</strong></p>
<p>å‰é¢æåˆ°çš„<code>Window</code>å¯¹åº”çš„<code>type</code>æ­£å¥½å°±æ˜¯<code>Z-Order</code>è¿›è¡Œæ’åºçš„ä¾æ®</p>
<p><strong>ä¸€èˆ¬æƒ…å†µä¸‹</strong>ï¼Œ<strong><code>type</code>çš„å€¼è¶Šå¤§ï¼Œé‚£ä¹ˆçª—å£æ˜¾ç¤ºçš„å±‚çº§è¶Šé ä¸Šï¼Œä¹Ÿå°±è¶Šæ¥è¿‘ç”¨æˆ·</strong></p>
<h3 id="4-2-æ ‡å¿—ä½"><a class="header-anchor" href="#4-2-æ ‡å¿—ä½">Â¶</a>4.2. æ ‡å¿—ä½</h3>
<p><code>flag</code>çš„ä¸»è¦ç”¨é€”æ˜¯<strong>èµ‹äºˆçª—å£æŸäº›ç‰¹æ€§</strong>ï¼Œæ¯”å¦‚ä¸å¯æ¥æ”¶è§¦æ‘¸äº‹ä»¶ã€è§¦å‘äº®å±ç­‰</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723195820899.png" alt="image-20220723195820899" style="zoom:80%;" />
<h3 id="4-3-è½¯é”®ç›˜æ¨¡å¼"><a class="header-anchor" href="#4-3-è½¯é”®ç›˜æ¨¡å¼">Â¶</a>4.3. è½¯é”®ç›˜æ¨¡å¼</h3>
<p>ä¸»è¦ç”¨äºç”¨æˆ·è¾“å…¥æ—¶ï¼Œ<strong>é¡µé¢ä¸è½¯é”®ç›˜å¼¹çª—å åŠ æ—¶çš„æ˜¾ç¤ºæ¨¡å¼</strong>ï¼Œè¿™ä¸ªå¾ˆå¤§ç¨‹åº¦ä¸Šä¼šå½±å“ç”¨æˆ·çš„äº¤äº’ä½“éªŒï¼Œç°å®åœºæ™¯ä¸­å…¶å®å¾ˆé‡è¦</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723200941432.png" alt="image-20220723200941432" style="zoom:80%;" />
<h2 id="5-æ“ä½œ"><a class="header-anchor" href="#5-æ“ä½œ">Â¶</a>5. æ“ä½œ</h2>
<p>å¯¹äº<code>Window</code>çš„æ“ä½œå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li><code>WindowManager</code>çš„å¤„ç†</li>
<li><code>WMS</code>çš„å¤„ç†</li>
</ul>
<h3 id="5-1-ç³»ç»Ÿçª—å£çš„æ·»åŠ ï¼ˆçŠ¶æ€æ ä¸ºä¾‹ï¼‰"><a class="header-anchor" href="#5-1-ç³»ç»Ÿçª—å£çš„æ·»åŠ ï¼ˆçŠ¶æ€æ ä¸ºä¾‹ï¼‰">Â¶</a>5.1. ç³»ç»Ÿçª—å£çš„æ·»åŠ ï¼ˆçŠ¶æ€æ ä¸ºä¾‹ï¼‰</h3>
<p>åœ¨<code>StatusBar#start()</code>ä¸­ï¼Œ<code>createAndAddWindows()</code>æ‰€åšçš„å°±æ˜¯æ„å»º<code>StatusBar</code>çš„è§†å›¾ï¼Œå¹¶ä¸”å°†å…¶æ·»åŠ åˆ°<code>WindowManager</code>ä¸Š</p>
<p><em><strong>com\android\systemui\statusbar\phone\StatusBar.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220723224625407.png" alt="image-20220723224625407"></p>
<p>å…¶ä¸­ï¼Œ<code>makeStatusBarView()</code>æ‰€åšçš„å°±æ˜¯æ„å»ºè§†å›¾</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724081218375.png" alt="image-20220724081218375"></p>
<p>ç„¶åï¼Œæ¥ä¸‹æ¥<code>StatusBarWindowController#attach()</code>å°†å¯¹åº”çš„è§†å›¾æ·»åŠ åˆ°<code>WindowManager</code>ä¸Šï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥çœ‹åˆ°ç±»å‹å‚æ•°<code>TYPE_STATUS_BAR</code></p>
<p><em><strong>com\android\systemui\statusbar\phone\StatusBarWindowController.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724081928982.png" alt="image-20220724081928982"></p>
<p>è°ƒç”¨<code>addView()</code>è¿›è¡Œæ·»åŠ ï¼Œè¿™è¿˜æ˜¯è°ƒç”¨äº†<code>WindowManagerImpl</code>çš„æ–¹æ³•ï¼Œä¼ å…¥å¯¹åº”<code>View</code>å‚æ•°</p>
<p><em><strong>android\view\WindowManagerImpl.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724082223760.png" alt="image-20220724082223760"></p>
<p>ä½œä¸ºå­çª—å£æ—¶ï¼Œ<code>adjustLayoutParamsForSubWindow()</code>è°ƒæ•´çª—å£çš„å¤§å°ï¼Œé€‚é…å½“å‰çš„çˆ¶çª—å£</p>
<p><em><strong>android\view\WindowManagerGlobal.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724082541336.png" alt="image-20220724082541336"></p>
<p>è¿™é‡Œå…ˆçœ‹çœ‹ç±»å¼€å¤´å®šä¹‰çš„3ä¸ªå‚æ•°ï¼Œ<code>mViews</code>ã€<code>mRoots</code>ã€<code>mParams</code>ï¼Œéƒ½æ˜¯<code>ArrayList</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724083304660.png" alt="image-20220724083304660"></p>
<p>éšåæ¥ç€çœ‹<code>addView()</code>ï¼Œå®ä¾‹åŒ–<code>ViewRootImpl</code>å¯¹è±¡ï¼Œä¸º<code>View</code>è®¾ç½®çª—å£å‚æ•°ï¼Œç„¶åä¸‰ä¸ªåˆ—è¡¨å¯¹åº”ä¿å­˜æ•°æ®ï¼Œç„¶åå°†è®¾ç½®å®Œçš„<code>View</code>å¡ç»™<code>ViewRootImpl</code>å¯¹è±¡</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724082831155.png" alt="image-20220724082831155"></p>
<p><code>ViewRootImpl</code>æ‰¿æ‹…äº†å¾ˆå¤šèŒè´£ï¼Œæ¯”å¦‚<code>View</code>æ ‘ç®¡ç†ï¼Œæµ‹é‡ã€å¸ƒå±€ã€ç»˜åˆ¶ï¼Œä¸<code>WMS</code>é€šä¿¡ç­‰</p>
<p>è¿™é‡Œè°ƒç”¨<code>addToDisplayAsUser()</code>ï¼Œ<code>mWindowSession</code>æ˜¯ä¸€ä¸ª<code>Binder</code>å¯¹è±¡ï¼Œæ˜¯<code>IWindowSession</code>ç±»å‹ï¼Œç”¨ä»¥è¿›è¡Œ<strong>è¿›ç¨‹é—´é€šä¿¡</strong>ï¼Œ<code>IWindowSession</code>æ˜¯<strong>å®¢æˆ·ç«¯ä»£ç†</strong>ï¼Œä¸ä¹‹å¯¹åº”çš„æœåŠ¡ç«¯å®ç°ä¸º<code>Session</code>ï¼Œ<code>Session</code>çš„<code>addToDisplayAsUser()</code>æ–¹æ³•è¿è¡Œåœ¨<code>WMS</code>æ‰€åœ¨è¿›ç¨‹(<code>system_server</code>)</p>
<p><em><strong>android\view\ViewRootImpl.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724084224999.png" alt="image-20220724084224999"></p>
<p>æ¥å—åˆ°é€šä¿¡ï¼Œ<code>Session</code>çš„<code>addToDisplayAsUser()</code>è¢«è°ƒç”¨ï¼Œ<code>Session</code>è¢«ä½œä¸ºå‚æ•°ï¼Œ<code>WMS</code>è°ƒç”¨<code>addWindow()</code>ï¼Œå°†å…¶ä¼ å…¥ï¼Œå‰©ä¸‹çš„å·¥ä½œéƒ½äº¤ç”±<code>WMS</code>å¤„ç†äº†</p>
<p><em><strong>com\android\server\wm\Session.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724090051102.png" alt="image-20220724090051102"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724092131849.png" alt="image-20220724092131849"></p>
<h3 id="5-2-Activityæ·»åŠ è¿‡ç¨‹"><a class="header-anchor" href="#5-2-Activityæ·»åŠ è¿‡ç¨‹">Â¶</a>5.2. Activityæ·»åŠ è¿‡ç¨‹</h3>
<p><code>performResumeActivity()</code>æœ€ç»ˆä¼šè°ƒç”¨<code>Activity</code>çš„<code>onResume()</code>ï¼Œç„¶å<code>getWindowManager()</code>ï¼Œè¿™æ˜¯ä¹‹å‰çš„ï¼Œè¿”å›çš„å…¶å®æ˜¯<code>WindowManagerImpl</code></p>
<p><em><strong>android\app\ActivityThread.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724092659689.png" alt="image-20220724092659689"></p>
<p>è°ƒç”¨<code>addView()</code>ï¼Œä¹‹åå’Œå…¶ä»–çš„<code>Window</code>æ·»åŠ è¿‡ç¨‹å°±å¾ˆç±»ä¼¼äº†ï¼Œè¿™é‡Œä¼ å…¥çš„æ˜¯<code>DecorView</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724092932953.png" alt="image-20220724092932953"></p>
<h3 id="5-3-Windowæ›´æ–°"><a class="header-anchor" href="#5-3-Windowæ›´æ–°">Â¶</a>5.3. Windowæ›´æ–°</h3>
<p>æ›´æ–°è¿‡ç¨‹çš„èµ·ç‚¹ä»<code>ViewManager</code>çš„<code>updateViewLayout()</code>å¼€å§‹ï¼Œå®é™…ä¸Šè°ƒç”¨äº†<code>WindowManagerImpl</code>çš„<code>updateViewLayout()</code></p>
<p><em><strong>android\view\WindowManagerImpl.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724093834650.png" alt="image-20220724093834650"></p>
<p>ç„¶åï¼Œä¹Ÿæ˜¯ç”±<code>WindowManagerGlobal</code>ç®¡äº‹ï¼ŒåŒæ ·æ˜¯æ“ä½œä¸‰ä¸ªåˆ—è¡¨ï¼Œè°ƒç”¨<code>ViewRootImpl</code>çš„<code>setLayoutParams()</code></p>
<p><em><strong>android\view\WindowManagerGlobal.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724094057194.png" alt="image-20220724094057194"></p>
<p>åœ¨<code>ViewRootImpl</code>çš„<code>setLayoutParams()</code>æœ€åè°ƒç”¨äº†<code>scheduleTraversals()</code></p>
<p><em><strong>android\view\ViewRootImpl.java</strong></em></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724094353430.png" alt="image-20220724094353430"></p>
<p>å¦‚æœä½¿ç”¨è¿‡<code>SysTrace</code>è¿™ç±»å·¥å…·åº”è¯¥å¾ˆç†Ÿæ‚‰è¿™ä¸ªåå­—ï¼Œ<strong>Choreographer</strong>ï¼Œè¿™é‡Œä¸UIç»˜åˆ¶å¼€å§‹å…³è”ä¸Šäº†ï¼Œå…¶ä¸»è¦ä»»åŠ¡æ˜¯æ¥å—æ˜¾ç¤ºç³»ç»Ÿçš„<code>VSync</code>ä¿¡å·ï¼Œåœ¨ä¸‹ä¸€å¸§æ¸²æŸ“æ—¶è¿›è¡Œä¸€äº›åŒæ­¥æ“ä½œ</p>
<p><code>postCallback()</code>å‘é€äº†ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡<code>TraversalRunnable</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724094618665.png" alt="image-20220724094618665"></p>
<p>å­—é¢ä¸Šçœ‹ï¼Œå«â€œéå†çº¿ç¨‹â€ï¼Œå®ƒçš„<strong>çº¿ç¨‹ä»»åŠ¡</strong>ä¸º<code>doTraversal()</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095124212.png" alt="image-20220724095124212"></p>
<p>æ‰€åšçš„ä¸»è¦äº‹æƒ…éƒ½åœ¨<code>performTraversals()</code>ä¸­</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095340908.png" alt="image-20220724095340908"></p>
<p><code>performTraversals()</code>ä¸­çš„ä»£ç é‡éå¸¸å¤§ï¼Œéƒ½æ˜¯ä¸<code>View</code>ç»˜åˆ¶ç›¸å…³çš„ï¼Œæ‰€è°“çš„éå†å…¶å®å°±æ˜¯<strong>éå†è§†å›¾æ ‘</strong></p>
<p>é¦–å…ˆï¼Œ<code>relayoutWindow()</code>å®é™…ä¼šå»è°ƒç”¨<code>mWindowSession.relayout()</code>ï¼Œè¿™åˆæ˜¯ä¸€ä¸ª<code>Binder</code>é€šä¿¡ï¼Œå’Œä¹‹å‰ä¸€æ ·ï¼Œåˆæ˜¯<code>WMS</code>å»å¤„ç†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095639510.png" alt="image-20220724095639510"></p>
<p>éšåï¼Œæ˜¯è‡ªå®šä¹‰<code>View</code>éœ€è¦äº†è§£çš„<strong>ä¸‰è¿</strong>ï¼Œä¹Ÿå°±æ˜¯<code>View</code>çš„å·¥ä½œæµç¨‹ï¼Œè¿™å‡ ä¸ªæ–¹æ³•åˆ†åˆ«å¯¹åº”äº†<code>View</code>çš„<code>onMeasure()</code>ã€<code>onLayout()</code>ã€<code>onDraW()</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095821478.png" alt="image-20220724095821478"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095903575.png" alt="image-20220724095903575"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220724095951390.png" alt="image-20220724095951390"></p>
<p>ä¸€æ–¹é¢é€šçŸ¥<code>WMS</code>å»æ›´æ–°ï¼Œå¦ä¸€æ–¹é¢è¿›è¡Œ<code>View</code>çš„ç»˜åˆ¶ï¼Œå®Œæˆäº†<code>Window</code>çš„æ›´æ–°</p>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>æºç åˆ†æ</tag>
      </tags>
  </entry>
  <entry>
    <title>AIDLå­¦ä¹ ä¹‹è·¯ï¼ˆä¸€ï¼‰</title>
    <url>/2023/03/05/AIDL%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>AIDLå­¦ä¹ ä¹‹è·¯ï¼ˆä¸€ï¼‰</h1>
<h2 id="1-ç®€ä»‹"><a class="header-anchor" href="#1-ç®€ä»‹">Â¶</a>1. ç®€ä»‹</h2>
<p><code>AIDL</code>å…¨ç§°ä¸º(Android Interface Definition Language)ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºè¿™åº”å½“æ˜¯ä¸€ç§<strong>å®šä¹‰æ¥å£</strong>çš„è¯­è¨€</p>
<h2 id="2-å…·ä½“åœºæ™¯"><a class="header-anchor" href="#2-å…·ä½“åœºæ™¯">Â¶</a>2. å…·ä½“åœºæ™¯</h2>
<p>å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯è¿›è¡Œé€šä¿¡æ—¶ï¼Œéœ€è¦å®šä¹‰<strong>åŒæ–¹éƒ½è®¤å¯çš„æ¥å£</strong>ï¼Œ<code>AIDL</code>è¿™æ˜¯ç”¨æ¥å®Œæˆè¿™ä»¶å·¥ä½œçš„<strong>å·¥å…·</strong></p>
<p><code>AIDL</code>ä¸»è¦åº”ç”¨äº<code>IPC</code>ï¼Œå³<strong>è¿›ç¨‹é—´é€šä¿¡</strong></p>
<h3 id="2-1-ä½ æ˜¯å¦çœŸçš„éœ€è¦AIDL"><a class="header-anchor" href="#2-1-ä½ æ˜¯å¦çœŸçš„éœ€è¦AIDL">Â¶</a>2.1. ä½ æ˜¯å¦çœŸçš„éœ€è¦AIDL</h3>
<p>é¦–å…ˆï¼Œå¦‚æœå¹¶ä¸éœ€è¦å®ç°IPCï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç»§æ‰¿<code>Binder</code>ç±»å®ç°<code>client-sever</code>é—´çš„é€šä¿¡</p>
<p>å…¶æ¬¡ï¼Œå¦‚æœçš„ç¡®éœ€è¦å®ç°IPCï¼Œä½†æ˜¯æ— éœ€å¤„ç†å¤šçº¿ç¨‹ï¼Œé‚£ä¹ˆåº”è¯¥é€šè¿‡<code>Messager</code>å®ç°ï¼Œå› ä¸º<code>Messager</code>èƒ½å¤Ÿä¿è¯ä¿¡æ¯æ˜¯<strong>ä¸²è¡Œ</strong>çš„ï¼ˆå…¶å®å†…éƒ¨ä¹Ÿæ˜¯é€šè¿‡<code>AIDL</code>å®ç°çš„ï¼‰</p>
<p>ç»¼ä¸Šï¼ŒçœŸæ­£éœ€è¦ä½¿ç”¨åˆ°<code>AIDL</code>çš„åœºæ™¯æ˜¯<strong>IPC</strong>å’Œ<strong>å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚</strong>å¹¶å­˜</p>
<h2 id="3-ä½¿ç”¨æ­¥éª¤"><a class="header-anchor" href="#3-ä½¿ç”¨æ­¥éª¤">Â¶</a>3. ä½¿ç”¨æ­¥éª¤</h2>
<ol>
<li>åˆ›å»º<code>.aidl</code>åç¼€åçš„æ–‡ä»¶ï¼Œå®šä¹‰éœ€è¦ç”¨åˆ°çš„æ¥å£</li>
<li>å®ç°å®šä¹‰çš„æ¥å£</li>
<li>å°†æ¥å£æš´éœ²ç»™å®¢æˆ·ç«¯ä½¿ç”¨</li>
</ol>
<h3 id="3-1-åˆ›å»º-aidlæ–‡ä»¶ï¼Œå®šä¹‰æ¥å£"><a class="header-anchor" href="#3-1-åˆ›å»º-aidlæ–‡ä»¶ï¼Œå®šä¹‰æ¥å£">Â¶</a>3.1. åˆ›å»º.aidlæ–‡ä»¶ï¼Œå®šä¹‰æ¥å£</h3>
<p>ä½¿ç”¨ASæ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®ï¼Œåœ¨å½“å‰æ¨¡å—çš„<code>src</code>ç›®å½•ä¸‹ç›´æ¥åˆ›å»ºä¸€ä¸ª<code>AIDL</code>æ–‡ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618164309730.png" alt="image-20220618164309730" style="zoom:80%;" />
<p>ç„¶åé‡å‘½åä¸º<code>IRemoteService</code>ï¼Œå› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ¥å£</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618164447861.png" alt="image-20220618164447861" style="zoom:80%;" />
<p>ç„¶åç‚¹å‡»<code>Finish</code>å®Œæˆåˆ›å»º</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618174858440.png" alt="image-20220618174858440"></p>
<p>ç°åœ¨é¡¹ç›®ç»“æ„ä¸­å¤šäº†ä¸€ä¸ª<code>aidl</code>ç›®å½•ï¼Œä¸‹é¢æœ‰ä¸€çº§å’Œ<code>java</code>åŒ…ä¸‹åŒ…åä¸€æ ·çš„ç›®å½•ï¼Œé‡Œé¢æ­£å¥½å°±æ˜¯åˆšåˆšåˆ›å»ºçš„<code>aidl</code>æ–‡ä»¶</p>
<p>ä»¥ä¸‹ä¸ºé»˜è®¤çš„aidlæ¨¡æ¿ï¼Œæˆ‘ä»¬æ¥å®šä¹‰è‡ªå·±çš„</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// IRemoteService.aidl</span></span><br><span class="line"><span class="keyword">package</span> com.minos.aidldemo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Declare any non-default types here with import statements</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IRemoteService</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demonstrates some basic types that you can use as parameters</span></span><br><span class="line"><span class="comment">     * and return values in AIDL.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">basicTypes</span><span class="params">(<span class="type">int</span> anInt, <span class="type">long</span> aLong, <span class="type">boolean</span> aBoolean, <span class="type">float</span> aFloat,</span></span><br><span class="line"><span class="params">            <span class="type">double</span> aDouble, String aString)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨æ­¤ä¹‹å‰ï¼Œéœ€è¦å…ˆäº†è§£ä¸€ä¸‹<code>AIDL</code>ä¸­æ”¯æŒçš„<strong>åŸºç¡€ç±»å‹</strong></p>
<h4 id="3-1-1-æ”¯æŒç±»å‹"><a class="header-anchor" href="#3-1-1-æ”¯æŒç±»å‹">Â¶</a>3.1.1. æ”¯æŒç±»å‹</h4>
<ul>
<li>æ‰€æœ‰çš„åŸºæœ¬ç±»å‹ï¼ˆå¦‚intã€floatç­‰ï¼‰</li>
<li>String</li>
<li>CharSequence</li>
<li>List</li>
<li>Map</li>
</ul>
<p>å…¶ä¸­ï¼Œå¯¹äº<code>List</code>ï¼Œ<code>Map</code>è¿™ç§<strong>å¤åˆç±»å‹</strong>çš„è¦æ±‚æ˜¯å…¶ä¸­çš„å…ƒç´ ç±»å‹å¿…é¡»ä¸ºâ‘ <strong>å‰é¢çš„æ”¯æŒç±»å‹</strong> ï¼Œæˆ–è€…æ˜¯â‘¡<strong>å…¶ä»–çš„AIDLæ¥å£ç±»å‹</strong>ï¼Œæˆ–è€…æ˜¯â‘¢<strong>å·²ç»å£°æ˜çš„Parcelableç±»å‹</strong></p>
<p>List -&gt; ArrayList(å®ä¾‹) [æ”¯æŒæŒ‡å®šæ³›å‹]</p>
<p>Map -&gt; HashMap(å®ä¾‹) [ä¸æ”¯æŒæŒ‡å®šæ³›å‹]</p>
<p>çŸ¥é“äº†AIDLå¯ä»¥æ”¯æŒçš„ç±»å‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¼€å§‹å®šä¹‰è‡ªå·±çš„æ¥å£</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªè¦ç”¨åˆ°çš„æ•°æ®ç±»å‹ï¼Œè¿™æ˜¯éœ€è¦åœ¨è¿›ç¨‹è¿›è¡Œä¼ é€’çš„æ•°æ®ç±»å‹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Msg</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> pid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Msg</span><span class="params">(String msg, <span class="type">int</span> pid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.pid = pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPid</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pid;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPid</span><span class="params">(<span class="type">int</span> pid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pid = pid;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç›´æ¥å®šä¹‰äº†ä¸€ä¸ªå¸¸è§çš„Beanç±»</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœéœ€è¦è¿™ä¸ªæ•°æ®å¯¹è±¡èƒ½å¤Ÿåœ¨è¿›ç¨‹é—´è¿›è¡Œä¼ é€’ï¼Œé‚£ä¹ˆè¿˜éœ€è¦è¿™ä¸ªç±»å®ç°<code>Parcelable</code>æ¥å£</p>
<p>è¿™æ˜¯Androidæä¾›çš„ä¸€ç§åºåˆ—åŒ–æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> android.os.Parcel;</span><br><span class="line"><span class="keyword">import</span> android.os.Parcelable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Msg</span> <span class="keyword">implements</span> <span class="title class_">Parcelable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> pid;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Msg</span><span class="params">(String msg, <span class="type">int</span> pid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">        <span class="built_in">this</span>.pid = pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPid</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPid</span><span class="params">(<span class="type">int</span> pid)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pid = pid;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">describeContents</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">writeToParcel</span><span class="params">(Parcel parcel, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">        parcel.writeString(<span class="built_in">this</span>.msg);</span><br><span class="line">        parcel.writeInt(<span class="built_in">this</span>.pid);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">protected</span> <span class="title function_">Msg</span><span class="params">(Parcel in)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = in.readString();</span><br><span class="line">        <span class="built_in">this</span>.pid = in.readInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Parcelable.Creator&lt;Msg&gt; CREATOR = <span class="keyword">new</span> <span class="title class_">Parcelable</span>.Creator&lt;Msg&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Msg <span class="title function_">createFromParcel</span><span class="params">(Parcel source)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Msg</span>(source);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Msg[] newArray(<span class="type">int</span> size) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Msg</span>[size];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŠŠæ•°æ®å¯¹è±¡çš„ç»“æ„å®šä¹‰å®Œæˆåï¼Œè¿˜éœ€è¦ä¸ºè¿™ä¸ªæ–°å®šä¹‰çš„æ•°æ®ç±»å‹è®¾ç½®ä¸€ä¸ª<strong>åŒåçš„AIDLæ–‡ä»¶</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.minos.aidldemo;</span><br><span class="line"></span><br><span class="line">parcelable Msg;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–‡ä»¶åªå£°æ˜äº†åˆšåˆšçš„ç±»å‹ï¼Œä½†æ˜¯æœ€ç»ˆå¹¶ä¸ä¼šå‚ä¸ç¼–è¯‘</p>
<p>ç”±äº<code>IRemoteService</code>ä¼šç”¨åˆ°è¿™ä¸ªç±»å‹ï¼Œå› æ­¤è¿˜éœ€è¦<code>import</code>å¯¼å…¥ä¸€ä¸‹è¿™ä¸ªç±»å‹</p>
<p><strong>å°½ç®¡åœ¨åŒä¸€ä¸ªåŒ…ä¸‹ï¼Œä¹Ÿä¾ç„¶éœ€è¦å†™<code>import</code></strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">// IRemoteService.aidl</span></span><br><span class="line"><span class="keyword">package</span> com.minos.aidldemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.minos.aidldemo.Msg;   <span class="comment">// éé»˜è®¤éƒ½è¦å¯¼å…¥</span></span><br><span class="line"><span class="comment">// Declare any non-default types here with import statements</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IRemoteService</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demonstrates some basic types that you can use as parameters</span></span><br><span class="line"><span class="comment">     * and return values in AIDL.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    Msg <span class="title function_">getResponse</span><span class="params">()</span>;   <span class="comment">// å®šä¹‰æ–¹æ³•ï¼Œè¿”å›è‡ªå®šä¹‰ç±»å‹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è‡³æ­¤ï¼Œå®ŒæˆAIDLæ–‡ä»¶çš„ç¼–å†™å·¥ä½œï¼Œå¼€å§‹<code>make</code>å¯¹åº”module</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618234933788.png" alt="image-20220618234933788"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618235036304.png" alt="image-20220618235036304"></p>
<p>æ¥ä¸‹æ¥ï¼ŒSDKä¼šä¸ºæˆ‘ä»¬ç”Ÿæˆå¯¹åº”çš„Javaæ–‡ä»¶</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618235316304.png" alt="image-20220618235316304"></p>
<p>å¯¹åº”moduleä¸‹buildçš„ç”Ÿæˆæ–‡ä»¶ä¸­å¯ä»¥æ‰¾åˆ°</p>
<p>å¤§æ¦‚çœ‹ä¸€ä¸‹ç»“æ„</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220618235400683.png" alt="image-20220618235400683"></p>
<p>è¿™é‡Œç³»ç»Ÿç”Ÿæˆäº†<code>IRemoteService.java</code>è¿™ä¸ªæ–‡ä»¶</p>
<p>å¯ä»¥çœ‹åˆ°ï¼Œé‡Œé¢æœ‰ä¸€ä¸ª<code>Stub</code>ç±»</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619085855544.png" alt="image-20220619085855544"></p>
<p>è¿™æ˜¯ä¸€ä¸ªé™æ€æŠ½è±¡ç±»ï¼Œå¹¶ä¸”ç»§æ‰¿äº†<code>Binder</code>ç±»ï¼Œå¹¶ä¸”å®ç°äº†<code>IRemoteService</code>æ¥å£</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619090614521.png" alt="image-20220619090614521"></p>
<p><code>asInterface()</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<code>Binder</code>ç±»å‹å‚æ•°ï¼Œå¹¶ä¸”å°†å…¶è½¬åŒ–ä¸ºå½“å‰çš„æ¥å£ç±»å‹è¿”å›ï¼Œå³<code>IRemoteService</code></p>
<h3 id="3-2-å®ç°å®šä¹‰çš„æ¥å£"><a class="header-anchor" href="#3-2-å®ç°å®šä¹‰çš„æ¥å£">Â¶</a>3.2. å®ç°å®šä¹‰çš„æ¥å£</h3>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> mBinder = <span class="keyword">object</span> : IRemoteService.Stub() &#123;</span><br><span class="line">            <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getResponse</span><span class="params">()</span></span>: Msg &#123;</span><br><span class="line">                <span class="keyword">return</span> Msg(</span><br><span class="line">                    <span class="string">&quot;msg from service at <span class="subst">$&#123;Thread.currentThread().name&#125;</span>\ntid is <span class="subst">$&#123;Thread.currentThread().id&#125;</span>\nmain thread id is <span class="subst">$&#123;mainLooper.thread.id&#125;</span>&quot;</span>,</span><br><span class="line">                    myPid()</span><br><span class="line">                )</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>å®ç°éœ€è¦ç”¨åˆ°çš„æ¥å£ï¼Œå³ä¹‹å‰å®šä¹‰çš„ï¼Œæ¶ˆæ¯ä¸­ä¼šæœ‰çº¿ç¨‹çš„ä¿¡æ¯å’Œè¿›ç¨‹id</p>
<h3 id="3-3-å°†æ¥å£æš´éœ²ç»™å®¢æˆ·ç«¯ä½¿ç”¨"><a class="header-anchor" href="#3-3-å°†æ¥å£æš´éœ²ç»™å®¢æˆ·ç«¯ä½¿ç”¨">Â¶</a>3.3. å°†æ¥å£æš´éœ²ç»™å®¢æˆ·ç«¯ä½¿ç”¨</h3>
<p>æ¥ä¸‹æ¥åˆ›å»ºä¸€ä¸ªæœåŠ¡ï¼Œå«<code>RemoteService</code></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619092515055.png" alt="image-20220619092515055" style="zoom:80%;" />
<p>éšååœ¨<code>onBind()</code>ä¸­è¿”å›ä¹‹å‰å®ç°çš„æ¥å£</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> mBinder = <span class="keyword">object</span> : IRemoteService.Stub() &#123;</span><br><span class="line">      <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getResponse</span><span class="params">()</span></span>: Msg &#123;</span><br><span class="line">          <span class="keyword">return</span> Msg(</span><br><span class="line">              <span class="string">&quot;msg from service at <span class="subst">$&#123;Thread.currentThread().name&#125;</span>\ntid is <span class="subst">$&#123;Thread.currentThread().id&#125;</span>\nmain thread id is <span class="subst">$&#123;mainLooper.thread.id&#125;</span>&quot;</span>,</span><br><span class="line">              Process.myPid()</span><br><span class="line">          )</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onBind</span><span class="params">(intent: <span class="type">Intent</span>)</span></span>: IBinder &#123;</span><br><span class="line">      <span class="keyword">return</span> mBinder   <span class="comment">// è¿”å›Binder</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åç¼–å†™<code>Activity</code>æ¨¡ä»¿ä¸€ä¸‹å®¢æˆ·ç«¯</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:app</span>=<span class="string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:tools</span>=<span class="string">&quot;http://schemas.android.com/tools&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">android:layout_height</span>=<span class="string">&quot;match_parent&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">tools:context</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">TextView</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/textView&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginStart</span>=<span class="string">&quot;20dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_marginTop</span>=<span class="string">&quot;100dp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;ç­‰å¾…...&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textSize</span>=<span class="string">&quot;24sp&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;parent&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;æ˜¾ç¤ºè¿›ç¨‹ID&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;@+id/textView&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">&quot;@+id/textView&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">Button</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:id</span>=<span class="string">&quot;@+id/button2&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_width</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:capitalize</span>=<span class="string">&quot;sentences&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:text</span>=<span class="string">&quot;GetResponse&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:textAllCaps</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintStart_toStartOf</span>=<span class="string">&quot;@+id/button&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">app:layout_constraintTop_toBottomOf</span>=<span class="string">&quot;@+id/button&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619093406935.png" alt="image-20220619093406935"></p>
<p>ç„¶åï¼Œç¼–å†™ä¸€ä¸‹ä¸šåŠ¡</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.minos.aidldemo</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> android.<span class="keyword">annotation</span>.SuppressLint</span><br><span class="line"><span class="keyword">import</span> android.content.ComponentName</span><br><span class="line"><span class="keyword">import</span> android.content.Intent</span><br><span class="line"><span class="keyword">import</span> android.content.ServiceConnection</span><br><span class="line"><span class="keyword">import</span> android.os.Bundle</span><br><span class="line"><span class="keyword">import</span> android.os.IBinder</span><br><span class="line"><span class="keyword">import</span> android.os.Process.myPid</span><br><span class="line"><span class="keyword">import</span> android.util.Log</span><br><span class="line"><span class="keyword">import</span> android.widget.Button</span><br><span class="line"><span class="keyword">import</span> android.widget.TextView</span><br><span class="line"><span class="keyword">import</span> androidx.appcompat.app.AppCompatActivity</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MainActivity</span> : <span class="type">AppCompatActivity</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> mRemoteService: IRemoteService? = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> mBind = <span class="literal">false</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> mPidText: TextView</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> mBtnShowPid: Button</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> mBtnGetResponse: Button</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> mConnection: ServiceConnection = <span class="keyword">object</span> : ServiceConnection &#123;</span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onServiceConnected</span><span class="params">(name: <span class="type">ComponentName</span>, service: <span class="type">IBinder</span>)</span></span> &#123;</span><br><span class="line">            <span class="comment">// è¿”å›æ¥å£çš„å¼•ç”¨ï¼Œåé¢é€šè¿‡è¯¥å¼•ç”¨å°±å¯ä»¥è¿›è¡Œæ“ä½œäº†</span></span><br><span class="line">            mRemoteService = IRemoteService.Stub.asInterface(service)</span><br><span class="line">            mBind = <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onServiceDisconnected</span><span class="params">(name: <span class="type">ComponentName</span>)</span></span> &#123;</span><br><span class="line">            mRemoteService = <span class="literal">null</span></span><br><span class="line">            mBind = <span class="literal">false</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SuppressLint(<span class="string">&quot;SetTextI18n&quot;</span>)</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_main)</span><br><span class="line">        mPidText = findViewById(R.id.textView)</span><br><span class="line">        mPidText.text = <span class="string">&quot;the client pid is <span class="subst">$&#123;myPid()&#125;</span>&quot;</span></span><br><span class="line">        mBtnShowPid = findViewById(R.id.button)</span><br><span class="line">        mBtnShowPid.setOnClickListener &#123;</span><br><span class="line">            <span class="keyword">if</span> (mBind) &#123;</span><br><span class="line">                Log.i(<span class="string">&quot;RemoteServiceMsg&quot;</span>, <span class="string">&quot;the service pid is <span class="subst">$&#123;mRemoteService?.response?.pid&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        mBtnGetResponse = findViewById(R.id.button2)</span><br><span class="line">        mBtnGetResponse.setOnClickListener &#123;</span><br><span class="line">            <span class="keyword">if</span> (mBind) &#123;</span><br><span class="line">                Log.i(<span class="string">&quot;RemoteServiceMsg&quot;</span>, <span class="string">&quot;<span class="subst">$&#123;mRemoteService?.response?.msg&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStart</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onStart()</span><br><span class="line">        <span class="keyword">val</span> intent = Intent(<span class="keyword">this</span>, RemoteService::<span class="keyword">class</span>.java)</span><br><span class="line">        bindService(intent, mConnection, BIND_AUTO_CREATE)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onStop</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onStop()</span><br><span class="line">        unbindService(mConnection)</span><br><span class="line">        mBind = <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>mRemoteService = IRemoteService.Stub.asInterface(service)</code>è¿™ä¸€å¥æ˜¯å…³é”®æ‰€åœ¨ï¼Œå®¢æˆ·ç«¯çš„æ“ä½œä¸»è¦æ˜¯åˆ©ç”¨è¯¥æ¥å£çš„å¼•ç”¨æ‰§è¡Œæ–¹æ³•çš„è°ƒç”¨</p>
<p>å¦‚æœæ˜¯<strong>éè·¨è¿›ç¨‹</strong>çš„æƒ…å†µä¸‹ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥ä½¿ç”¨<strong>å¼ºåˆ¶ç±»å‹è½¬æ¢</strong></p>
<p>æ¥ä¸‹æ¥ï¼Œå†åˆ°æ¸…å•æ–‡ä»¶ä¸­ä¿®æ”¹æ³¨å†Œæ¡ä»¶</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">service</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:name</span>=<span class="string">&quot;.RemoteService&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:process</span>=<span class="string">&quot;:remote&quot;</span>   &lt;!<span class="attr">--æŒ‡å®šè¿è¡Œåˆ°å¦ä¸€è¿›ç¨‹--</span>&gt;</span></span><br><span class="line">           android:enabled=&quot;true&quot;</span><br><span class="line">           android:exported=&quot;true&quot; /&gt;</span><br><span class="line"></span><br><span class="line">       <span class="tag">&lt;<span class="name">activity</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:name</span>=<span class="string">&quot;.MainActivity&quot;</span></span></span><br><span class="line"><span class="tag">           <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">               <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç°åœ¨Activityæ‰®æ¼”å®¢æˆ·ç«¯ï¼Œè€ŒServiceæ‰®æ¼”å¦ä¸€è¿›ç¨‹çš„æœåŠ¡ç«¯</p>
<p>æ¥ä¸‹æ¥è¿è¡Œé¡¹ç›®</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619100247704.png" alt="image-20220619100247704"></p>
<p>è¿™è¾¹æ˜¯æˆ‘ä»¬çš„ä¸¤ä¸ªè¿›ç¨‹ï¼Œ3010æ˜¯Activityæ‰€åœ¨çš„è¿›ç¨‹ï¼Œè€Œ3052æ˜¯Serviceæ‰€åœ¨è¿›ç¨‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220619100418790.png" alt="image-20220619100418790"></p>
<p>ç‚¹å‡»ä¸€ä¸‹â€œæ˜¾ç¤ºè¿›ç¨‹IDâ€æŒ‰é’®ï¼Œè¿™æ˜¯å¦ä¸€è¿›ç¨‹ä¸­Serviceè¿”å›çš„æ¶ˆæ¯</p>
<p><img src="C:%5CUsers%5CMinos%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220619100504780.png" alt="image-20220619100504780"></p>
<p>æ¥ç€ï¼Œå†ç‚¹å‡»â€GetResponseâ€œ</p>
<p><img src="C:%5CUsers%5CMinos%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220619100922653.png" alt="image-20220619100922653"></p>
<p>å¦‚æœ<strong>éè·¨è¿›ç¨‹é€šä¿¡ï¼Œä¸€å®šä¸ºä¸»çº¿ç¨‹</strong>ï¼Œè·¨è¿›ç¨‹çš„æ—¶å€™å¤„ç†çš„çº¿ç¨‹ä¾¿æ— æ³•é¢„æµ‹äº†</p>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>IPC</tag>
      </tags>
  </entry>
  <entry>
    <title>Dartå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/2023/03/05/Dart%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Dartå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1>
<p>ä½œä¸ºç¼–å†™<code>Flutter</code>åº”ç”¨çš„å·¥å…·è¯­è¨€ï¼Œå½“ç„¶è¿˜æ˜¯è¿˜æ˜¯è·‘ä¸æ‰çš„</p>
<blockquote>
<p>Dartæ˜¯é¢å‘å¯¹è±¡çš„ã€ç±»å®šä¹‰çš„ã€å•ç»§æ‰¿çš„è¯­è¨€ã€‚å®ƒçš„è¯­æ³•ç±»ä¼¼Cè¯­è¨€ï¼Œå¯ä»¥è½¬è¯‘ä¸ºJavaScriptï¼Œæ”¯æŒæ¥å£(interfaces)ã€æ··å…¥(mixins)ã€æŠ½è±¡ç±»(abstract classes)ã€å…·ä½“åŒ–æ³›å‹(reified generics)ã€å¯é€‰ç±»å‹(optional typing)å’Œsound type system ã€‚                                                                                 â€”â€”ç™¾åº¦ç™¾ç§‘</p>
</blockquote>
<p>ç”±Googleå¼€å‘ï¼Œ<code>Flutter</code>åŸºäº<code>Dart</code>å¼€å‘ï¼Œå¹¶ä¸”åœ¨2018å¹´ï¼Œ<code>Dart2</code>æˆä¸ºå¼ºç±»å‹è¯­è¨€ï¼Œæ€»çš„æ¥è¯´ï¼Œå®ƒè¿˜æ¯”è¾ƒæ–°ï¼Œç›®å‰å¯¹äºå®ƒçš„äº†è§£ä»åœç•™åœ¨å…¶æ˜¯<code>Flutter</code>çš„**â€œå·¥å…·è¯­è¨€â€**</p>
<h2 id="1-ç¨‹åºçš„å…¥å£"><a class="header-anchor" href="#1-ç¨‹åºçš„å…¥å£">Â¶</a>1. ç¨‹åºçš„å…¥å£</h2>
<p>è‡³å…³é‡è¦çš„ä¸€ç‚¹ï¼Œç¨‹åºçš„å…¥å£ï¼Œä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œ<code>Dart</code>è€å®æœ¬åˆ†åœ°éµå¾ªç€ä¼ ç»Ÿï¼Œä»¥<code>main()</code>ä½œä¸ºèµ·ç‚¹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">main() &#123;</span><br><span class="line">  <span class="comment">// æˆ–è€…void mainè¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&#x27;Hello Dart&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç›´æ¥å†™æˆ<code>main()</code>æˆ–è€…å‰é¢åŠ ä¸Š<code>void</code>è¡¨æ˜å…¶æ²¡æœ‰è¿”å›å€¼</p>
<h2 id="2-æ³¨é‡Š"><a class="header-anchor" href="#2-æ³¨é‡Š">Â¶</a>2. æ³¨é‡Š</h2>
<p>è‰¯å¥½çš„æ³¨é‡Šå¯¹äºæ‰€æœ‰ç¨‹åºå‘˜éƒ½å¾ˆé‡è¦ï¼ŒåŒ…æ‹¬è‡ªå·±</p>
<p><code>Dart</code>ä¸­æ”¯æŒå•è¡Œæ³¨é‡Šã€å¤šè¡Œæ³¨é‡Šä»¥åŠæ–‡æ¡£æ³¨é‡Š</p>
<h3 id="2-1-å•è¡Œæ³¨é‡Š"><a class="header-anchor" href="#2-1-å•è¡Œæ³¨é‡Š">Â¶</a>2.1. å•è¡Œæ³¨é‡Š</h3>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ³¨é‡Š</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªç”¨çš„æœ€ä¸ºé¢‘ç¹ï¼Œå¯¹äºå„ç§æ–¹æ³•ã€å˜é‡ã€è¯­å¥éƒ½å¾ˆé€‚ç”¨ï¼Œå°±åƒè¯»ä¹¦æ—¶åŠ æ‰¹æ³¨ä¸€æ ·</p>
<h3 id="2-2-å¤šè¡Œæ³¨é‡Š"><a class="header-anchor" href="#2-2-å¤šè¡Œæ³¨é‡Š">Â¶</a>2.2. å¤šè¡Œæ³¨é‡Š</h3>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¤šè¡Œæ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ— éæ˜¯å¤šæ³¨é‡Šå‡ è¡Œï¼Œå¦‚æœéœ€è¦æè¿°çš„å†…å®¹å¤šä¸€äº›å¯ä»¥ç”¨è¿™ä¸ª</p>
<h3 id="2-3-æ–‡æ¡£æ³¨é‡Š"><a class="header-anchor" href="#2-3-æ–‡æ¡£æ³¨é‡Š">Â¶</a>2.3. æ–‡æ¡£æ³¨é‡Š</h3>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Copyright (c) 2012, the Dart project authors.  Please see the AUTHORS file</span></span><br><span class="line"><span class="comment">// for details. All rights reserved. Use of this source code is governed by a</span></span><br><span class="line"><span class="comment">// BSD-style license that can be found in the LICENSE file.</span></span><br></pre></td></tr></table></figure>
<p>åƒè¿™ä¸ªæ³¨é‡Šå°±æ¯”è¾ƒè§„èŒƒäº†ï¼Œé€šå¸¸ç”¨åœ¨å£°æ˜ç±»å’Œæ–‡ä»¶æ—¶ï¼Œæ€»ä½“æè¿°ä½œç”¨æ—¶ä½¿ç”¨ï¼Œæœ€å¸¸è§çš„å°±æ˜¯åœ¨æºç é‡Œé¢</p>
<p>æ€»ä¹‹ï¼Œå¦‚æœä¸ç¡®å®šåœ¨å“ªé‡Œç”¨ä»€ä¹ˆæ ·çš„æ³¨é‡Šï¼Œæºç æ€»æ˜¯æœ€å¥½çš„å‚è€ƒ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204102325039.png" alt="image-20220410232524898" style="zoom:67%;" />
<h2 id="3-å˜é‡"><a class="header-anchor" href="#3-å˜é‡">Â¶</a>3. å˜é‡</h2>
<p>å˜é‡å¯ä»¥ä½¿ç”¨<code>var</code>è¿›è¡Œå®šä¹‰</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">&#x27;&#x27;</span>; <span class="comment">// ç±»å‹æ¨æ–­</span></span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘å™¨ä¼šæ ¹æ®åˆå§‹åŒ–çš„å€¼è¿›è¡Œ<code>ç±»å‹æ¨æ–­</code>ï¼Œè¿™é‡Œä¼šè¢«æ¨æ–­ä¸º<code>String</code></p>
<p>é™¤æ­¤ä»¥å¤–ï¼Œä¹Ÿå¯ä»¥<strong>ä½¿ç”¨æŒ‡å®šçš„ç±»å‹è¿›è¡Œå£°æ˜</strong></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span> s = <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ä½¿ç”¨æŒ‡å®šçš„ç±»å‹å£°æ˜ä¸ºè¯¥ç±»å‹çš„å˜é‡</p>
<h2 id="4-å¸¸é‡"><a class="header-anchor" href="#4-å¸¸é‡">Â¶</a>4. å¸¸é‡</h2>
<p>åœ¨<code>Dart</code>ä¸­ï¼Œå¸¸é‡é€šå¸¸ä½¿ç”¨<code>const</code>å’Œ<code>final</code>å£°æ˜</p>
<p>ä½¿ç”¨<code>const</code>è¡¨ç¤ºï¼Œå¯ä»¥ç›´æ¥æ›¿ä»£<code>var</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.14</span>; <span class="comment">// ç±»å‹æ¨å¯¼</span></span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ä½¿ç”¨<code>const</code>ï¼Œç¼–è¯‘å™¨å¯ä»¥æ ¹æ®èµ‹å€¼è¿›è¡Œç±»å‹æ¨å¯¼</p>
<p>ä¹Ÿå¯ä»¥ç›´æ¥åŠ ä¸Šå…·ä½“ç±»å‹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">String</span> DATE_FORMAT = <span class="string">&#x27;yyyy-MM-dd&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p><code>const</code>å£°æ˜çš„æ˜¯<strong>ç¼–è¯‘æœŸ</strong>å¸¸é‡ï¼Œå³åœ¨ç¨‹åºå¼€å§‹è¿è¡Œä¹‹å‰ï¼Œå°±è¿›è¡Œèµ‹å€¼</p>
<p><code>final</code>çš„ä½¿ç”¨æ–¹é¢åŒæ ·ä¹Ÿæœ‰ä¸¤ç§</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">final</span> now = <span class="keyword">new</span> <span class="built_in">DateTime</span>.now();  <span class="comment">// æƒ°æ€§åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">final</span> <span class="built_in">int</span> length = <span class="number">10</span>;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯å°¤å…¶éœ€è¦ä¸»è¦çš„æ˜¯ï¼Œ<code>final</code>å£°æ˜çš„å¸¸é‡å¯ä»¥æ¥å—å‡½æ•°è°ƒç”¨ï¼Œåªæœ‰å®ƒå¯ä»¥è·å–è¿è¡Œæ—¶çš„é‡è¿›è¡Œèµ‹å€¼ï¼Œè¿™ä¹Ÿæ˜¯å…¶ä¸<code>const</code>æœ€å¤§çš„ä¸åŒ</p>
<h2 id="5-æ•°æ®ç±»å‹"><a class="header-anchor" href="#5-æ•°æ®ç±»å‹">Â¶</a>5. æ•°æ®ç±»å‹</h2>
<p>ä¸å…¶ä»–å„ç±»ç¼–ç¨‹è¯­è¨€å¦‚å‡ºä¸€è¾™ï¼Œ<code>Dart</code>ä¹Ÿéœ€è¦ä¸°å¯Œçš„æ•°æ®ç±»å‹ç»™å¤„ç†çš„æ•°æ®åˆ†åˆ†ç±»</p>
<h3 id="5-1-å­—ç¬¦ä¸²"><a class="header-anchor" href="#5-1-å­—ç¬¦ä¸²">Â¶</a>5.1. å­—ç¬¦ä¸²</h3>
<p>è¿™ç»å¯¹æ˜¯æœ€æœ€æœ€å¸¸ç”¨åˆ°çš„ç±»å‹äº†</p>
<p><code>String</code>ç”¨æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œç›´æ¥å¯ä»¥ä½¿ç”¨<code>String</code>å£°æ˜è¯¥ç±»å‹çš„å˜é‡</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">String</span> s2 = <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>å•å¼•å·ã€åŒå¼•å·éƒ½å¯ä»¥ï¼Œä¿æŒä¸€ç§ä¹ æƒ¯è¾ƒå¥½</p>
<p>ä¸è¿‡å£°æ˜æ›´åŠ æ¨èçš„æ–¹å¼è¿˜æ˜¯ç›´æ¥è¿›è¡Œ<strong>ç±»å‹æ¨å¯¼</strong></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="string">&#x27;&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>é™¤æ­¤ä»¥å¤–ï¼Œ<code>Dart</code>è¿˜æä¾›äº†ä½¿ç”¨<code>'''</code>æˆ–<code>&quot;&quot;&quot;</code>æ‹¬èµ·æ¥çš„å†™æ³•ï¼Œç”¨æ¥è¾“å‡ºå¸¦æœ‰æ ¼å¼çš„å­—ç¬¦ä¸²</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">  <span class="built_in">String</span> s3 = <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">  Hello, </span></span><br><span class="line"><span class="string">    World!</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span>;</span><br><span class="line">  <span class="built_in">print</span>(s3);</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204112310753.png" alt="image-20220411231011454" style="zoom:100%;" />
<p>å’Œé¢„è§ˆçš„æ•ˆæœå®Œå…¨ä¸€è‡´</p>
<p>å­—ç¬¦ä¸²çš„æ‹¼æ¥æœ‰ä¸¤ç§ï¼Œä¸€ç§ä½¿ç”¨<code>+</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> s4 = <span class="string">&#x27;Happy&#x27;</span>;</span><br><span class="line"><span class="keyword">var</span> s5 = <span class="string">&#x27; Birthday!&#x27;</span>;</span><br><span class="line"><span class="built_in">print</span>(s4 + s5);</span><br></pre></td></tr></table></figure>
<p>è€Œå¦ä¸€ç§ä½¿ç”¨çš„æ˜¯<strong>æ¨¡æ¿å ä½</strong>ï¼Œè¿ç”¨<code>$</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;<span class="subst">$s4</span><span class="subst">$s5</span>&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨è¿™ç§æ–¹å¼å…ˆå ä½ï¼Œç¨‹åºä¼šæ›¿æ¢ï¼Œä¸<code>Kotlin</code>çš„æ¨¡æ¿å­—ç¬¦ä¸²å®Œå…¨ä¸€è‡´ï¼Œéå¸¸èˆ’é€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204112317308.png" alt="image-20220411231715184"></p>
<h3 id="5-2-æ•°å€¼ç±»å‹"><a class="header-anchor" href="#5-2-æ•°å€¼ç±»å‹">Â¶</a>5.2. æ•°å€¼ç±»å‹</h3>
<p>ä¸»è¦åˆ†ä¸ºæ•´æ•°ä¸æµ®ç‚¹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ•°å€¼ç±»å‹</span></span><br><span class="line"><span class="built_in">int</span> a = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">double</span> b = <span class="number">12.56</span>;</span><br></pre></td></tr></table></figure>
<p>æ•´æ•°ä½¿ç”¨<code>int</code>ï¼Œå°æ•°ä½¿ç”¨<code>double</code>ï¼Œç®€å•ç²—æš´ï¼Œå½“ç„¶ï¼ŒåŒæ ·æ¨èä½¿ç”¨ç±»å‹æ¨å¯¼</p>
<p>å¦å¤–ï¼Œ<code>int</code>å¯ä»¥ç›´æ¥èµ‹å€¼ç»™<code>double</code>ï¼Œåä¹‹ä¸å¯</p>
<h3 id="5-3-å¸ƒå°”ç±»å‹"><a class="header-anchor" href="#5-3-å¸ƒå°”ç±»å‹">Â¶</a>5.3. å¸ƒå°”ç±»å‹</h3>
<p>æ²¡æœ‰å¤ªå¤šå¯è¯´çš„ï¼Œ<code>bool</code>å®šä¹‰ï¼Œæ€»å…±ä¸¤ä¸ªå€¼ï¼štrueå’Œfalse</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">bool</span> flag = <span class="keyword">true</span>;</span><br><span class="line"><span class="keyword">var</span> mFlag = <span class="keyword">false</span>;  <span class="comment">// æ¨å¯¼</span></span><br></pre></td></tr></table></figure>
<h3 id="5-4-Listï¼ˆæ•°ç»„-é›†åˆï¼‰"><a class="header-anchor" href="#5-4-Listï¼ˆæ•°ç»„-é›†åˆï¼‰">Â¶</a>5.4. Listï¼ˆæ•°ç»„/é›†åˆï¼‰</h3>
<p><code>[]</code>å¯ä»¥å£°æ˜ä¸€ä¸ª<code>List</code>ï¼Œæ²¡æœ‰æŒ‡å®šç±»å‹çš„æƒ…å†µä¸‹ä»€ä¹ˆéƒ½å¯ä»¥å¾€é‡Œæ”¾</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list1 = [<span class="string">&#x27;å‘±å¤ª&#x27;</span>, <span class="number">666</span>, <span class="keyword">false</span>];</span><br><span class="line"><span class="built_in">print</span>(list1);</span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”<code>List</code>çš„<code>length</code>å±æ€§å¯ä»¥è·å–é•¿åº¦</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é•¿åº¦=<span class="subst">$&#123;list1.length&#125;</span>&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³è¦è®¿é—®<code>List</code>ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥é€šè¿‡<code>ç´¢å¼•</code>è¿›è¡Œè·å–</p>
<blockquote>
<p>å’Œå…¶ä»–è¯­è¨€ä¸€æ ·ï¼Œç´¢å¼•ä»0å¼€å§‹</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(list1[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ä½¿ç”¨<code>&lt;T&gt;</code>çš„æ–¹å¼ä¸º<code>List</code>ä¸­çš„å…ƒç´ é™å®šç±»å‹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list2 = &lt;<span class="built_in">String</span>&gt;[<span class="string">&#x27;é˜¿å‡¡æ&#x27;</span>, <span class="string">&#x27;é’¢é“ä¾ &#x27;</span>, <span class="string">&#x27;çš®å¡ä¸˜&#x27;</span>];</span><br><span class="line"><span class="built_in">print</span>(list2);</span><br></pre></td></tr></table></figure>
<p>è¿™å°±ä¸èƒ½è‡ªç”±å‘æŒ¥äº†ï¼Œå¿…é¡»æŒ‰ç…§è§„çŸ©åŠäº‹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> list3 = []; <span class="comment">// ç©ºList</span></span><br><span class="line">list3.add(<span class="string">&#x27;Van&#x27;</span>); <span class="comment">// å¢åŠ æ•°æ®</span></span><br></pre></td></tr></table></figure>
<p>ä¹Ÿå¯ä»¥å…ˆåˆ›å»ºç©ºçš„<code>List</code>ï¼Œç„¶åè°ƒç”¨<code>add()</code>å‘å…¶ä¸­å¡«å……å…ƒç´ ï¼Œæ„å»ºä¸€ä¸ªå®Œæ•´çš„<code>List</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå›ºå®šé•¿åº¦çš„é›†åˆ</span></span><br><span class="line"><span class="keyword">var</span> list4 = <span class="built_in">List</span>.filled(<span class="number">3</span>, <span class="number">1</span>); <span class="comment">// growableå±æ€§ä¸ºfalseï¼Œä¸å¯addï¼Œæ˜¾ç¤ºæ ‡æ˜trueå¯ä»¥add</span></span><br><span class="line">  <span class="comment">// list4.add(5);</span></span><br><span class="line"><span class="built_in">print</span>(list4);</span><br></pre></td></tr></table></figure>
<p>åœ¨<code>Java</code>ä¸­ï¼Œé›†åˆæ˜¯å¯ä»¥åŠ¨æ€å¢é•¿çš„ï¼Œè€Œæ•°ç»„åˆ™æ˜¯åœ¨å£°æ˜æ—¶ç»™å®šäº†å®¹é‡</p>
<p><code>List</code>çš„<code>filled(length, element)</code>æ–¹æ³•ä¼šåˆå§‹åŒ–æŒ‡å®šé•¿åº¦<code>length</code>çš„æ•°ç»„ï¼Œé‡Œé¢çš„å…ƒç´ ä½¿ç”¨ç»™å®šçš„<code>element</code></p>
<blockquote>
<p>è¿™ä¸ªæ–¹æ³•è¿”å›çš„<code>List</code>æ˜¯é»˜è®¤growableä¸ºfalseï¼Œä¹Ÿå°±æ˜¯ä¸å¯å¢é•¿çš„</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="keyword">external</span> <span class="keyword">factory</span> <span class="built_in">List</span>.filled(<span class="built_in">int</span> length, E fill, &#123;<span class="built_in">bool</span> growable = <span class="keyword">false</span>&#125;);</span><br></pre></td></tr></table></figure>
<p>æºç é‡Œèƒ½çœ‹åˆ°<code>growable</code>ï¼Œå¦‚æœæ˜¾ç¤ºè®¾ç½®ä¸ºtrueï¼Œå°±ä¼šè½¬å˜ä¸ºå…ˆå‰å‡ ä¸ª<code>List</code>é‚£æ ·ï¼Œå¯ä»¥åŠ¨æ€å¢é•¿ï¼Œå½“ç„¶ï¼Œä¸èƒ½å¢é•¿ï¼Œä½ çŒœ<code>addï¼ˆï¼‰</code>ä¼šä¸ä¼šæŠ¥é”™ğŸ˜</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿®æ”¹éå®šé•¿çš„é›†åˆçš„é•¿åº¦</span></span><br><span class="line">list1.length = <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>ç›´æ¥ä¿®æ”¹<code>length</code>é»˜è®¤ä¼š<code>set</code>ï¼ˆå½“ç„¶<code>List</code>å¾—æ˜¯èƒ½å˜çš„é‚£ç§ï¼‰</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">æ³¨é‡Šçš„è§£é‡Š å¦‚æœæ–°çš„é•¿åº¦æ›´å¤§ï¼Œæ–°å…ƒç´ ä¼šèµ‹å€¼nullï¼Œæ³¨æ„å½“å‰ç±»å‹æ˜¯å¦å…è®¸ç©ºå€¼</span></span></span><br><span class="line"><span class="comment">/// <span class="language-markdown">The list must be growable.</span></span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img202204112348039.png" alt="image-20220411234824911"></p>
<h3 id="5-5-Mapï¼ˆå­—å…¸-æ˜ å°„è¡¨ï¼‰"><a class="header-anchor" href="#5-5-Mapï¼ˆå­—å…¸-æ˜ å°„è¡¨ï¼‰">Â¶</a>5.5. Mapï¼ˆå­—å…¸/æ˜ å°„è¡¨ï¼‰</h3>
<p><code>Map</code>å¸¸ç”¨äºäºŒçº§åˆ—è¡¨</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Map å®šä¹‰ï¼Œç±»ä¼¼äºJsonæ•°æ®</span></span><br><span class="line">  <span class="keyword">var</span> map1 = &#123;</span><br><span class="line">    <span class="string">&#x27;name&#x27;</span>: <span class="string">&#x27;minos&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;age&#x27;</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="string">&#x27;hobbies&#x27;</span>: [<span class="string">&#x27;å”±&#x27;</span>, <span class="string">&#x27;è·³&#x27;</span>, <span class="string">&#x27;rap&#x27;</span>, <span class="string">&#x27;é­åœ°å¥‡&#x27;</span>]</span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰ä¼¼ä¹å’ŒJSä¸­çš„å¯¹è±¡å·®ä¸å¤šï¼Œ<code>key</code>å’Œ<code>value</code>å¯ä»¥æŒ‡å®šä»»æ„ç±»å‹ï¼Œä½†<code>key</code>é€šå¸¸ä½¿ç”¨<code>String</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®è®¿é—®</span></span><br><span class="line"><span class="built_in">print</span>(map1[<span class="string">&#x27;name&#x27;</span>]);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>key</code>æ¥è·å–<code>Map</code>å¯¹è±¡ä¸­ä¸ä¹‹å¯¹åº”çš„<code>value</code></p>
<p>å½“ä¸€ä¸ª<code>key</code>å¯¹åº”å¤šä¸ª<code>value</code>å°±ä¼šäº§ç”Ÿåˆ†ç»„çš„å½¢å¼ï¼Œä¹Ÿå°±äºŒçº§åˆ—è¡¨</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç©ºçš„mapå¹¶å‘å…¶ä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> map2 = <span class="built_in">Map</span>();</span><br><span class="line">map2[<span class="string">&#x27;name&#x27;</span>] = <span class="string">&#x27;ä¼åœ°é­”&#x27;</span>;</span><br><span class="line"><span class="built_in">print</span>(map2);</span><br></pre></td></tr></table></figure>
<p>å¦å¤–ï¼Œè°ƒç”¨<code>Map()</code>ä¼šåˆ›å»ºä¸€ä¸ªç©ºçš„<code>Map</code>å®ä¾‹ï¼Œ<code>Dart2</code>ä¸­çœå»äº†<code>new</code>å…³é”®å­—</p>
<p>ç›´æ¥é€šè¿‡ç»™<code>key</code>èµ‹å€¼ï¼Œå°±èƒ½æ·»åŠ å¯¹åº”æ•°æ®ï¼Œå¯¹åº”åˆ°<code>key</code>å’Œ<code>value</code>çš„å…³è”å…³ç³»</p>
<h2 id="6-ç±»å‹åˆ¤æ–­"><a class="header-anchor" href="#6-ç±»å‹åˆ¤æ–­">Â¶</a>6. ç±»å‹åˆ¤æ–­</h2>
<p>åœ¨ç¼–å†™ä»£ç æ—¶ï¼Œæœ‰çš„æ—¶å€™åªéœ€è¦<strong>å¯¹å…³æ³¨çš„ç‰¹å®šç±»å‹</strong>è¿›è¡Œå¤„ç†</p>
<p>è¿™ä¸ªæ—¶å€™å°±éœ€è¦<code>is</code>æ¥å¸®å¿™ç­›é€‰ä¸€ä¸‹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨iså…³é”®å­—åˆ¤æ–­ç±»å‹</span></span><br><span class="line"> <span class="comment">// å°¤å…¶æ˜¯æœåŠ¡å™¨è¿”å›</span></span><br><span class="line"> <span class="keyword">var</span> params = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"> <span class="keyword">if</span> (params <span class="keyword">is</span> <span class="built_in">String</span>) &#123;  <span class="comment">// æ‰€æœŸæœ›çš„</span></span><br><span class="line">   <span class="built_in">print</span>(params.length);</span><br><span class="line"> &#125; <span class="keyword">else</span> <span class="keyword">if</span> (params <span class="keyword">is</span> <span class="built_in">int</span>) &#123;</span><br><span class="line">   <span class="comment">// intå¤„ç†</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æ²¡æœ‰æŠŠæ¡ï¼Œæˆ–è€…æ‹…å¿ƒå‡ºé”™ï¼Œå¯ä»¥ä¿é™©ä¸€ç‚¹ï¼Œå–æ•°æ®æ—¶æ·»åŠ ä¸Šç±»å‹åˆ¤æ–­ï¼Œä»…å¤„ç†éœ€è¦çš„ï¼Œé˜²æ­¢è¿”å›äº†æ„æ–™ä¹‹å¤–çš„å†…å®¹</p>
<p><strong>åªæ‹¿éœ€è¦çš„ï¼Œå’Œè€ƒè™‘å„ç§ä»¥å¤–æƒ…å†µç›¸æ¯”ï¼Œè‡ªç„¶æ˜¯å‰è€…æ›´ç®€å•</strong></p>
]]></content>
      <categories>
        <category>Dart</category>
      </categories>
      <tags>
        <tag>è¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</title>
    <url>/2023/03/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</h1>
<h2 id="1-å†…ç½®åŸºç¡€ç»„ä»¶ï¼ˆå›¾æ–‡ï¼‰"><a class="header-anchor" href="#1-å†…ç½®åŸºç¡€ç»„ä»¶ï¼ˆå›¾æ–‡ï¼‰">Â¶</a>1. å†…ç½®åŸºç¡€ç»„ä»¶ï¼ˆå›¾æ–‡ï¼‰</h2>
<h3 id="1-1-Text"><a class="header-anchor" href="#1-1-Text">Â¶</a>1.1. Text</h3>
<p><code>Text</code>ç»„ä»¶å°±å¯ä»¥å½“æˆæ˜¯Androidé‡Œé¢çš„<code>TextView</code>ï¼Œç”¨æ¥æ˜¾ç¤ºä¸€æ®µæ–‡æœ¬</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(</span><br><span class="line">            <span class="string">&#x27;è™šè£ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„åŸç½ªï¼&#x27;</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            overflow: TextOverflow.ellipsis,</span><br><span class="line">            style: <span class="keyword">const</span> TextStyle(fontWeight: FontWeight.bold),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491574275681649157427277.png" alt=""></p>
<p>è¿™é‡Œå¤–é¢åŠ äº†<code>Container</code>ä½œä¸º<code>Text</code>ç»„ä»¶çš„çˆ¶å®¹å™¨</p>
<p><code>textAlign</code>å±æ€§ç”¨äºå±…ä¸­æ–‡æœ¬ï¼Œé‚£åº”å½“æ˜¯ç›¸å½“äº<code>Text</code>è‡ªèº«ï¼Œé‚£éœ€è¦å…³æ³¨ä¸€ä¸‹<code>Text</code>ç»„ä»¶è‡ªèº«æœ‰æ²¡æœ‰å˜åŒ–ï¼Œä¹‹å‰çš„<code>Align</code>ç»„ä»¶å’Œ<code>Container</code>çš„<code>alignment</code>å±æ€§éƒ½æ˜¯ä¼šä½¿å®¹å™¨å˜åŒ–çš„</p>
<p>å› æ­¤åŠ ä¸Šä¸€ä¸ªæ ·å¼å±æ€§ï¼ŒæŸ¥çœ‹ä¸€ä¸‹ç»„ä»¶çš„æœ‰æ•ˆåŒºåŸŸ</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(</span><br><span class="line">            <span class="string">&#x27;è™šè£ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„åŸç½ªï¼&#x27;</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            overflow: TextOverflow.ellipsis,</span><br><span class="line">            style: <span class="keyword">const</span> TextStyle(</span><br><span class="line">                fontWeight: FontWeight.bold,</span><br><span class="line">                backgroundColor: Colors.lightGreenAccent    <span class="comment">// åŠ ä¸Šä¸€ä¸ªèƒŒæ™¯è‰²</span></span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491580745661649158073901.png" alt=""></p>
<p>å¹¶æ²¡æœ‰å˜åŒ–ï¼Œä¾ç„¶æ˜¯&quot;<code>wrap_content</code>&quot;</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          width: <span class="number">300</span>,</span><br><span class="line">          height: <span class="number">300</span>,</span><br><span class="line">          child: Text(</span><br><span class="line">            <span class="string">&#x27;è™šè£ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„åŸç½ªï¼&#x27;</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            overflow: TextOverflow.ellipsis,</span><br><span class="line">            style: <span class="keyword">const</span> TextStyle(</span><br><span class="line">                fontWeight: FontWeight.bold,</span><br><span class="line">                backgroundColor: Colors.lightGreenAccent</span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„<code>textAlign</code>å¯ä»¥ç†è§£ä¸ºå°±æ˜¯æ–‡æœ¬ç»„ä»¶å¯¹äºå®ƒçš„å®¹å™¨çš„ä¸€ç§ä½ç½®</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491707415731649170741232.png" alt=""></p>
<p>æ–‡æœ¬ç»„ä»¶æ°å¥½åŒ…è£¹æ–‡å­—å†…å®¹ï¼Œä½†æ˜¯å¯¹é½æ˜¯ç›¸å¯¹äºçˆ¶çº§ç»„ä»¶ä¹Ÿå°±æ˜¯<code>Container</code>çš„</p>
<p>åœ¨<code>TextAlign</code>ä¸­æœ‰ä¸€æ®µæ³¨é‡Š</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="comment">/// <span class="language-markdown">Whether and how to align text horizontally.</span></span></span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè¡¨è¿°çš„æ˜¯è¯¥å¯¹é½åªæ˜¯æ°´å¹³æ–¹å‘ä¸Šçš„ï¼Œå› æ­¤ä¸Šæ–‡æ˜¯æ°´å¹³å±…ä¸­</p>
<br/>
<p><code>overflow</code>å±æ€§è™½ç„¶è®¾ç½®ï¼Œä½†æ­¤åˆ»å¹¶æœªç”Ÿæ•ˆï¼Œéœ€è¦æ”¹åŠ¨ä¸€ä¸‹çˆ¶å®¹å™¨ï¼Œä½¿æ–‡å­—æº¢å‡º</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491719935641649171993079.png" alt=""></p>
<p>ç”±äºçˆ¶å®¹å™¨å®½åº¦å˜å°äº†ï¼Œç©ºé—´æ˜¾å¾—å±€ä¿ƒï¼Œå› è€Œåœ¨æ˜¾ç¤ºä¸ä¸‹æ—¶ï¼Œä¼šé‡‡ç”¨å®ç°è®¾ç½®çš„æ–¹å¼å¯¹æ–‡æœ¬è¿›è¡Œçœç•¥</p>
<br/>
<p><code>style</code>å±æ€§ä¸»è¦å€ŸåŠ©äº<code>TextStyle</code>æ¥å®ç°æ ·å¼çš„ä¿®æ”¹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          width: <span class="number">100</span>,</span><br><span class="line">          height: <span class="number">300</span>,</span><br><span class="line">          child: Text(</span><br><span class="line">            <span class="string">&#x27;è™šè£ï¼Œæ˜¯æˆ‘æœ€å–œæ¬¢çš„åŸç½ªï¼&#x27;</span>,</span><br><span class="line">            textAlign: TextAlign.center,</span><br><span class="line">            overflow: TextOverflow.ellipsis,</span><br><span class="line">            style: <span class="keyword">const</span> TextStyle(</span><br><span class="line">              color: Colors.deepOrange,  <span class="comment">// å­—ä½“é¢œè‰²</span></span><br><span class="line">                fontWeight: FontWeight.bold,  <span class="comment">// åŠ ç²—</span></span><br><span class="line">                backgroundColor: Colors.lightGreenAccent,  <span class="comment">// èƒŒæ™¯</span></span><br><span class="line">              letterSpacing: <span class="number">10</span>  <span class="comment">// å­—é—´è·</span></span><br><span class="line">            ),</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491725205651649172519942.png" alt=""></p>
<h3 id="1-2-Image"><a class="header-anchor" href="#1-2-Image">Â¶</a>1.2. Image</h3>
<p><code>Image</code>ç»„ä»¶ä¸»è¦ç”¨æ¥å±•ç¤ºå›¾ç‰‡ï¼Œæ—¢å¯ä»¥æ˜¯ç½‘ç»œå›¾ç‰‡ï¼Œä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°èµ„æº</p>
<h4 id="1-2-1-æœ¬åœ°å›¾ç‰‡"><a class="header-anchor" href="#1-2-1-æœ¬åœ°å›¾ç‰‡">Â¶</a>1.2.1. æœ¬åœ°å›¾ç‰‡</h4>
<p>ä½¿ç”¨æœ¬åœ°å›¾ç‰‡èµ„æºé¦–å…ˆéœ€è¦è¿›è¡Œä¸€äº›é…ç½®</p>
<p>é¡¹ç›®çš„<strong>æ ¹ç›®å½•</strong>ä¸‹æ–°å»ºæ–‡ä»¶å¤¹<code>images</code>ï¼Œä»¥åŠå­çº§ç›®å½•<code>3.0x</code>ã€<code>2.0x</code>ï¼Œç³»ç»Ÿä¼šæ ¹æ®è®¾å¤‡ä¸åŒçš„åƒç´ å¯†åº¦è‡ªåŠ¨åŠ è½½</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16492581935801649258193278.png" alt=""></p>
<p>è¿™é‡Œå°±éšä¾¿ä¸€ç‚¹äº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16492587575791649258756960.png" alt=""></p>
<p>ç„¶åä¿®æ”¹é…ç½®æ–‡ä»¶<code>pubspec.yaml</code></p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># To add assets to your application, add an assets section, like this:</span></span><br><span class="line">  <span class="attr">assets:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">images/bg.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">images/2.0x/bg.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">images/3.0x/bg.jpg</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p><code>YAML</code>æ ¼å¼è¦å¯¹é½</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          child: Image.asset(<span class="string">&#x27;images/bg.jpg&#x27;</span>),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>assets</code>æ„é€ å™¨åŠ è½½</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16493438680106e05e5b6d944ca20128dcec4ab4d6774.png" alt="" style="zoom:80%;" />
<h4 id="1-2-2-ç½‘ç»œå›¾ç‰‡"><a class="header-anchor" href="#1-2-2-ç½‘ç»œå›¾ç‰‡">Â¶</a>1.2.2. ç½‘ç»œå›¾ç‰‡</h4>
<p>ä½¿ç”¨<code>network</code>æ„é€ å™¨å®ç°ç½‘ç»œå›¾ç‰‡åŠ è½½</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          width: <span class="number">300</span>,</span><br><span class="line">          height: <span class="number">300</span>,</span><br><span class="line">          child: Image.network(</span><br><span class="line">            <span class="string">&#x27;https://i0.hdslb.com/bfs/archive/ca375eb31fa90b8e23b88ed3433c2f60de1c2e6e.png&#x27;</span>,</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16492574445821649257443735.png" alt="" style="zoom:80%;" />
<blockquote>
<p>ç»„ä»¶è¿˜æ˜¯è¦åœ¨å…·ä½“åœºæ™¯ä½¿ç”¨ä¸­ç§¯ç´¯ï¼Œ**â€œæ¯å‘¨ç»„ä»¶â€**çš„è§†é¢‘å’Œç»„ä»¶APIæ–‡æ¡£æ‰æ˜¯æœ€æœ‰ç”¨çš„</p>
</blockquote>
<br/>
<p><a href="https://api.flutter.dev/flutter/widgets/widgets-library.html">Flutterç»„ä»¶åº“æ–‡æ¡£ï¼ˆhttps://api.flutter.dev/flutter/widgets/widgets-library.htmlï¼‰</a></p>
<p><a href="https://youtu.be/c1xLMaTUWCY">æ¯æ—¥ä¸€ç»„ä»¶ï¼ˆhttps://youtu.be/c1xLMaTUWCYï¼‰https://youtu.be/c1xLMaTUWCYï¼‰</a></p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/2023/03/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1>
<p>Flutterçš„å®˜æ–¹æ–‡æ¡£æä¾›äº†ä¸€ä¸ªç†å¿µâ€”â€”<strong>â€œä¸€åˆ‡çš†ä¸ºWidgetâ€</strong></p>
<p>ç”±æ­¤å¯ä»¥çœ‹å¾—å‡ºæ¥<code>Widget</code>åœ¨Flutterä¸­çš„é‡è¦åœ°ä½</p>
<h2 id="1-Widgetæ˜¯ä»€ä¹ˆï¼Ÿ"><a class="header-anchor" href="#1-Widgetæ˜¯ä»€ä¹ˆï¼Ÿ">Â¶</a>1. Widgetæ˜¯ä»€ä¹ˆï¼Ÿ</h2>
<p><code>Widget</code>æˆ‘ä»¬å°†å…¶ç†è§£ä¸º<strong>ç»„ä»¶</strong>ï¼Œä¸€ä¸ªåº”ç”¨çš„ç•Œé¢å¾€å¾€éƒ½æ¯”è¾ƒä¸°å¯Œï¼Œä¸Šé¢ä¼šæœ‰å„å¼å„æ ·çš„ç»„ä»¶ï¼Œåƒå›¾ç‰‡ã€æŒ‰é’®ã€æ’­æ”¾å™¨è¿™äº›éƒ½å¯ä»¥ç§°ä¸ºç»„ä»¶ã€‚</p>
<p>ç”±äºä¹‹å‰è‡ªå·±æ¥è§¦è¿‡<code>React</code>çš„å¼€å‘ï¼Œå› æ­¤æˆ‘è®¤ä¸ºï¼Œè¿™é‡Œçš„ç»„ä»¶å°±ç›¸å½“äºç¨‹åºä¸­çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒå…·æœ‰<strong>ä¸“é—¨</strong>çš„åŠŸèƒ½ï¼Œä¸ç”¨æˆ·è¿›è¡Œäº¤äº’ï¼Œå¤„ç†ç›¸åº”çš„æ•°æ®ï¼Œå°±åƒä½ æ‰“å¼€<code>Material Design</code>ç»„ä»¶åº“ä¸€æ ·ï¼Œé‡Œé¢å„ä¸ªç»„ä»¶éƒ½æ‰®æ¼”ç€ç‰¹å®šçš„è§’è‰²ï¼Œä¸ºäº†æŸä¸€ç§ç‰¹å®šçš„åŠŸèƒ½è€Œå­˜åœ¨ã€‚</p>
<p>æ‰“ä¸ªæ›´åŠ è´´è¿‘ç”Ÿæ´»çš„æ¯”æ–¹ï¼Œæˆ‘ä»¬åˆšæ¬è¿›æ–°å®¶ï¼Œè€Œç©ºè¡è¡çš„å±‹å­å°±æ˜¯æˆ‘ä»¬åŸå§‹çš„ç©ºç™½ç•Œé¢ï¼Œç„¶è€Œæˆ‘ä»¬çš„æ—¥å¸¸ç”Ÿæ´»æ€»æ˜¯éœ€è¦å„ç§å·¥å…·æˆ–è€…æ˜¯å®¶å…·æ¥æ»¡è¶³æˆ‘ä»¬çš„éœ€è¦ï¼Œé‚£ä¹ˆè¿™ç§éœ€è¦å°±ç›¸å½“äºæ˜¯ç»„ä»¶æ‰€éœ€è¦å…·å¤‡çš„åŠŸèƒ½ï¼Œæ¯ä¸ªå·¥å…·æˆ–è€…å®¶å…·åªæ˜¯<strong>ä¸“é—¨è´Ÿè´£æŸä¸€æ–¹é¢çš„åŠŸèƒ½</strong>ï¼Œæ­¤æ—¶ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå°±å¯ä»¥å°†å®¶å…·æˆ–å·¥å…·ç†è§£ä¸ºç¨‹åºæ„ä¹‰ä¸Šçš„ç»„ä»¶ï¼ŒåŒæ—¶ï¼Œè¿™äº›ç»„ä»¶çš„æ‘†æ”¾å’Œæ­é…ä¹Ÿå½¢æˆäº†ç•Œé¢ä¸Šä¸°å¯Œå¤šå½©çš„å¸ƒå±€ã€‚</p>
<h2 id="2-Widgetæœ‰å“ªäº›ï¼Ÿ"><a class="header-anchor" href="#2-Widgetæœ‰å“ªäº›ï¼Ÿ">Â¶</a>2. Widgetæœ‰å“ªäº›ï¼Ÿ</h2>
<ul>
<li>æ— çŠ¶æ€ç»„ä»¶ï¼ˆStateless Widgetï¼‰</li>
<li>æœ‰çŠ¶æ€ç»„ä»¶ï¼ˆStateful Widgetï¼‰</li>
</ul>
<p>å¯ä»¥å°†ç»„ä»¶æ ¹æ®çŠ¶æ€ç‰¹ç‚¹åˆ†ä¸ºä¸¤ä¸ªå¤§ç±»</p>
<h3 id="2-1-æ— çŠ¶æ€ç»„ä»¶"><a class="header-anchor" href="#2-1-æ— çŠ¶æ€ç»„ä»¶">Â¶</a>2.1. æ— çŠ¶æ€ç»„ä»¶</h3>
<p><code>StatelessWidget</code>ç±»ç›´æ¥ç»§æ‰¿äº<code>Widget</code>ç±»</p>
<p>æ— çŠ¶æ€ç»„ä»¶å…·ä½“åšäº›ä»€ä¹ˆäº‹å‘¢ï¼Ÿå®ƒçš„ä»»åŠ¡å¾ˆç®€å•ï¼Œä»…ä»…æ˜¯å°†éœ€è¦å±•ç¤ºçš„å†…å®¹è¿›è¡Œå‘ˆç°ï¼Œè€Œåå°±èººå¹³äº†ã€‚</p>
<p><code>StatelessWidget</code>æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œéœ€è¦é‡å†™æŠ½è±¡æ–¹æ³•<code>build()</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyWidget</span> <span class="keyword">extends</span> <span class="title">StatelessWidget</span> </span>&#123;</span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">      onPressed: () =&gt; &#123;&#125;,</span><br><span class="line">      child: <span class="keyword">const</span> Text(<span class="string">&#x27;Flutter&#x27;</span>)</span><br><span class="line">      ,</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ç®€å•ä½¿ç”¨ä¸€ä¸ª<code>TextButton</code>çš„å†…ç½®ç»„ä»¶æ„æˆç¬¬ä¸€ä¸ªæ— çŠ¶æ€ç»„ä»¶çš„å†…å®¹ï¼Œåœ¨<code>build</code>æ–¹æ³•ä¸­è¿”å›éœ€è¦å±•ç¤ºçš„<code>Widget</code>å¯¹è±¡</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204031715214.png" alt="image-20220403171552181" style="zoom:40%;" />
<h3 id="2-2-æœ‰çŠ¶æ€ç»„ä»¶"><a class="header-anchor" href="#2-2-æœ‰çŠ¶æ€ç»„ä»¶">Â¶</a>2.2. æœ‰çŠ¶æ€ç»„ä»¶</h3>
<p>æ— çŠ¶æ€ç»„ä»¶ä¼¼ä¹çœ‹èµ·æ¥æŒºç®€å•çš„ï¼Œæ¥ä¸‹æ¥å…³æ³¨ä¸€ä¸‹æœ‰çŠ¶æ€ç»„ä»¶ï¼Œå®ƒèƒ½å¤Ÿå®ç°ç»„ä»¶çŠ¶æ€çš„åˆ‡æ¢ã€‚</p>
<p>æœ‰çŠ¶æ€ç»„ä»¶éœ€è¦ç»§æ‰¿è‡ª<code>StatefulWidget</code>ç±»ï¼Œå¦å¤–ï¼Œç”±äºå…¶éœ€è¦å¯¹çŠ¶æ€è¿›è¡Œæ“ä½œï¼Œè¿˜ä¼šæ¶‰åŠåˆ°<code>State</code>ç±»</p>
<p>é¦–å…ˆï¼Œå…ˆå®šä¹‰ä¸€ä¸ªç»§æ‰¿äº<code>StatefulWidget</code>ç±»çš„ç»„ä»¶ï¼Œå¹¶ä¸”é‡å†™<code>createState()</code>æ–¹æ³•</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnotherWidget</span> <span class="keyword">extends</span> <span class="title">StatefulWidget</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> text = <span class="string">&#x27;ç©ºç©ºå¦‚ä¹Ÿ&#x27;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  _AnotherWidgetState createState() &#123;</span><br><span class="line">    <span class="keyword">return</span> _AnotherWidgetState();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç»™å‡ºtextä½œä¸ºä¸€ä¸ªç»„ä»¶çš„å±æ€§ï¼Œç”¨äºæ˜¾ç¤ºæ–‡æœ¬</p>
<p><code>State</code>ç±»æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œ<code>createState()</code>éœ€è¦è¿”å›ä¸€ä¸ªçŠ¶æ€ï¼Œå› æ­¤ï¼Œä¸“é—¨ä¸ºè¯¥ç»„ä»¶è®¾ç½®ä¸€ä¸ªçŠ¶æ€ç±»</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">_AnotherWidgetState</span> <span class="keyword">extends</span> <span class="title">State</span>&lt;<span class="title">AnotherWidget</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">String</span> textState = <span class="string">&quot;&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–çŠ¶æ€</span></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  <span class="keyword">void</span> initState() &#123;</span><br><span class="line">    textState = widget.text;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è‡ªå®šä¹‰ä¸€ä¸ªå‡½æ•°æ¥æ›´æ–°çŠ¶æ€</span></span><br><span class="line">  <span class="keyword">void</span> _changeText(<span class="built_in">String</span> s) &#123;</span><br><span class="line">    setState(() &#123;</span><br><span class="line">      textState = s;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@override</span></span><br><span class="line">  Widget build(BuildContext context) &#123;</span><br><span class="line">    <span class="keyword">return</span> TextButton(</span><br><span class="line">        onPressed: () =&gt; _changeText(<span class="string">&#x27;å†…æœ‰ç„æœº&#x27;</span>),</span><br><span class="line">        child: Text(textState)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå®šä¹‰è¯¥ç»„ä»¶çš„çŠ¶æ€ï¼Œè®©å…¶ç»§æ‰¿<code>State</code>ç±»ï¼Œä½¿ç”¨æ³›å‹è®©å®ƒå’Œå¯¹åº”çš„ç»„ä»¶é—´å»ºç«‹è”ç³»</p>
<p>è€Œåå¯¹åº”çš„æ³›å‹ä¼šè¢«èµ‹ç»™<code>State</code>çš„æˆå‘˜<code>widget</code>ä¸Šï¼Œé€šè¿‡è¯¥æˆå‘˜ä¾¿å¯ä»¥è·å–ä¹‹å‰å®šä¹‰çš„ç»„ä»¶ä¸Šçš„textå±æ€§</p>
<p>é‡å†™<code>initState()</code>æ–¹æ³•å¯¹çŠ¶æ€è¿›è¡Œåˆå§‹åŒ–çš„èµ‹å€¼æ“ä½œï¼Œè¿™é‡Œä½¿ç”¨textStateè®°å½•çŠ¶æ€</p>
<p><code>setState()</code>åˆ™æ˜¯ç”¨æ¥æ›´æ–°çŠ¶æ€çš„ï¼Œåœ¨è¿™é‡Œå°±æ˜¯å°†å˜é‡è¿›è¡Œä¿®æ”¹</p>
<p><code>build()</code>å°±åƒä¹‹å‰æ— çŠ¶æ€ç»„ä»¶é‡Œçš„ä¸€æ ·ï¼Œç”¨äºå‘ˆç°ç»„ä»¶ï¼Œåˆ©ç”¨å…¶<code>onPressed</code>å±æ€§ï¼Œç›‘å¬ç‚¹å‡»ï¼Œè§¦å‘çŠ¶æ€ä¿®æ”¹</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204032037870.png" alt="image-20220403203721828" style="zoom:50%;" /><img src="/Users/shenzhisheng/Library/Application Support/typora-user-images/image-20220403203810971.png" alt="image-20220403203810971" style="zoom:50%;" /></p>
<p>è¿™æ ·ï¼Œé€šè¿‡å¯¹äºå˜é‡textStateçš„ä¿®æ”¹ï¼Œæ›´æ–°äº†UIçš„æ–‡æœ¬æ˜¾ç¤º</p>
<h2 id="3-å‡ ä¸ªé‡è¦çš„æ–¹æ³•"><a class="header-anchor" href="#3-å‡ ä¸ªé‡è¦çš„æ–¹æ³•">Â¶</a>3. å‡ ä¸ªé‡è¦çš„æ–¹æ³•</h2>
<h3 id="3-1-setState"><a class="header-anchor" href="#3-1-setState">Â¶</a>3.1. setState()</h3>
<p>åœ¨æœ‰çŠ¶æ€ç»„ä»¶ä¸­ï¼Œé€šè¿‡æ•°æ®çš„å˜æ›´æ¥è§¦å‘UIçš„æ”¹å˜ï¼Œ<code>setState()</code>æ–¹æ³•å°±æ˜¯ç”¨æ¥æ“ä½œçŠ¶æ€çš„ï¼Œå®ƒæ‰€èµ·åˆ°çš„ä½œç”¨å°±æ˜¯<strong>è§¦å‘ç»„ä»¶æ ‘çš„é‡å»ºï¼Œå¹¶ä¸”å°†æ–°çš„çŠ¶æ€æ•°æ®æ›´æ–°åˆ°ç»„ä»¶ä¸Š</strong></p>
<p>åŸºäºä¸Šé¢çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‰ä¸‹æŒ‰é’®è§¦å‘<code>_changeText(String s)</code>æ–¹æ³•ï¼Œä»è€Œè°ƒç”¨å†…éƒ¨çš„`setState() é€šçŸ¥å…³è”çš„ç»„ä»¶è¿›è¡Œé‡å»ºï¼Œä»¥å‘ˆç°æ–°çš„çŠ¶æ€</p>
<h3 id="3-2-initState"><a class="header-anchor" href="#3-2-initState">Â¶</a>3.2. initState()</h3>
<p>è¿™æ˜¯ç»„ä»¶çŠ¶æ€å¯¹è±¡ä¸­ç¬¬ä¸€ä¸ªè¢«è°ƒç”¨çš„æ–¹æ³•ï¼Œæ­£å¦‚å…¶åå­—ä¸€æ ·ï¼Œä¸»è¦è¿›è¡Œä¸€äº›çŠ¶æ€åˆå§‹åŒ–çš„æ“ä½œï¼Œå±äºçŠ¶æ€ç”Ÿå‘½å‘¨æœŸé‡Œçš„å†…å®¹</p>
<h2 id="3-3-dispose"><a class="header-anchor" href="#3-3-dispose">Â¶</a>3.3. dispose()</h2>
<p>ä¸<code>initState()</code>ç›¸å¯¹åº”ï¼Œåœ¨çŠ¶æ€ç”Ÿå‘½å‘¨æœŸç»“æŸå‰è°ƒç”¨ï¼Œä¸»è¦ç”¨äºé‡Šæ”¾èµ„æº</p>
<h2 id="3-4-build"><a class="header-anchor" href="#3-4-build">Â¶</a>3.4. build()</h2>
<p>åœ¨æ— çŠ¶æ€ç»„ä»¶å’Œæœ‰çŠ¶æ€ç»„ä»¶çš„çŠ¶æ€ç±»ä¸­éƒ½æœ‰å®ƒçš„è¸ªå½±</p>
<p>ç»„ä»¶é€šè¿‡ç»„åˆå¾€å¾€ä¼šå½¢æˆæ›´åŠ å¤æ‚çš„ç»„ä»¶ï¼Œå°†ç»„ä»¶å‘ˆç°å‡ºæ¥çš„è¿‡ç¨‹æ€»æ˜¯ç¦»ä¸å¼€â€œå¥—å¨ƒâ€ã€‚å…¶å®è¿™ä¹Ÿæ˜¯å¯¹åº”äº†<strong>ç»„ä»¶æ ‘</strong>çš„æ¦‚å¿µ</p>
<p><code>build()</code>è¿”å›çš„<code>Widget</code>å…¶å®æ˜¯æœ€å¤–å±‚çš„ç»„ä»¶ï¼Œå› ä¸ºå°†é‡Œé¢çš„å†…å®¹ç›¸å½“äºæ‰“äº†ä¸ªåŒ…ï¼Œè¿™æ ·ä¾¿å°†æ•´ä¸ªéœ€è¦æ˜¾ç¤ºçš„å†…å®¹éƒ½å‡†å¤‡å¥½äº†</p>
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
    <url>/2023/03/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</h1>
<h2 id="1-æ¦‚è¿°"><a class="header-anchor" href="#1-æ¦‚è¿°">Â¶</a>1. æ¦‚è¿°</h2>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490749945651649074994467.png" alt="" style="zoom:50%;" />
<p>Flutterä¸­å…¶å®æä¾›å¾ˆå¤šç§ç±»çš„å†…ç½®ç»„ä»¶ï¼Œæ—¢æ¶‰åŠæœ‰çŠ¶æ€çš„ï¼Œä¹Ÿæ¶‰åŠæ— çŠ¶æ€çš„ï¼Œä½¿ç”¨è¿™äº›ç»„ä»¶è¿›è¡Œç»„åˆï¼Œå¾ˆå¿«èƒ½å¤Ÿå®Œæˆç•Œé¢å¸ƒå±€çš„æ­å»ºå·¥ä½œ</p>
<br/>
<h2 id="2-å®¹å™¨ç±»"><a class="header-anchor" href="#2-å®¹å™¨ç±»">Â¶</a>2. å®¹å™¨ç±»</h2>
<p>å®¹å™¨è‡ªç„¶æ˜¯è¦å¯ä»¥å°†å…¶ä»–ç»„ä»¶æ”¾åœ¨è‡ªå·±çš„å†…éƒ¨çš„ï¼Œæœ‰ç‚¹åƒAndroidé‡Œé¢çš„<code>ViewGroup</code>æˆ–è€…HTMLé‡Œé¢çš„<code>&lt;div&gt;</code></p>
<h3 id="2-1-Container"><a class="header-anchor" href="#2-1-Container">Â¶</a>2.1. Container</h3>
<p><code>Container</code>ç»„ä»¶çš„ä¸»è¦ä½œç”¨æ˜¯å°†å…¶ä»–ç»„ä»¶<strong>æ‰“åŒ…</strong>ï¼Œä»¥ä¾¿äºæ•´ä½“è¿›è¡Œä¿®é¥°æˆ–å®šä½</p>
<p>å¯ä»¥å°†è¿™é‡Œçš„<code>Container</code>çœ‹åšæ˜¯Androidé‡Œçš„æŸä¸€ç§å¸ƒå±€</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490838940271649083893967.png" alt=""></p>
<p>è¿™é‡ŒåªåŒ…å«ä¸€ä¸ª<code>Text</code>ç»„ä»¶ï¼Œå¹¶ä¸”è®¾ç½®äº†å®¹å™¨çš„èƒŒæ™¯è‰²ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Container</code>çš„å¤§å°ä¼šæ ¹æ®å†…å®¹çš„å¤§å°è‡ªé€‚åº”ï¼Œå¯ä»¥çœ‹åšæ˜¯Androidä¸­çš„<code>wrap_content</code></p>
<br/>
<p>å½“ç„¶ï¼Œå†…è¾¹è·çš„<code>padding</code>çš„æ•ˆæœä¹Ÿåˆ«æ— äºŒè‡´</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),   <span class="comment">// æ·»åŠ å†…è¾¹è·</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490841665651649084166405.png" alt=""></p>
<p><code>EdgeInsets.all()</code>ä»å¤–è¡¨å¤§è‡´èƒ½çŒœå‡ºæ¥æ˜¯å››å‘¨éƒ½è®¾ç½®ä¸ºç›¸åŒçš„æŒ‡å®šè¾¹è·</p>
<br/>
<p>ä½¿ç”¨<code>margin</code>å±æ€§æ— ç–‘æ˜¯æ·»åŠ ç»„ä»¶å››å‘¨çš„å¤–è¾¹è·çš„è®¾ç½®</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.greenAccent,</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),</span><br><span class="line">          margin: EdgeInsets.all(<span class="number">10.0</span>),    <span class="comment">// æ·»åŠ å¤–è¾¹è·ï¼Œå½“ç„¶ï¼Œè¿™é‡Œä¹Ÿæ˜¯å››å‘¨ä¸€èµ·åŠ äº†</span></span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490843445651649084343570.png" alt=""></p>
<br/>
<p><strong>è£…é¥°å™¨</strong>å¯ä»¥ç”¨æ¥åœ¨å®¹å™¨å†…éƒ¨æ·»åŠ ä¸€ä¸ªå›¾å½¢</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è£…é¥°å™¨ä¸å¯ä¸colorå±æ€§å…±å­˜</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">20.0</span>),</span><br><span class="line">          margin: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">          decoration: BoxDecoration(      <span class="comment">// æ·»åŠ è£…é¥°å™¨ï¼ŒåŒæ—¶å»æ‰colorå±æ€§ï¼Œå¦åˆ™ä¼šæŠ¥é”™</span></span><br><span class="line">            shape: BoxShape.circle,</span><br><span class="line">            color: Colors.lightBlueAccent</span><br><span class="line">          ),</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490848415681649084840871.png" alt=""></p>
<p>è¿™æ ·çœ‹èµ·æ¥æ˜¾ç„¶ä¸å¥½çœ‹ï¼Œ<strong>è£…é¥°å™¨çš„å¤§å°é»˜è®¤å—åˆ¶äºæ•´ä¸ªå®¹å™¨çš„å¤§å°</strong>ï¼Œè€Œå®¹å™¨çš„å¤§å°åˆæ˜¯è¢«å†…éƒ¨çš„å­ç»„ä»¶æ’‘èµ·æ¥çš„ï¼Œé‚£ä¹ˆåœ¨æœ‰é™çš„ç©ºé—´é‡Œåªèƒ½å…è®¸è¿™ä¹ˆå¤§çš„åœ†</p>
<p>å› ä¸ºè£…é¥°å™¨åœ¨<code>Container</code>å†…éƒ¨ï¼Œå› æ­¤åªè¦å¢åŠ ä¸€äº›<code>padding</code>ï¼Œè¿™æ ·å°±æœ‰æ›´å¤šç©ºé—´â€œå‘è‚²â€</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490855485651649085547838.png" alt=""></p>
<br/>
<p><strong>å¯¹é½å±æ€§</strong>ï¼Œä½œç”¨äº<code>Container</code>çš„å­çº§ç»„ä»¶</p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è¯¥å±æ€§ç›´æ¥è®¾ç½®åå½“å‰å®¹å™¨ä¼šç›´æ¥é“ºæ»¡çˆ¶å®¹å™¨ï¼Œæ„Ÿè§‰è¿™ä¸€ç‚¹å¾ˆå¥‡æ€ªï¼Œå¯èƒ½æ˜¯å› ä¸ºæœ¬èº«é»˜è®¤æƒ…å†µä¸‹è‡ªé€‚åº”ï¼Œæ²¡æœ‰åŠæ³•ä½“ç°è¯¥å±æ€§çš„æ•ˆæœå§ï¼Œä½†è¿™å°±æ”¹å˜è‡ªå·±ç”¨äºä½“ç°è¿™ç§æ•ˆæœå—ï¼Œè¿™ä¸ªç»„ä»¶çš„è¡¨ç°æ¬²ä¹Ÿå¤ªå¼ºäº†ğŸ˜‚</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.amber,</span><br><span class="line">          alignment: Alignment.topLeft,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490867335671649086732861.png" alt=""></p>
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥é€šè¿‡æŒ‡å®šå®½é«˜æˆ–è€…è¿›è¡Œå¸ƒå±€çº¦æŸè¦†ç›–è¯¥æ•ˆæœ</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          child: Text(<span class="string">&#x27;ä¼˜é›…æ°¸ä¸è¿‡æ—¶&#x27;</span>),</span><br><span class="line">          color: Colors.amber,</span><br><span class="line">          alignment: Alignment.topLeft,</span><br><span class="line">          width: <span class="number">200</span>,</span><br><span class="line">          height: <span class="number">100</span>,</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490869365741649086936336.png" alt=""></p>
<h3 id="2-2-Padding"><a class="header-anchor" href="#2-2-Padding">Â¶</a>2.2. Padding</h3>
<p>æ³¨æ„ï¼Œè¿™é‡Œçš„<code>Padding</code>ä¸æ˜¯ä¸€ä¸ªå±æ€§ï¼Œè€Œæ˜¯ä¸€ä¸ªç»„ä»¶</p>
<br/>
<p>ç®€å•äº†è§£ä¸€ä¸‹ä¹‹å‰æåˆ°çš„<code>EdgeInsets</code></p>
<p>å®ƒæ˜¯æŠ½è±¡ç±»<code>EdgeInsetsGeometry</code>çš„å­ç±»ï¼Œå¯ä»¥ç”¨æ¥æè¿°ç»„ä»¶å„ä¸ªæ–¹å‘ä¸Šçš„è·ç¦»</p>
<br/>
<p><code>Padding</code>ç»„ä»¶å®é™…ä¸Šä¸<code>Container</code>çš„<code>padding</code>å±æ€§å·®ä¸å¤šï¼Œä½†æ˜¯æ›´åŠ <strong>ä¸“ä¸€å’Œè½»é‡</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491234345651649123433576.png" alt="" style="zoom:70%;" />
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Padding(</span><br><span class="line">          padding: EdgeInsets.all(<span class="number">10.0</span>),</span><br><span class="line">          child: Container(</span><br><span class="line">            color: Colors.deepPurple,</span><br><span class="line">            child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ä¸ºç»„ä»¶&#x27;</span>),</span><br><span class="line">          )</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491233175681649123317120.png" alt=""></p>
<h3 id="2-3-Align"><a class="header-anchor" href="#2-3-Align">Â¶</a>2.3. Align</h3>
<p><code>Align</code>ç»„ä»¶é‡ç‚¹æè¿°çš„æ˜¯çˆ¶å­ç»„ä»¶ä¹‹é—´çš„å…³ç³»ï¼Œ<strong>å­ç»„ä»¶ç›¸å¯¹äºçˆ¶ç»„ä»¶çš„ä½ç½®</strong></p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è¿™é‡Œåœ¨ä½¿ç”¨<code>Align</code>ç»„ä»¶æ—¶å’Œä¹‹å‰<code>Container</code>çš„<code>alignment</code>å±æ€§æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œçˆ¶çº§éƒ½ä¼šè‡ªå·±æ‰©å±•èŒƒå›´</p>
</blockquote>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">         color: Colors.lightBlue,</span><br><span class="line">         child: Align(</span><br><span class="line">           alignment: Alignment.topLeft,</span><br><span class="line">           child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ç»„ä»¶&#x27;</span>),</span><br><span class="line">         ),</span><br><span class="line">       )</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œè®¾ç½®æ–‡æœ¬ç»„ä»¶ä½äºçˆ¶çº§ç»„ä»¶çš„å·¦ä¸Šè§’ï¼Œå¯ä»¥æƒ³è±¡çˆ¶çº§ç»„ä»¶ä¼šé»˜è®¤ä¸ºçˆ¶çº§çš„å¤§å°ï¼Œç„¶åå°†å­çº§ç»„ä»¶æ”¾åˆ°å·¦ä¸Šè§’ï¼ˆå› ä¸ºæ²¡æœ‰æŒ‡å®šå¤§å°ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491240515661649124051139.png" alt=""></p>
<p>é™¤äº†ä»£ç æšä¸¾çš„å‡ ä¸ªé¢„è®¾çš„ä½ç½®ï¼Œè¿˜å¯ä»¥é€šè¿‡<strong>æ ¡å‡†å€¼</strong>è¿›è¡ŒæŒ‡å®š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491242135651649124213167.png" alt="" style="zoom:50%;" />
<p><code>Align</code>ç»„ä»¶åœ¨å®šä¹‰ä¸­å°†ä¸€ä¸ªç»„ä»¶åœ¨æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ï¼Œæ°´å¹³æ–¹å‘ä¸Šç»„ä»¶ä»å·¦è‡³åˆ’åˆ†ä¸ºä¸º-1 ~ 1ï¼Œå‚ç›´æ–¹å‘ä¸Šç»„ä»¶ä»ä¸Šåˆ°ä¸‹åˆ’åˆ†ä¸º-1 ~ 1</p>
<p>å½“ç„¶ï¼ŒèŒƒå›´å¯ä»¥è¶…å‡ºï¼Œåªæ˜¯ä¸åœ¨ç»„ä»¶èŒƒå›´å†…äº†</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">Container(</span><br><span class="line">          color: Colors.lightBlue,</span><br><span class="line">          child: Align(</span><br><span class="line">            alignment: Alignment(<span class="number">0.5</span>, <span class="number">0.5</span>),</span><br><span class="line">            child: Text(<span class="string">&#x27;ä¸€åˆ‡çš†ç»„ä»¶&#x27;</span>),</span><br><span class="line">          )</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å¯ä»¥å°†å¯¹é½æ§åˆ¶å¾—æ›´åŠ ç²¾ç¡®</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16491253045671649125303770.png" alt="" style="zoom:50%;" />]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
  </entry>
  <entry>
    <title>Flutterå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</title>
    <url>/2023/03/05/Flutter%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/</url>
    <content><![CDATA[<h1>Flutterå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</h1>
<h2 id="1-åˆ—è¡¨ç»„ä»¶"><a class="header-anchor" href="#1-åˆ—è¡¨ç»„ä»¶">Â¶</a>1. åˆ—è¡¨ç»„ä»¶</h2>
<p>åœ¨å®é™…çš„åº”ç”¨ä¸­ï¼Œç»å¸¸ä¼šæœ‰éœ€è¦å‘ç”¨æˆ·æä¾›å¤§é‡æ•°æ®è¿›è¡Œé˜…è¯»çš„åœºæ™¯ï¼Œè¿™å°±éœ€è¦ä½¿ç”¨åˆ°åˆ—è¡¨ç»„ä»¶å±•ç¤ºæ•°æ®</p>
<h3 id="1-1-ListView"><a class="header-anchor" href="#1-1-ListView">Â¶</a>1.1. ListView</h3>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">ListView(</span><br><span class="line">          children: [</span><br><span class="line">            Text(<span class="string">&#x27;å†…å®¹&#x27;</span>),</span><br><span class="line">            ElevatedButton(</span><br><span class="line">                onPressed: () =&gt; &#123;&#125;,</span><br><span class="line">                child: Text(<span class="string">&#x27;æŒ‰é’®&#x27;</span>)</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<p>å¯¹äº<code>ListView</code>ç»„ä»¶è€Œè¨€æœ€é‡è¦çš„æ˜¯å†…å®¹ï¼Œä¹Ÿå°±æ˜¯<code>children</code>å±æ€§ï¼Œå®ƒæ‰€æ¥æ”¶çš„æ˜¯<code>Widget</code>åˆ—è¡¨ï¼Œç†è®ºä¸Šåªè¦æ˜¯<code>Widget</code>å°±å¯ä»¥æ”¾</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204082343867.png" alt="image-20220408234337755" style="zoom: 50%;" />
<p>é€šå¸¸æ˜¯ä½¿ç”¨<code>ListTile</code>ç»„ä»¶è¿›è¡Œæ­é…ä½¿ç”¨</p>
<p><code>ListTile</code>ä»£è¡¨çš„å°±æ˜¯åˆ—è¡¨ä¸­çš„ä¸€é¡¹ï¼Œåˆ©ç”¨å…¶å±æ€§å¯ä»¥æ–¹ä¾¿ç»„åˆåˆ—è¡¨é¡¹çš„æ ·å¼</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">ListTile(</span><br><span class="line">              leading: Image.network(<span class="string">&#x27;https://gimg2.baidu.com/image_search/src=http%3A%2F%2Ffile01.dysucai.com%2Fd%2Ffile%2Flan2018061913%2Fk0ajx12543d.jpg&amp;refer=http%3A%2F%2Ffile01.dysucai.com&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1651720679&amp;t=7c87729681050f86d1340f1412b7eb52&#x27;</span>),   <span class="comment">// å¼€å¤´çš„å›¾ç‰‡</span></span><br><span class="line">              title: Text(<span class="string">&#x27;æ ‡é¢˜&#x27;</span>),  <span class="comment">// æ ‡é¢˜</span></span><br><span class="line">              subtitle: Text(<span class="string">&#x27;äºŒçº§æ ‡é¢˜&#x27;</span>),    <span class="comment">// å­æ ‡é¢˜</span></span><br><span class="line">              trailing: Icon(Icons.keyboard_arrow_right),   <span class="comment">// ç»“å°¾çš„å›¾ç‰‡</span></span><br><span class="line">            ),</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šå°±æ˜¯<code>ListTile</code>å¸¸ç”¨çš„ä¸€äº›å±æ€§ï¼Œç„¶åå¤šå¤åˆ¶å‡ ä¸ª</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091341330.png" style="zoom: 50%;" />
<p><code>ListView</code>é»˜è®¤æ˜¯æ²¿å‚ç›´æ–¹å‘æ»šåŠ¨ï¼Œå¯ä»¥é€šè¿‡<code>scrollDirection</code>å±æ€§è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">ListView(</span><br><span class="line">          scrollDirection: Axis.horizontal,</span><br><span class="line">          children: [</span><br><span class="line">           Container(</span><br><span class="line">             width: <span class="number">150</span>,</span><br><span class="line">             color: Colors.blueAccent,</span><br><span class="line">           ),</span><br><span class="line">            Container(</span><br><span class="line">              width: <span class="number">150</span>,</span><br><span class="line">              color: Colors.yellowAccent,</span><br><span class="line">            ),</span><br><span class="line">            Container(</span><br><span class="line">              width: <span class="number">150</span>,</span><br><span class="line">              color: Colors.orangeAccent,</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091458840.png" alt="image-20220409145802224" style="zoom:50%;" />
<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>è®¾ç½®æ²¿æ°´å¹³æ–¹å‘æ»šåŠ¨ï¼Œé«˜åº¦ä¼šè‡ªé€‚åº”çˆ¶å®¹å™¨ï¼›è®¾ç½®å‚ç›´æ–¹å‘æ»šåŠ¨ï¼Œå®½åº¦ä¼šè‡ªé€‚åº”çˆ¶å®¹å™¨</p>
</blockquote>
<p>ä¹Ÿå¯ä»¥ä¸ºåˆ—è¡¨é¡¹è®¾ç½®å­ç»„ä»¶ä¸º<code>ListView</code>ï¼Œå®ç°åµŒå¥—</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">ListView(</span><br><span class="line">          scrollDirection: Axis.horizontal,</span><br><span class="line">          children: [</span><br><span class="line">           Container(</span><br><span class="line">             width: <span class="number">150</span>,</span><br><span class="line">             color: Colors.blueAccent,</span><br><span class="line">           ),</span><br><span class="line">            Container(</span><br><span class="line">              width: <span class="number">150</span>,</span><br><span class="line">              color: Colors.yellowAccent,</span><br><span class="line">              child: ListView(   <span class="comment">// å­ç»„ä»¶ä¾ç„¶æ˜¯åˆ—è¡¨</span></span><br><span class="line">                children: [</span><br><span class="line">                  Container(</span><br><span class="line">                    height: <span class="number">250</span>,</span><br><span class="line">                    color: Colors.black,</span><br><span class="line">                  ),</span><br><span class="line">                  Container(</span><br><span class="line">                    height: <span class="number">250</span>,</span><br><span class="line">                    color: Colors.white,</span><br><span class="line">                  ),</span><br><span class="line">                  Container(</span><br><span class="line">                    height: <span class="number">250</span>,</span><br><span class="line">                    color: Colors.red,</span><br><span class="line">                  )</span><br><span class="line">                ],</span><br><span class="line">              ),</span><br><span class="line">            ),</span><br><span class="line">            Container(</span><br><span class="line">              width: <span class="number">150</span>,</span><br><span class="line">              color: Colors.orangeAccent,</span><br><span class="line">            )</span><br><span class="line">          ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091503414.png" alt="image-20220409150334357" style="zoom:50%;" />
<h3 id="1-2-GridView"><a class="header-anchor" href="#1-2-GridView">Â¶</a>1.2. GridView</h3>
<p>ç”¨äºä»¥ç½‘æ ¼çš„å½¢å¼å‘ˆç°æ•°æ®çš„ç»„ä»¶ï¼Œå› ä¸ºé»˜è®¤æ˜¯æ²¿å‚ç›´æ–¹å‘æ»šåŠ¨çš„ï¼Œå› æ­¤å‚ç›´æ–¹å‘ä¸º<code>ä¸»è½´</code>ï¼Œæ°´å¹³æ–¹å‘ä¾¿æ˜¯<code>å‰¯è½´</code></p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">            crossAxisCount: <span class="number">2</span>,  <span class="comment">// åˆ—æ•°ï¼Œå‰¯è½´</span></span><br><span class="line">            children: [</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.deepOrange,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.lightBlue,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.blueGrey,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.amber,</span><br><span class="line">              )</span><br><span class="line">        ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091621467.png" alt="image-20220409162101304" style="zoom:50%;" />
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">            crossAxisCount: <span class="number">2</span>,  <span class="comment">// åˆ—æ•°ï¼Œå‰¯è½´</span></span><br><span class="line">            mainAxisSpacing: <span class="number">10</span>,   <span class="comment">// æ²¿ä¸»è½´çš„é—´éš™</span></span><br><span class="line">            crossAxisSpacing: <span class="number">20</span>,   <span class="comment">// æ²¿å‰¯è½´çš„é—´éš™</span></span><br><span class="line">            children: [</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.deepOrange,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.lightBlue,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.blueGrey,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.amber,</span><br><span class="line">              )</span><br><span class="line">        ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091623947.png" alt="image-20220409162313898" style="zoom:50%;" />
<p><code>GridView</code>ä¸­çš„æ¯ä¸€é¡¹éƒ½æ˜¯è¿›è¡Œè‡ªé€‚åº”çš„ï¼Œéœ€è¦ä¿®æ”¹itemçš„æ¯”ä¾‹éœ€è¦é€šè¿‡<code>childAspectRatio</code>è®¾ç½®</p>
<figure class="highlight dart"><table><tr><td class="code"><pre><span class="line">GridView.count(</span><br><span class="line">            crossAxisCount: <span class="number">2</span>,  <span class="comment">// åˆ—æ•°ï¼Œå‰¯è½´</span></span><br><span class="line">            mainAxisSpacing: <span class="number">10</span>,   <span class="comment">// æ²¿ä¸»è½´çš„é—´éš™</span></span><br><span class="line">            crossAxisSpacing: <span class="number">20</span>,   <span class="comment">// æ²¿å‰¯è½´çš„é—´éš™</span></span><br><span class="line">            childAspectRatio: <span class="number">0.8</span>,  <span class="comment">// å­é¡¹å®½é«˜æ¯”</span></span><br><span class="line">            children: [</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.deepOrange,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.lightBlue,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.blueGrey,</span><br><span class="line">              ),</span><br><span class="line">              Container(</span><br><span class="line">                color: Colors.amber,</span><br><span class="line">              )</span><br><span class="line">        ],</span><br><span class="line">        )</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204091628375.png" alt="image-20220409162840338" style="zoom:50%;" />
]]></content>
      <categories>
        <category>Flutter</category>
      </categories>
      <tags>
        <tag>Widget</tag>
      </tags>
  </entry>
  <entry>
    <title>Gradleå­¦ä¹ â€”â€”GroovyåŸºç¡€</title>
    <url>/2023/03/05/Gradle%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Groovy%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<h1>Gradleå­¦ä¹ â€”â€”GroovyåŸºç¡€</h1>
<blockquote>
<p>Groovyå®˜æ–¹æ–‡æ¡£ï¼š<a href="http://www.groovy-lang.org/documentation.html">The Apache Groovy programming language - Documentation (groovy-lang.org)</a></p>
</blockquote>
<h2 id="1-æ¦‚è¿°"><a class="header-anchor" href="#1-æ¦‚è¿°">Â¶</a>1. æ¦‚è¿°</h2>
<p>å€Ÿç”¨ä¸€ä¸‹Apacheå®˜æ–¹çš„å›¾</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703142755139.png" alt="image-20220703142755139" style="zoom:80%;" />
<p>å¤§ä½“ä¸Šçœ‹ï¼Œå®˜æ–¹å°†Groovyæè¿°ä¸ºä¸€ä¸ª<strong>Javaå¹³å°ä¸Šçš„å¤šé¢æ‰‹</strong></p>
<p>è¿™é‡Œåˆ—ä¸¾äº†å¾ˆå¤šå†…å®¹ï¼Œæˆ‘ä»¬ä¸»è¦éœ€è¦äº†è§£åˆ°Groovyæ˜¯<strong>åŸºäºJVMçš„é¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€</strong>å°±è¡Œäº†</p>
<h2 id="2-ç¼–å†™ä¸è°ƒè¯•æ­¥éª¤"><a class="header-anchor" href="#2-ç¼–å†™ä¸è°ƒè¯•æ­¥éª¤">Â¶</a>2. ç¼–å†™ä¸è°ƒè¯•æ­¥éª¤</h2>
<ul>
<li>
<p>ç›®å½•åˆ›å»º<code>build.gradle</code>æ–‡ä»¶</p>
</li>
<li>
<p><code>build.gradle</code>æ–‡ä»¶ä¸­åˆ›å»º<code>task</code></p>
</li>
<li>
<p><code>task</code>ä¸­ç”¨<code>Groovy</code>ç¼–å†™é€»è¾‘</p>
</li>
<li>
<p><code>build.gradle</code>æ‰€åœ¨çš„ç›®å½•ä¸‹è¿è¡Œ<code>gradle &lt;taskåç§°&gt;</code></p>
</li>
</ul>
<h2 id="3-å˜é‡å®šä¹‰"><a class="header-anchor" href="#3-å˜é‡å®šä¹‰">Â¶</a>3. å˜é‡å®šä¹‰</h2>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> a = <span class="number">1</span>    <span class="comment">// æ ¹æ®åˆå§‹åŒ–çš„å€¼ï¼Œæ¨æ–­ä¸ºintç±»å‹ </span></span><br><span class="line"><span class="type">int</span> b = <span class="number">2</span>    <span class="comment">// æŒ‡æ˜ç±»å‹ä¸ºint</span></span><br><span class="line"><span class="keyword">def</span> c = <span class="string">&quot;3&quot;</span>  <span class="comment">// æ¨æ–­ä¸ºString</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703152340601.png" alt="image-20220703152340601"></p>
<p>é»˜è®¤æƒ…å†µä¸‹çš„è®¿é—®ä¿®é¥°ç¬¦éƒ½æ˜¯<code>public</code></p>
<h2 id="4-æ–¹æ³•å®šä¹‰"><a class="header-anchor" href="#4-æ–¹æ³•å®šä¹‰">Â¶</a>4. æ–¹æ³•å®šä¹‰</h2>
<p>ä¸å˜é‡çš„å®šä¹‰éå¸¸ç±»ä¼¼ï¼Œå¦‚æœæŒ‡æ˜è¿”å›ç±»å‹å°±å¯ä»¥ä¸ä½¿ç”¨<code>def</code>ï¼Œé»˜è®¤æƒ…å†µä¸‹è®¿é—®ä¿®é¥°ç¬¦ç±»å‹ä¹Ÿæ˜¯<code>public</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> add(a, b) &#123;</span><br><span class="line">    println a + b</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å‚æ•°ä¹Ÿå¯ä»¥ä¸å£°æ˜ç±»å‹ï¼Œä¾èµ–äºè°ƒç”¨çš„æ—¶å€™è¿›è¡Œæ¨æ–­</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703155330059.png" alt="image-20220703155330059"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703155258563.png" alt="image-20220703155258563"></p>
<p>è°ƒç”¨çš„åœ°æ–¹æ ¹æ®ä¼ å…¥å‚æ•°çš„ç±»å‹è¿›è¡Œäº†æ¨æ–­ï¼Œç¡®å®šäº†å®šä¹‰çš„å‚æ•°ç±»å‹</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> minus(a, b) &#123;</span><br><span class="line">    println a - b</span><br><span class="line">    a - b   <span class="comment">// è‡ªåŠ¨ä½œä¸ºè¿”å›å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç”šè‡³å¯ä»¥åœ¨è°ƒç”¨æ—¶ä¸å†™æ‹¬å·</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">minus a, b   <span class="comment">// è°ƒç”¨æ—¶å¯çœç•¥æ‹¬å·</span></span><br></pre></td></tr></table></figure>
<p>æ–¹æ³•ä½“ä¸­å¦‚æœæ²¡æœ‰<code>return</code>ï¼Œé‚£ä¹ˆ<strong>æœ€åä¸€è¡Œå†…å®¹ä¼šä½œä¸ºæ–¹æ³•çš„è¿”å›å€¼</strong></p>
<blockquote>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>è¯­å¥åçš„åˆ†å·å¯ä»¥çœç•¥</li>
<li>æ–¹æ³•çš„æ‹¬å·å¯ä»¥çœç•¥</li>
<li>å‚æ•°ç±»å‹å¯ä»¥çœç•¥</li>
<li>returnè¯­å¥ä¹Ÿå¯ä»¥çœç•¥</li>
</ul>
</blockquote>
<h2 id="5-ç±»"><a class="header-anchor" href="#5-ç±»">Â¶</a>5. ç±»</h2>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;     <span class="comment">// å®šä¹‰ç±»</span></span><br><span class="line">    String name</span><br><span class="line">    Integer age = <span class="number">18</span></span><br><span class="line">    <span class="keyword">def</span> gender = <span class="string">&quot;male&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> sayHello() &#123;</span><br><span class="line">        println <span class="string">&quot;Hello, my name is &quot;</span> + name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> person = <span class="keyword">new</span> Person()   <span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line">person.name = <span class="string">&quot;Bob&quot;</span></span><br><span class="line">person.sayHello()    </span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703165005881.png" alt="image-20220703165005881"></p>
<p>é»˜è®¤çš„ç±»ä¿®é¥°ç¬¦æ˜¯<code>public</code><br>
å¹¶ä¸”æ²¡æœ‰è®¾ç½®å¯è§ä¿®é¥°ç¬¦çš„å­—æ®µä¼šè‡ªåŠ¨ç”Ÿæˆå¯¹åº”çš„<code>setter</code>å’Œ<code>getter</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703165210941.png" alt="image-20220703165210941"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703165228971.png" alt="image-20220703165228971"></p>
<h2 id="6-è¯­å¥"><a class="header-anchor" href="#6-è¯­å¥">Â¶</a>6. è¯­å¥</h2>
<h3 id="6-1-æ–­è¨€"><a class="header-anchor" href="#6-1-æ–­è¨€">Â¶</a>6.1. æ–­è¨€</h3>
<p>é¦–å…ˆéœ€è¦æ³¨æ„ï¼ŒGroovyçš„æ–­è¨€<strong>ä¸€ç›´å¤„äºå¼€å¯çŠ¶æ€</strong>ï¼Œå¯ä»¥ç”¨ä½œ<strong>å•å…ƒæµ‹è¯•</strong></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">assert</span> <span class="number">1</span> + <span class="number">1</span> == <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>è¿™æ˜¯ä¸€æ¡ç®€å•çš„æ–­è¨€ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™å°†ä¼šå¤±è´¥</p>
<p>æ–­è¨€å¤±è´¥æ—¶ï¼Œç¨‹åºä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶ä¸”ä¸­æ­¢</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703170510424.png" alt="image-20220703170510424"></p>
<p>é‚£ä¹ˆï¼Œæˆ‘ä»¬æ ¹æ®é”™è¯¯å»æ£€æŸ¥åŸå› ï¼Œå¹¶ä¿®å¤</p>
<p>å¦‚æœæ–­è¨€æˆåŠŸï¼Œå¹¶ä¸ä¼šæœ‰ä»€ä¹ˆäº‹æƒ…å‘ç”Ÿ</p>
<h3 id="6-2-forå¾ªç¯"><a class="header-anchor" href="#6-2-forå¾ªç¯">Â¶</a>6.2. forå¾ªç¯</h3>
<p>å…³äºforå¾ªç¯ï¼ŒGroovyé¦–å…ˆæ”¯æŒJavaçš„<code>for(int i = 0;i &lt; N;i ++)</code>å’Œ<code>for(i in array)</code>è¿™ä¸¤ç§å½¢å¼çš„å¾ªç¯è¯­å¥</p>
<p>å¦å¤–è¿˜æ”¯æŒä¸€ç§<code>for in loop</code>å½¢å¼ï¼Œèƒ½å¤Ÿæ”¯æŒå¤šç§ç±»å‹çš„éå†</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éå†åŒºé—´</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0.</span><span class="number">.5</span>) &#123;</span><br><span class="line">	println i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703173459074.png" alt="image-20220703173459074"></p>
<p>â€‹</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éå†åˆ—è¡¨</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>]) &#123;</span><br><span class="line">	println i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703173713089.png" alt="image-20220703173713089"></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// éå†Map</span></span><br><span class="line"><span class="keyword">for</span> (entry <span class="keyword">in</span> [<span class="string">&#x27;9&#x27;</span> : <span class="string">&#x27;CF&#x27;</span>, <span class="string">&#x27;11&#x27;</span> : <span class="string">&#x27;RW&#x27;</span>, <span class="string">&#x27;7&#x27;</span> : <span class="string">&#x27;LF&#x27;</span>].entrySet()) &#123;</span><br><span class="line">	println entry.key + <span class="string">&#x27; : &#x27;</span> + entry.value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220703174154731.png" alt="image-20220703174154731"></p>
<h3 id="6-3-switchè¯­å¥"><a class="header-anchor" href="#6-3-switchè¯­å¥">Â¶</a>6.3. switchè¯­å¥</h3>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> response = <span class="number">500</span>  <span class="comment">// è‡ªå·±å¯ä»¥æ¢</span></span><br><span class="line"><span class="keyword">switch</span> (response) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">404</span>:   <span class="comment">// å•ä¸ªå€¼åŒ¹é…</span></span><br><span class="line">        println <span class="string">&#x27;Not Found&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> [<span class="number">401</span>, <span class="number">403</span>]:    <span class="comment">// åˆ—è¡¨å†…å®¹åŒ¹é…</span></span><br><span class="line">        println <span class="string">&#x27;Unauthorized or Forbidden&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">500.</span><span class="number">.505</span>:    <span class="comment">// åŒºé—´å†…å®¹åŒ¹é…</span></span><br><span class="line">        println <span class="string">&#x27;Server Problem&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">200</span>:</span><br><span class="line">        println <span class="string">&#x27;OK&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="symbol">default:</span>     </span><br><span class="line">        println <span class="string">&#x27;Other Problem&#x27;</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é™¤æ­¤ä»¥å¤–è¿˜å¯ä»¥è¿›è¡Œç±»å‹åŒ¹é…ï¼Œèƒ½å¤Ÿå¤„ç†çš„<code>case</code>ç±»å‹æ¯”è¾ƒå¤š</p>
<h2 id="7-æ•°æ®ç±»å‹"><a class="header-anchor" href="#7-æ•°æ®ç±»å‹">Â¶</a>7. æ•°æ®ç±»å‹</h2>
<p>Groovyæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹ä¸»è¦åŒ…æ‹¬ï¼š</p>
<ul>
<li>Javaä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹</li>
<li>Groovyä¸­çš„å®¹å™¨ç±»</li>
<li>é—­åŒ…</li>
</ul>
<h3 id="7-1-å­—ç¬¦ä¸²"><a class="header-anchor" href="#7-1-å­—ç¬¦ä¸²">Â¶</a>7.1. å­—ç¬¦ä¸²</h3>
<p>é¦–å…ˆï¼Œéœ€è¦æ³¨æ„ï¼Œåœ¨Groovyä¸­æœ‰<strong>ä¸¤ç§å­—ç¬¦ä¸²ç±»å‹</strong></p>
<ul>
<li>æ™®é€šå­—ç¬¦ä¸²<code>String</code></li>
<li>æ’å€¼å­—ç¬¦ä¸²<code>GString</code></li>
</ul>
<h4 id="7-1-1-å•å¼•å·å­—ç¬¦ä¸²"><a class="header-anchor" href="#7-1-1-å•å¼•å·å­—ç¬¦ä¸²">Â¶</a>7.1.1. å•å¼•å·å­—ç¬¦ä¸²</h4>
<p>å…¶å®å•å¼•å·å’ŒåŒå¼•å·éƒ½å¯ä»¥è¡¨ç¤ºå­—ç¬¦ä¸²ï¼Œä½†æ˜¯ä½†å› ä¸æ”¯æŒæ’å€¼ï¼Œå› æ­¤æ˜¯çº¯å¸¸é‡</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;Tears and Rain&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="7-1-2-åŒå¼•å·å­—ç¬¦ä¸²"><a class="header-anchor" href="#7-1-2-åŒå¼•å·å­—ç¬¦ä¸²">Â¶</a>7.1.2. åŒå¼•å·å­—ç¬¦ä¸²</h4>
<p>åŒå¼•å·é™¤äº†å•å¼•å·çš„å­—ç¬¦ä¸²å¸¸é‡åŠŸèƒ½ï¼Œè¿˜æ”¯æŒ<strong>æ’å€¼</strong></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> value = <span class="string">&#x27;Rain&#x27;</span></span><br><span class="line"><span class="string">&quot;Tears and $value&quot;</span></span><br></pre></td></tr></table></figure>
<p>æ’å€¼ä»¥<code>$</code>å¼€å¤´ï¼Œè¡¨è¾¾å¼éœ€è¦ç”¨<code>&#123;&#125;</code>æ‹¬èµ·æ¥</p>
<h4 id="7-1-3-ä¸‰å¼•å·å­—ç¬¦ä¸²"><a class="header-anchor" href="#7-1-3-ä¸‰å¼•å·å­—ç¬¦ä¸²">Â¶</a>7.1.3. ä¸‰å¼•å·å­—ç¬¦ä¸²</h4>
<p>åœ¨å•å¼•å·å¸¸é‡çš„åŸºç¡€ä¸Šæ·»åŠ äº†æ ¼å¼ï¼Œä½†ä¸æ”¯æŒæ’å€¼</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> str =</span><br><span class="line">            <span class="string">&#x27;&#x27;&#x27;Tears </span></span><br><span class="line"><span class="string">      and </span></span><br><span class="line"><span class="string">           Rain&#x27;&#x27;&#x27;</span></span><br><span class="line">    println str</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220704230111401.png" alt="image-20220704230111401"></p>
<p><code>String</code>ä¸å¯å˜ï¼Œ<code>GString</code>å¯å˜ï¼Œå³ä½¿å­—é¢é‡ç›¸åŒï¼ŒhashCodeä¹Ÿå¯èƒ½ä¸åŒï¼Œå› æ­¤åº”å½“é¿å…ä½¿ç”¨<code>GString</code>ä½œä¸ºMapçš„Key</p>
<h3 id="7-2-List"><a class="header-anchor" href="#7-2-List">Â¶</a>7.2. List</h3>
<p>Groovyçš„é›†åˆç±»æ˜¯å¯¹Javaé›†åˆç±»çš„åŠ å·¥</p>
<p>å› æ­¤Groovyä¸­<code>List</code>å°±å¯¹åº”Javaä¸­çš„<code>List</code>ï¼Œå¹¶ä¸”é»˜è®¤å®ç°ç±»æ˜¯<code>ArrayList</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">assert</span> list <span class="keyword">instanceof</span> List</span><br></pre></td></tr></table></figure>
<p>åœ¨Groovyä¸­ï¼Œä½¿ç”¨<code>as</code>è¿›è¡Œå¼ºåˆ¶è½¬æ¢</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> linkedList = list <span class="keyword">as</span> LinkedList</span><br><span class="line"><span class="keyword">assert</span> linkedList <span class="keyword">instanceof</span> LinkedList</span><br></pre></td></tr></table></figure>
<p>å…ƒç´ çš„è·å–ç›´æ¥é‡‡ç”¨<code>[]</code>ï¼Œæ ¹æ®ç´¢å¼•è·å–å…ƒç´ </p>
<p>è¿™é‡Œçš„ç´¢å¼•å¯æ­£å¯è´Ÿï¼Œåˆ†åˆ«å¯¹åº”æ­£æ•°å’Œå€’æ•°çš„é¡ºåº</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">assert</span> list[<span class="number">0</span>] == <span class="number">1</span></span><br><span class="line"><span class="keyword">assert</span> list[<span class="number">-1</span>] == <span class="number">3</span></span><br></pre></td></tr></table></figure>
<p>å¹¶ä¸”ï¼Œä½¿ç”¨<code>&lt;&lt;</code>å¯ä»¥è¿›è¡Œæœ«å°¾å…ƒç´ çš„è¿½åŠ </p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> list = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">list &lt;&lt; <span class="number">4</span>  <span class="comment">// æœ«å°¾è¿½åŠ </span></span><br><span class="line">println list</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220706235406241.png" alt="image-20220706235406241"></p>
<h3 id="7-3-Map"><a class="header-anchor" href="#7-3-Map">Â¶</a>7.3. Map</h3>
<p>åˆ›å»ºåŒæ ·ä½¿ç”¨<code>[]</code>ï¼Œä¸è¿‡å…¶ä¸­çš„å†…å®¹æ˜¯é”®å€¼å¯¹ï¼Œå¹¶ä¸”è¿™é‡Œçš„<code>Map</code>çš„é»˜è®¤å®ç°ä½¿ç”¨çš„æ˜¯<code>LinkedHashMap</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> map = [<span class="attr">one:</span> <span class="string">&#x27;1&#x27;</span>, <span class="attr">two:</span> <span class="string">&#x27;2&#x27;</span>, <span class="attr">three:</span> <span class="string">&#x27;3&#x27;</span>]   <span class="comment">// é”®å€¼å¯¹</span></span><br><span class="line">println map</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œkeyçš„è¡¨ç¤ºï¼Œ<strong>keyé»˜è®¤ä¸ºå­—ç¬¦ä¸²</strong>ï¼ˆå°½ç®¡æ²¡åŠ å¼•å·ï¼‰</p>
<p>å–å€¼çš„æ–¹å¼ï¼Œåˆ™æ˜¯é€šè¿‡<code>[]</code>åŠ ä¸Škey</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">println map[<span class="string">&#x27;one&#x27;</span>]   <span class="comment">// è¿™ä¸ªæ—¶å€™åˆéœ€è¦åŠ ä¸Šå¼•å·äº†</span></span><br></pre></td></tr></table></figure>
<p>å› ä¸ºä¹‹å‰è¯´äº†ï¼Œkeyé»˜è®¤ä¼šä¸ºå­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå˜é‡å¦‚ä½•è¡¨ç¤ºï¼Ÿ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220708231636025.png" alt="image-20220708231636025"></p>
<p>è¿™æ ·ç›´æ¥æ‹¿å»ç”¨ï¼Œè‡ªç„¶keyå˜æˆkey1è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œéå…¶å†…å®¹ï¼ˆå¹¶æœªé«˜äº®æ˜¾ç¤ºï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220708231741423.png" alt="image-20220708231741423"></p>
<p>è¿™é‡Œå°±éœ€è¦åŠ ä¸Šæ‹¬å·ï¼Œç°åœ¨å°±é«˜äº®äº†</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> key1 = <span class="string">&#x27;one&#x27;</span></span><br><span class="line"><span class="keyword">def</span> map = [(key1): <span class="string">&#x27;1&#x27;</span>, <span class="attr">two:</span> <span class="string">&#x27;2&#x27;</span>, <span class="attr">three:</span> <span class="string">&#x27;3&#x27;</span>]  <span class="comment">// è¿™é‡Œ()ç‰¹æ®Šäº†è¿™ä¸ªkeyï¼Œè¡¨æ˜å®ƒè¿˜æ‹¥æœ‰å˜é‡çš„èº«ä»½</span></span><br></pre></td></tr></table></figure>
<h3 id="7-4-é—­åŒ…"><a class="header-anchor" href="#7-4-é—­åŒ…">Â¶</a>7.4. é—­åŒ…</h3>
<p>é—­åŒ…å®é™…ä¸Šä»£è¡¨çš„æ˜¯ä¸€ä¸ª<strong>ä»£ç å—</strong>ï¼Œè€Œå®ƒçš„è¡Œä¸ºåˆ™ç”±ä½ è¿›è¡Œå®šä¹‰</p>
<p>åœ¨ç»“æ„ä¸Šï¼Œé—­åŒ…åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼š<strong>å‚æ•°åˆ—è¡¨</strong>å’Œ<strong>è¯­å¥</strong></p>
<p>å¤§æ¦‚çš„æ ¼å¼ä¸º</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">&#123; å‚æ•°åˆ—è¡¨ -&gt; è¯­å¥ &#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œå‚æ•°åˆ—è¡¨æ˜¯å¯é€‰çš„ï¼Œå¦‚æœå‚æ•°åˆ—è¡¨åªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œé‚£ä¹ˆGroovyä¼šå°†å…¶é»˜è®¤ä¸º<code>it</code></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•ä»£ç </span></span><br><span class="line">task test &#123;</span><br><span class="line">   println it   <span class="comment">// å…¶å®å°±æ˜¯å‰é¢çš„task</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæ²¡æœ‰ä½¿ç”¨åˆ°å‚æ•°åˆ—è¡¨</p>
<p>ä¹Ÿå¯ä»¥æŒ‡å®šå‚æ•°åˆ—è¡¨</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•ä»£ç </span></span><br><span class="line">task test &#123;</span><br><span class="line">   it -&gt; println it</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é—­åŒ…å®è´¨ä¸Šæ˜¯ä¸€ä¸ª<code>Closure</code>å®ä¾‹</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> add = &#123;</span><br><span class="line">       String a, String b -&gt; println a + b</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>é—­åŒ…å¯ä»¥çœ‹ä½œæ˜¯æ–¹æ³•ï¼Œæ ¹æ®å‚æ•°åˆ—è¡¨ä¼ å…¥å‚æ•°ï¼Œæ‰§è¡Œè¯­å¥</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> add = &#123;</span><br><span class="line">        String a, String b -&gt; println a + b</span><br><span class="line">    &#125;</span><br><span class="line">add(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>)  <span class="comment">// ç›´æ¥è°ƒç”¨</span></span><br><span class="line">add.call(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>)  <span class="comment">// é€šè¿‡call()è°ƒç”¨</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709074955052.png" alt="image-20220709074955052"></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> isTwo = &#123;</span><br><span class="line">        <span class="type">int</span> i -&gt; i == <span class="number">2</span>   <span class="comment">// è¿”å›å€¼</span></span><br><span class="line">    &#125;</span><br><span class="line">println isTwo(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709074820771.png" alt="image-20220709074820771"></p>
<h3 id="7-5-I-Oæ“ä½œ"><a class="header-anchor" href="#7-5-I-Oæ“ä½œ">Â¶</a>7.5. I/Oæ“ä½œ</h3>
<p>I/Oæ“ä½œæ— å¤–ä¹<strong>å†™å…¥</strong>å’Œ<strong>è¯»å–</strong>ï¼Œè¿™æ ·çš„æ“ä½œåœ¨ä½¿ç”¨Gradleæ„å»ºåº”è¯¥å¾ˆå¸¸è§</p>
<h4 id="7-5-1-å†™å…¥"><a class="header-anchor" href="#7-5-1-å†™å…¥">Â¶</a>7.5.1. å†™å…¥</h4>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709080707372.png" alt="image-20220709080707372"></p>
<p>ä¸€ä¼šå„¿ä¼šåœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> path = <span class="string">&quot;C:\\Develop\\groovy_projects\\test\\mapping.txt&quot;</span>  <span class="comment">// æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="keyword">def</span> file = <span class="keyword">new</span> File(path)   <span class="comment">// æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">file.withPrintWriter &#123;   </span><br><span class="line">	it.println(<span class="string">&quot;Happy birthday!&quot;</span>)   <span class="comment">// æŒ‰è¡Œå†™å…¥</span></span><br><span class="line">	it.println(<span class="string">&quot;My Love!&quot;</span>)</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>
<p>è¿™é‡ŒæŒ‰ç…§è·¯å¾„åˆ›å»ºäº†ä¸€ä¸ªæ–‡ä»¶</p>
<p><img src="C:/Users/Minos/AppData/Roaming/Typora/typora-user-images/image-20220709080946751.png" alt="image-20220709080946751"><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709080946753.png" alt="image-20220709080946753"></p>
<p>æ‰“å¼€å¯ä»¥çœ‹åˆ°ä¸€å…±ä¸¤è¡Œå†…å®¹ï¼Œè¿™å°±å†™å…¥æˆåŠŸäº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709081009743.png" alt="image-20220709081009743"></p>
<h4 id="7-5-2-è¯»å–"><a class="header-anchor" href="#7-5-2-è¯»å–">Â¶</a>7.5.2. è¯»å–</h4>
<p>æ—¢ç„¶åˆ›å»ºäº†å¯¹åº”çš„æ–‡ä»¶ï¼Œå¹¶ä¸”å†™å…¥äº†å†…å®¹ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°†æ–‡ä»¶çš„å†…å®¹è¯»å–å¹¶è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Š</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> path = <span class="string">&quot;C:\\Develop\\groovy_projects\\test\\mapping.txt&quot;</span></span><br><span class="line"><span class="keyword">def</span> file = <span class="keyword">new</span> File(path)</span><br><span class="line">file.eachLine &#123;    <span class="comment">// å°†å†…å®¹æŒ‰è¡Œè¾“å‡º</span></span><br><span class="line">	println it</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220709081525024.png" alt="image-20220709081525024"></p>
<p>ç”šè‡³å¯ä»¥æ›´ç²¾ç®€ä¸€äº›</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> path = <span class="string">&quot;C:\\Develop\\groovy_projects\\test\\mapping.txt&quot;</span></span><br><span class="line"><span class="keyword">def</span> file = <span class="keyword">new</span> File(path)</span><br><span class="line">println file.text  <span class="comment">// å…¨éƒ¨è¾“å‡º</span></span><br></pre></td></tr></table></figure>
<h3 id="7-6-è¯­æ³•ç³–"><a class="header-anchor" href="#7-6-è¯­æ³•ç³–">Â¶</a>7.6. è¯­æ³•ç³–</h3>
<h4 id="7-6-1-åˆ¤æ–­åˆ—è¡¨"><a class="header-anchor" href="#7-6-1-åˆ¤æ–­åˆ—è¡¨">Â¶</a>7.6.1. åˆ¤æ–­åˆ—è¡¨</h4>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> name = []</span><br><span class="line"><span class="keyword">if</span> (name) &#123;    <span class="comment">// åˆ¤æ–­äº†!nullä¸”ä¸ä¸º[]</span></span><br><span class="line">	println name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="7-6-2-ç©ºåˆ¤æ–­"><a class="header-anchor" href="#7-6-2-ç©ºåˆ¤æ–­">Â¶</a>7.6.2. ç©ºåˆ¤æ–­</h4>
<p>ä½¿ç”¨<code>.?</code>è¿›è¡Œè°ƒç”¨ï¼Œå¯ä»¥å¯¹è°ƒç”¨æ–¹æ–½åŠ <code>if(è°ƒç”¨æ–¹!=null)</code>çš„åˆ¤æ–­</p>
<p>è¿™æ¯”Javaä¸­å±‚å±‚ç›¸æ‰£çš„ç©ºæŒ‡é’ˆåˆ¤æ–­è¦èˆ’æœå¾ˆå¤š</p>
<h4 id="7-6-3-with"><a class="header-anchor" href="#7-6-3-with">Â¶</a>7.6.3. with</h4>
<p>å¯ç”¨äºç®€åŒ–å¯¹åŒä¸€å¯¹è±¡çš„æ“ä½œ</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> p = <span class="keyword">new</span> Person()</span><br><span class="line">p.with &#123;    </span><br><span class="line">	name = <span class="string">&#x27;Bob&#x27;</span></span><br><span class="line">	age = <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line">println p.name</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Gradle</category>
      </categories>
  </entry>
  <entry>
    <title>JNI å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/2023/06/18/JNI%20%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>JNI å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1>
<p>JNIå±‚é¢çš„çŸ¥è¯†æ˜¯Androidè¿›é˜¶å¿…å¤‡çš„çŸ¥è¯†ä¹‹ä¸€ï¼Œä¸‹é¢æˆ‘ä»¬å°±æ¥çœ‹ä¸€ä¸‹è¿™é‡Œé¢éƒ½æœ‰äº›ä»€ä¹ˆå§</p>
<h2 id="1-ç®€ä»‹"><a class="header-anchor" href="#1-ç®€ä»‹">Â¶</a>1. ç®€ä»‹</h2>
<p><strong>JNI (Java Native Interface)</strong>ï¼Œç®€å•ç¿»è¯‘å°±æ˜¯<strong>Javaæœ¬åœ°æ¥å£</strong>ï¼Œä½œä¸ºç¨‹åºå‘˜ï¼Œå¯¹äºæ¥å£è¿˜æ˜¯æ¯”è¾ƒæ•æ„Ÿçš„ï¼Œè¿™å¯èƒ½ä»£è¡¨ä¼šæœ‰ä¸€äº›åŠŸèƒ½æä¾›ç»™æˆ‘ä»¬è°ƒç”¨ï¼Œè‡³å°‘å¤§æ¦‚çš„å°è±¡æ˜¯è¿™æ ·çš„</p>
<p>æ ¹æ®å®˜æ–¹ç»™å‡ºçš„è§£é‡Šï¼ŒJNI ç®—å¾—ä¸Šæ˜¯ä¸€ç§<strong>ç¼–ç¨‹æ¡†æ¶</strong>ï¼Œèƒ½å¤Ÿä½¿å¾—<strong>JVM</strong>å»è°ƒç”¨<strong>æœ¬åœ°çš„åº”ç”¨æˆ–è€…åº“</strong>ï¼Œæˆ–è€…è¢«å…¶ä»–ç¨‹åºè°ƒç”¨ï¼Œå…¶ä¸­ï¼Œè¿™äº›æœ¬åœ°ä»£ç é€šè¿‡å…¶ä»–è¯­è¨€ä¹¦å†™ï¼Œ<strong>æœ€å¸¸è§çš„æ˜¯C/C++</strong></p>
<p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å¤§æ¦‚æ¢³ç†ä¸€ä¸‹ JNI åœ¨æˆ‘ä»¬è„‘æµ·é‡Œæ¨¡ç³Šçš„å½±åƒ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306170002208.png" alt="image-20230617000246710"></p>
<p>ä¼¼ä¹å°±åƒæ˜¯ä¸€ä¸ª<strong>æ¡¥æ¢</strong>ï¼Œå»ºç«‹äº† Java ä»£ç ï¼ˆæˆ–è€…è¯´æ˜¯ JVM ï¼‰ä¸æœ¬åœ°åº”ç”¨ç¨‹åºï¼ˆæˆ–è€…é€šä¿—äº›ï¼ŒC/C++ ä»£ç ï¼‰ä¹‹é—´çš„<strong>è”ç³»</strong>ï¼Œä½ å¯ä»¥è°ƒæˆ‘ï¼Œåè¿‡æ¥ï¼Œæˆ‘ä¹Ÿå¯ä»¥è°ƒä½ </p>
<h2 id="2-JNI-çš„ç”¨é€”"><a class="header-anchor" href="#2-JNI-çš„ç”¨é€”">Â¶</a>2. JNI çš„ç”¨é€”</h2>
<p>ç®€å•äº†è§£äº† JNI æ˜¯ä»€ä¹ˆä¹‹åï¼Œæˆ‘ä»¬åˆä¸ç¦æƒ³è¦çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ JNI ? æŠ€æœ¯çš„äº§ç”Ÿæ€»æ˜¯å¸¦æœ‰ç›®çš„æ€§çš„ï¼Œé‚£ä¹ˆï¼ŒJNI æ˜¯ç”¨äºè§£å†³ä»€ä¹ˆé—®é¢˜çš„å‘¢ï¼Ÿ</p>
<ul>
<li><strong>æ“ä½œç¡¬ä»¶ç›¸å…³å†…å®¹</strong>ï¼ˆæ“ä½œç³»ç»ŸAPIå¾€å¾€åŸºäºC/C++ï¼‰</li>
<li><strong>æå‡å¤„ç†æ€§èƒ½</strong>ï¼ˆéŸ³è§†é¢‘ã€æ¸²æŸ“ã€å¤§é‡è®¡ç®—æ“ä½œç­‰ï¼‰</li>
<li><strong>æå‡å®‰å…¨æ€§</strong>ï¼ˆJavaçš„å­—èŠ‚ç æ–‡ä»¶æ›´å®¹æ˜“è¢«åç¼–è¯‘ï¼‰</li>
</ul>
<h2 id="3-ç®€å•ä¾‹å­"><a class="header-anchor" href="#3-ç®€å•ä¾‹å­">Â¶</a>3. ç®€å•ä¾‹å­</h2>
<p>çœ‹æ¦‚å¿µç±»çš„ä¸œè¥¿å¾ˆèŠ±æ—¶é—´ï¼Œä¹Ÿå®¹æ˜“é—å¿˜ï¼Œå› æ­¤è¿˜æ˜¯è‡ªå·±åŠ¨æ‰‹ï¼Œé€šè¿‡å®é™…ç¼–å†™ä»£ç æ¥æ„Ÿæ‚Ÿï¼Œèƒ½æ›´å¥½åŠ æ·±æˆ‘ä»¬çš„å°è±¡</p>
<p>é¦–å…ˆï¼Œæ–°å»ºä¸€ä¸ªç±»ï¼Œå®šä¹‰äº†ä¸€ä¸ª<code>native</code>æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JNITest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">&quot;test&quot;</span>);    <span class="comment">// åŠ è½½åº“</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>;    <span class="comment">// nativeæ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥å®ä¾‹åŒ–ï¼Œè°ƒç”¨å®šä¹‰çš„<code>public</code>æ–¹æ³•ï¼Œä¸è¿‡ç›®å‰è¿˜ç”¨ä¸äº†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">JNITest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JNITest</span>();   <span class="comment">// å®ä¾‹åŒ–å¹¶è¿›è¡Œæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">        test.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨<code>javac </code>å‘½ä»¤ï¼Œç”Ÿæˆå¯¹åº”äº <code>JNITest</code> ç±»çš„ C/C++ <strong>å¤´æ–‡ä»¶</strong></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">javac -h . JNITest.java</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171029859.png" alt="image-20230617102904225"></p>
<p>ç°åœ¨ç›®å½•ä¸‹ä¼šå¤šå‡ºä¸¤ä¸ªæ–‡ä»¶ï¼Œå…¶ä¸­<code>.class</code>åç¼€çš„æ˜¯æºæ–‡ä»¶å¯¹åº”çš„<strong>å­—èŠ‚ç æ–‡ä»¶</strong>ï¼Œè€Œå¦ä¸€ä¸ª<code>.h</code>åç¼€çš„ä¾¿æ˜¯æˆ‘ä»¬éœ€è¦çš„<strong>å¤´æ–‡ä»¶</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* DO NOT EDIT THIS FILE - it is machine generated */</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="comment">/* Header for class jni_JNITest */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> _Included_jni_JNITest</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> _Included_jni_JNITest</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Class:     jni_JNITest</span></span><br><span class="line"><span class="comment"> * Method:    test</span></span><br><span class="line"><span class="comment"> * Signature: ()V</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL <span class="title function_">Java_jni_JNITest_test</span></span><br><span class="line">  <span class="params">(JNIEnv *, jobject)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼Œ<code>Java_jni_JNITest_test()</code>å¯¹åº”çš„ä¾¿æ˜¯æˆ‘ä»¬å…ˆå‰å®šä¹‰çš„<code>test()</code></p>
<p>ç®€å•äº†è§£ä¸€ä¸‹å£°æ˜çš„<code>Java_jni_JNITest_test()</code>å½“ä¸­çš„å‚æ•°ï¼š</p>
<p><code>JNIEnv *</code>æ˜æ˜¾æ˜¯ä¸€ä¸ª<strong>æŒ‡é’ˆç±»å‹</strong>ï¼Œ<code>JNIEnv</code>æœ¬èº«å†…éƒ¨æä¾›äº†å¾ˆå¤šå‡½æ•°ï¼Œä»åå­—ä¹Ÿèƒ½å¤Ÿçœ‹å‡ºï¼Œå®ƒä»£è¡¨çš„åº”è¯¥æ˜¯ä¸€ä¸ªâ€œç¯å¢ƒâ€</p>
<p>åœ¨ JDK çš„ <code>include/</code> ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ° <code>jni.h</code>å¤´æ–‡ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171053847.png" alt="image-20230617105352482" style="zoom:80%;" />
<p><code>JNIEnv</code>æŒ‡å‘<code>JNINativeInterface_</code>ç»“æ„ä½“ï¼Œè€Œè¿™ä¸ªç»“æ„ä½“å®šä¹‰è®¸å¤šç¯å¢ƒç›¸å…³çš„å‡½æ•°</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171057151.png" alt="image-20230617105704082" style="zoom: 67%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171058770.png" alt="image-20230617105830606" style="zoom:67%;" />
<p>ç¯å¢ƒçš„å»ºç«‹æ˜¯åç»­å„ç§æ“ä½œçš„<strong>å‰æ</strong>ï¼Œå› æ­¤<code>JNIEnv</code>å®ä¾‹<strong>ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°</strong>ä¼ é€’ç»™æ‰€æœ‰çš„å‡½æ•°è°ƒç”¨æ–¹</p>
<p>æ¥ä¸‹æ¥å†çœ‹ï¼Œ<code>jobject</code>æ˜¯æŒ‡å‘<code>this</code>çš„ Java å¯¹è±¡ï¼Œä»£è¡¨è‡ªèº«çš„å®ä¾‹ï¼Œå¦‚æœå°†<code>native</code>æ–¹æ³•æ”¹ä¸º<code>static</code>ç±»å‹ï¼Œå¯¹åº”çš„å°†æ˜¯<code>jclass</code>ç±»å‹å‚æ•°ï¼Œä»£è¡¨ Java çš„ç±»</p>
<p><code>extern &quot;C&quot;</code>å‘Šè¯‰ç¼–è¯‘å™¨ä»¥ C çš„æ–¹å¼<strong>ç¼–è¯‘</strong>å‡½æ•°ï¼Œä»¥ä¾¿äºå…¶ä»– C ç¨‹åº<strong>é“¾æ¥å’Œè®¿é—®</strong></p>
<p>ä¸ C++ ä¸åŒï¼ŒC çš„å‡½æ•°ç›´æ¥ä¾æ®å‡½æ•°åè¯†åˆ«ï¼Œè€Œ C++ ä¸­ç”±äºæ¶‰åŠåˆ°äº†<strong>å‡½æ•°é‡è½½</strong>ï¼Œå› æ­¤éœ€è¦ç»“åˆå‡½æ•°åã€å‚æ•°åˆ—è¡¨ã€è¿”å›å€¼ä¸‰è€…å…±åŒç»„åˆè¿›è¡Œè¯†åˆ«ï¼Œæœ€ç»ˆç¼–è¯‘è€Œæˆçš„ç›®æ ‡ä»£ç åœ¨å‘½ååè®®ä¸Šä¼šå­˜åœ¨å·®å¼‚ï¼Œè¿™ä¹Ÿæ˜¯å®¹æ˜“å¼•èµ·é—®é¢˜çš„åœ°æ–¹</p>
<p>å‰©ä¸‹æ¥<code>JNICALL</code>å’Œ<code>JNIEXPORT</code>ï¼Œè¿™æ˜¯ä¸¤ä¸ª<strong>å®</strong>ï¼Œåœ¨<strong>Linuxå¹³å°</strong>çš„å®šä¹‰å¦‚ä¸‹ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä¿è¯åœ¨æœ¬åŠ¨æ€åº“ä¸­å£°æ˜çš„æ–¹æ³• , èƒ½å¤Ÿåœ¨å…¶ä»–é¡¹ç›®ä¸­å¯ä»¥è¢«è°ƒç”¨ </span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> JNIEXPORT  __attribute__ ((visibility (<span class="string">&quot;default&quot;</span>)))</span></span><br><span class="line"><span class="comment">// æ²¡æœ‰è¿›è¡Œå®šä¹‰ , ç›´æ¥ç½®ç©ºï¼Œé‚£ä¹ˆåº”è¯¥å¯ä»¥ä¸ç”¨å†™</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> JNICALL</span></span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ï¼Œåœ¨æœ‰äº†å¤´æ–‡ä»¶çš„åŸºç¡€ä¸Šï¼Œè¿›ä¸€æ­¥å»å®ç°å¤´æ–‡ä»¶ä¸­å£°æ˜çš„ <code>JNICALL Java_jni_JNITest_test</code>å‡½æ•°</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171110756.png" alt="image-20230617111030285"></p>
<p>æˆ‘ä»¬æ·»åŠ ä¸€ä¸ª<code>.c</code>çš„Cè¯­è¨€æºæ–‡ä»¶ï¼Œè¿›è¡Œå‡½æ•°å®ç°</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;jni_JNITest.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL <span class="title function_">Java_jni_JNITest_test</span><span class="params">(JNIEnv *env, jobject obj)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;æ‰§è¡ŒJNIè°ƒç”¨&quot;</span>);    <span class="comment">// ä¸ºäº†çœ‹æ•ˆæœ</span></span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åè¿›è¡Œä»£ç çš„<strong>ç¼–è¯‘ã€æ‰§è¡Œ</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171631251.png" alt="image-20230617163139561" style="zoom: 67%;" />
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gcc -I<span class="string">&quot;C:\Program Files\Java\jdk-17\include&quot;</span> -I<span class="string">&quot;C:\Program Files\Java\jdk-17\include\win32&quot;</span> -shared -o test.dll JNITest.c  </span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171706834.png" alt="image-20230617170620312" style="zoom:67%;" />
<p>ç”±äºç”¨çš„æ˜¯Windowsç³»ç»Ÿï¼Œå› æ­¤å¯¹åº”ç”Ÿæˆçš„æ˜¯<code>.dll</code>çš„åŠ¨æ€é“¾æ¥åº“</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171707454.png" alt="image-20230617170749726" style="zoom:67%;" />
<p>æŠŠ<code>.dll</code>æ–‡ä»¶æ‹·è´åˆ° JDK çš„<code>/bin</code>ç›®å½•ä¸‹ï¼Œç„¶åè¿è¡Œä»£ç </p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306171708185.png" alt="image-20230617170855719" style="zoom:67%;" />
<p>å¯ä»¥çœ‹åˆ°æˆ‘ä»¬å®ç°çš„ C ä»£ç è¢«æ‰§è¡Œäº†ï¼Œé‚£ä¹ˆè¿™ç§æ–¹å¼æ˜¯æ‰€è°“<strong>é™æ€æ³¨å†Œ</strong></p>
<p>å¤§æ¦‚æ•´ç†ä¸€ä¸‹å…ˆå‰æˆ‘ä»¬éƒ½åšäº†äº›ä»€ä¹ˆï¼š</p>
<ol>
<li>Java ä»£ç åŠ è½½åº“ï¼Œå®šä¹‰<code>native</code>æ–¹æ³•ï¼Œä»¥åŠå¯¹åº”çš„æ–¹æ³•è°ƒç”¨</li>
<li>åŒ…å«<code>native</code>æ–¹æ³•çš„ Java ç±»ç”Ÿæˆå¯¹åº”çš„ C/C++ å¤´æ–‡ä»¶</li>
<li>å¯¹åº” C/C++ å¤´æ–‡ä»¶ä¸­å£°æ˜çš„æ–¹æ³•è¿›è¡Œæ–¹æ³•çš„å®ç°</li>
<li>é“¾æ¥ç”Ÿæˆåº“ï¼ŒWindowsä¸‹æ˜¯<code>.dll</code>ï¼ŒLinuxä¸‹æ˜¯<code>.so</code></li>
</ol>
<h2 id="3-åŠ¨æ€æ³¨å†Œ"><a class="header-anchor" href="#3-åŠ¨æ€æ³¨å†Œ">Â¶</a>3. åŠ¨æ€æ³¨å†Œ</h2>
<p>é™¤äº†é™æ€æ³¨å†Œï¼ŒJNI è¿˜æœ‰ä¸€ç§ç§°ä¸º<strong>åŠ¨æ€æ³¨å†Œ</strong>çš„ä½¿ç”¨æ–¹å¼</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DynamicJNITest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> num)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">native</span> String <span class="title function_">test</span><span class="params">(String name)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">hey</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™æ¬¡æˆ‘ä»¬æ·»åŠ äº†å‡ ä¸ªé‡è½½æ–¹æ³•ï¼Œæ˜¾å¾—å†…å®¹æ›´åŠ ä¸°å¯Œï¼Œå…¶ä»–å¥½åƒæ²¡æœ‰å¤ªå¤§åŒºåˆ«</p>
<p>ä¸è¿‡ï¼Œè¿™æ¬¡æˆ‘ä»¬ä¸ç”¨ç”Ÿæˆå¤´æ–‡ä»¶ï¼Œè€Œæ˜¯ç›´æ¥ç¼–å†™ C çš„æºä»£ç æ–‡ä»¶</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306181610655.png" alt="image-20230618160049337"></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;jni.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•å®ç°</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line"><span class="keyword">extern</span> <span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL <span class="title function_">c_test1</span></span><br><span class="line">  <span class="params">(JNIEnv *env, jobject obj)</span></span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;test()&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL <span class="title function_">c_test2</span></span><br><span class="line">    <span class="params">(JNIEnv *env, jobject obj, jint i)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;test(int)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">JNIEXPORT jstring JNICALL <span class="title function_">c_test3</span></span><br><span class="line"><span class="params">(JNIEnv *env, jobject obj, jstring str)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;string test(string)&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL <span class="title function_">c_hey</span></span><br><span class="line"><span class="params">(JNIEnv *env, jobject obj)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hey()&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">ifdef</span> __cplusplus</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹æ³•åæ˜ å°„</span></span><br><span class="line"><span class="type">static</span> JNINativeMethod methods[] = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;()V&quot;</span>, (<span class="type">void</span>*)c_test1&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;(I)V&quot;</span>, (<span class="type">void</span>*)c_test2&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)Ljava/lang/String;&quot;</span>, (<span class="type">void</span>*)c_test3&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;hey&quot;</span>, <span class="string">&quot;()V&quot;</span>, (<span class="type">void</span>*)c_hey&#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å…³è”Javaç±»</span></span><br><span class="line">JNIEXPORT jint JNICALL</span><br><span class="line"><span class="title function_">JNI_OnLoad</span><span class="params">(JavaVM *vm, <span class="type">void</span> *reserved)</span> &#123;</span><br><span class="line">    JNIEnv *env = <span class="literal">NULL</span>;</span><br><span class="line">    jint result = <span class="number">-1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–JNI envå˜é‡</span></span><br><span class="line">    <span class="keyword">if</span> ((*vm)-&gt;GetEnv(vm, (<span class="type">void</span>**) &amp;env, JNI_VERSION_1_6) != JNI_OK) &#123;</span><br><span class="line">        <span class="comment">// å¤±è´¥è¿”å›-1</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–nativeæ–¹æ³•æ‰€åœ¨ç±»</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* className = <span class="string">&quot;djni/DynamicJNITest&quot;</span>;</span><br><span class="line">    jclass clazz = (*env)-&gt;FindClass(env, className);</span><br><span class="line">    <span class="keyword">if</span> (clazz == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ¨æ€æ³¨å†Œnativeæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> ((*env)-&gt;RegisterNatives(env, clazz, methods, <span class="keyword">sizeof</span>(methods) / <span class="keyword">sizeof</span>(methods[<span class="number">0</span>])) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æˆåŠŸ</span></span><br><span class="line">    result = JNI_VERSION_1_6;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€æ®µçš„å†…å®¹æ¯”è¾ƒé•¿ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥å°†å…¶ä¸»è¦åˆ†ä¸º3ä¸ªéƒ¨åˆ†</p>
<p>é¦–å…ˆçœ‹ç¬¬ä¸€éƒ¨åˆ†çš„ä¸»è¦ä»£ç ï¼ˆæ¨¡æ¿å°±çœå»äº†ï¼Œåƒ<code>#include</code>å’Œ<code>extern</code>ç­‰ï¼‰</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">JNIEXPORT <span class="type">void</span> JNICALL c_test1     <span class="comment">// test()</span></span><br><span class="line">  (JNIEnv *env, jobject obj)</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;test()&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL c_test2     <span class="comment">// test(int)</span></span><br><span class="line">    (JNIEnv *env, jobject obj, jint i)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;test(int)&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">JNIEXPORT jstring JNICALL c_test3   <span class="comment">// String test(String)</span></span><br><span class="line">(JNIEnv *env, jobject obj, jstring str)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;string test(string)&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> (*env)-&gt;NewStringUTF(env, <span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">JNIEXPORT <span class="type">void</span> JNICALL c_hey    <span class="comment">// hey()</span></span><br><span class="line">(JNIEnv *env, jobject obj)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;hey()&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™è¾¹çš„å‡ ä¸ªå‡½æ•°å¯¹åº”çš„ä¾¿æ˜¯åœ¨ Java å½“ä¸­å®šä¹‰çš„å‡ ä¸ª<code>native</code>æ–¹æ³•ï¼Œè€Œå‚æ•°ä¸­çš„<code>jint</code>ã€<code>jstring</code>ä»£è¡¨çš„æ˜¯ C å½“ä¸­å¯¹åº” Java ç±»å‹çš„è¡¨ç¤ºï¼Œåœ¨å‡½æ•°çš„å®ç°é€»è¾‘å½“ä¸­è¿›è¡Œä¸€äº›å‡½æ•°ç­¾åçš„è¾“å‡ºï¼Œæ–¹ä¾¿æ ¡éªŒï¼Œè¿™å°±ç®—æ˜¯è¿›è¡Œäº†ç®€å•çš„å‡½æ•°å®ç°</p>
<p>æ¥ä¸‹æ¥ï¼Œéœ€è¦å¯¹äºå‡½æ•°è¿›è¡Œå…³è”ï¼Œç”¨åˆ°çš„æ˜¯<code>JNINativeMethod</code>æ•°ç»„ï¼Œå°†å‡½æ•°é—´çš„å¯¹åº”å…³ç³»è¿›è¡Œç»‘å®š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•åæ˜ å°„</span></span><br><span class="line"><span class="type">static</span> JNINativeMethod methods[] = &#123;</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;()V&quot;</span>, (<span class="type">void</span>*)c_test1&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;(I)V&quot;</span>, (<span class="type">void</span>*)c_test2&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;test&quot;</span>, <span class="string">&quot;(Ljava/lang/String;)Ljava/lang/String;&quot;</span>, (<span class="type">void</span>*)c_test3&#125;,</span><br><span class="line">        &#123;<span class="string">&quot;hey&quot;</span>, <span class="string">&quot;()V&quot;</span>, (<span class="type">void</span>*)c_hey&#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>æ¯”å¦‚ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œâ€œtest&quot;æ˜¯ Java ä¸­<code>native</code>æ–¹æ³•çš„å‡½æ•°åï¼Œâ€()V&quot;è¡¨ç¤ºå®ƒä¸æ¥å—å…¥å‚ï¼Œè¿”å›ç±»å‹ä¸º<code>void</code>ï¼Œè¿™ç§è¡¨ç¤ºæ–¹æ³•å¯ä»¥å‚è€ƒä¸‹è¡¨ï¼Œæ˜¯å¯¹äºå‡½æ•°ç­¾åçš„è¡¨ç¤ºï¼Œå°†å‡½æ•°çš„å…¥å‚ã€å‡ºå‚åŠå¯¹åº”ç±»å‹ç®€åŒ–ä¸º<strong>æ ‡è¯†</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left">ç±»å‹æ ‡è¯†</th>
<th style="text-align:left">å¯¹åº” Java ç±»å‹</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Z</td>
<td style="text-align:left">boolean</td>
</tr>
<tr>
<td style="text-align:left">B</td>
<td style="text-align:left">byte</td>
</tr>
<tr>
<td style="text-align:left">C</td>
<td style="text-align:left">char</td>
</tr>
<tr>
<td style="text-align:left">S</td>
<td style="text-align:left">short</td>
</tr>
<tr>
<td style="text-align:left">I</td>
<td style="text-align:left">int</td>
</tr>
<tr>
<td style="text-align:left">J</td>
<td style="text-align:left">long</td>
</tr>
<tr>
<td style="text-align:left">F</td>
<td style="text-align:left">float</td>
</tr>
<tr>
<td style="text-align:left">D</td>
<td style="text-align:left">double</td>
</tr>
<tr>
<td style="text-align:left">LåŒ…å/ç±»å;</td>
<td style="text-align:left">å„ç§å¼•ç”¨ç±»å‹</td>
</tr>
<tr>
<td style="text-align:left">V</td>
<td style="text-align:left">void</td>
</tr>
</tbody>
</table>
<p>å³è¾¹åˆ™ç›¸å¯¹ç»Ÿä¸€ï¼Œ<code>(void*)c_test1</code>å…¶å®å°±æ˜¯å°†æˆ‘ä»¬åœ¨ C æ–‡ä»¶ä¸­å®šä¹‰çš„åç§°ä¸ Java ä¸­å¯¹åº”çš„æ–¹æ³•å»ºç«‹å…³è”å…³ç³»ï¼Œåƒ<code>c_test1</code>è¿™ç§æ–¹æ³•åæ˜¯æˆ‘ä»¬è‡ªå·±å†™çš„ï¼Œå¹¶éç³»ç»Ÿç”Ÿæˆ</p>
<p>æœ€åï¼Œåˆ™æ˜¯æ·»åŠ ä¸€ä¸ª<code>JNI_OnLoad()</code>å‡½æ•°ï¼Œå…‰çœ‹å‚æ•°åç§°ä¹Ÿå¯ä»¥çŸ¥é“è¿™ä¸ Java è™šæ‹Ÿæœºå¯†åˆ‡ç›¸å…³</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"> <span class="comment">// è·å–JNI envå˜é‡</span></span><br><span class="line"><span class="keyword">if</span> ((*vm)-&gt;GetEnv(vm, (<span class="type">void</span>**) &amp;env, JNI_VERSION_1_6) != JNI_OK) &#123;</span><br><span class="line">        <span class="comment">// å¤±è´¥è¿”å›-1</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸€æ­¥ï¼Œé€šè¿‡<code>GetEnv()</code>è·å–<code>JNIEnv</code>ï¼Œä¹‹å‰ä¹Ÿè¯´äº†ï¼Œè¿™æ˜¯ JNI æ–¹æ³•è°ƒç”¨çš„å‰æï¼Œç¯å¢ƒOKæ‰èƒ½è¿›è¡Œä¸‹é¢çš„å·¥ä½œ</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è·å–nativeæ–¹æ³•æ‰€åœ¨ç±»</span></span><br><span class="line">    <span class="type">const</span> <span class="type">char</span>* className = <span class="string">&quot;djni/DynamicJNITest&quot;</span>;</span><br><span class="line">    jclass clazz = (*env)-&gt;FindClass(env, className);</span><br><span class="line">    <span class="keyword">if</span> (clazz == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å†æ¥ä¸‹æ¥ï¼Œæ˜¯æ ¹æ® Java çš„å…¨ç±»åï¼Œé€šè¿‡<code>FindClass()</code>è·å–åŒ…å«<code>native</code>æ–¹æ³•çš„ç±»å¯¹è±¡ï¼Œ<code>clazz</code>è¡¨ç¤ºå¯¹åº”çš„ç±»</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åŠ¨æ€æ³¨å†Œnativeæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">if</span> ((*env)-&gt;RegisterNatives(env, clazz, methods, <span class="keyword">sizeof</span>(methods) / <span class="keyword">sizeof</span>(methods[<span class="number">0</span>])) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›æˆåŠŸ</span></span><br><span class="line">    result = JNI_VERSION_1_6;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>æœ€åï¼Œå°†ç±»ä¿¡æ¯ã€æ–¹æ³•ä¿¡æ¯ã€æ–¹æ³•æ•°é‡ä¿¡æ¯ç­‰å†…å®¹ä¼ ç»™<code>RegisterNatives()</code>å‡½æ•°ï¼Œå®Œæˆæœ€ç»ˆæ³¨å†Œ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gcc -I<span class="string">&quot;C:\Program Files\Java\jdk-17\include&quot;</span> -I<span class="string">&quot;C:\Program Files\Java\jdk-17\include\win32&quot;</span> -shared -o test.dll DynamicJNITest.c  </span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>gcc</code>å‘½ä»¤ç”Ÿæˆ<code>.dll</code>ï¼Œæ‰“åŒ…æ›¿æ¢åŸæ¥çš„<code>test.dll</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">DynamicJNITest</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DynamicJNITest</span>();</span><br><span class="line">        test.test();</span><br><span class="line">        test.test(<span class="number">1</span>);</span><br><span class="line">        test.test(<span class="string">&quot;apple&quot;</span>);</span><br><span class="line">        test.hey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306181653401.png" alt="image-20230618165312049"></p>
<p>æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œå„ä¸ª<code>native</code>æ–¹æ³•éƒ½ä¾æ¬¡æˆåŠŸè°ƒç”¨äº†</p>
<p>å›é¡¾ä¸€ä¸‹ï¼ŒåŠ¨æ€æ³¨å†Œæˆ‘ä»¬ä¸»è¦åšäº†ä»¥ä¸‹å‡ ä»¶äº‹ï¼š</p>
<ol>
<li>Java ç±»ä¸­å£°æ˜å¹¶è°ƒç”¨<code>native</code>æ–¹æ³•</li>
<li>ç¼–å†™ C ä»£ç ï¼ŒåŒ…æ‹¬<strong>æ–¹æ³•å®ç°</strong>ã€<strong>æ˜ å°„å…³ç³»å»ºç«‹</strong>ã€<strong>ç±»æ–¹æ³•ä¿¡æ¯æ³¨å†Œ</strong>ï¼ˆæ²¡æœ‰ç¼–è¯‘ç”Ÿæˆå¤´æ–‡ä»¶ï¼‰</li>
<li>ç”Ÿæˆ<code>.dll</code>æ–‡ä»¶</li>
</ol>
<p>å…¶å®è¿™ä¹ˆçœ‹ï¼Œå¥½åƒé™æ€ã€åŠ¨æ€å„æœ‰ä¼˜åŠ¿ï¼Œåº”å½“å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿéšç€å¾€åçš„å­¦ä¹ æˆ‘ä»¬æ¥è§£ç­”</p>
<blockquote>
<p><a href="https://blog.csdn.net/shulianghan/article/details/104072587">(31æ¡æ¶ˆæ¯) ã€Android NDK å¼€å‘ã€‘JNI æ–¹æ³•è§£æ ( JNIEXPORT ä¸ JNICALL å®å®šä¹‰ä½œç”¨ )_éŸ©æ›™äº®çš„åšå®¢-CSDNåšå®¢</a></p>
<p><a href="https://juejin.cn/post/7243016090818068539">JNI ç¼–ç¨‹ä¸Šæ‰‹æŒ‡å—ä¹‹ HelloWorld å®æˆ˜ - æ˜é‡‘ (juejin.cn)</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/349928909">JNIç®€ä»‹ - çŸ¥ä¹ (zhihu.com)</a></p>
<p><a href="https://baike.baidu.com/item/JNI/9412164?fr=aladdin">JNI_ç™¾åº¦ç™¾ç§‘ (baidu.com)</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>NDK</tag>
      </tags>
  </entry>
  <entry>
    <title>JVMå­¦ä¹ â€”â€”Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</title>
    <url>/2023/03/11/JVM%E5%AD%A6%E4%B9%A0%E2%80%94%E2%80%94Java%E5%86%85%E5%AD%98%E5%8C%BA%E5%9F%9F%E4%B8%8E%E4%B8%8E%E5%86%85%E5%AD%98%E6%BA%A2%E5%87%BA%E5%BC%82%E5%B8%B8/</url>
    <content><![CDATA[<h1>JVMå­¦ä¹ â€”â€”Javaå†…å­˜åŒºåŸŸä¸å†…å­˜æº¢å‡ºå¼‚å¸¸</h1>
<h2 id="1-ç®€ä»‹"><a class="header-anchor" href="#1-ç®€ä»‹">Â¶</a>1. ç®€ä»‹</h2>
<p>åœ¨C/C++å½“ä¸­ï¼Œå†…å­˜çš„ç®¡ç†éœ€è¦ç”±ç¨‹åºå‘˜<strong>æ‰‹åŠ¨</strong>æ“ä½œï¼Œä½¿ç”¨<code>malloc</code>æˆ–<code>new</code>åˆ›å»ºå¯¹è±¡ï¼Œç„¶åå†ç›¸å¯¹åº”åœ°è°ƒç”¨<code>free</code>æˆ–<code>delete</code>å¯¹å…ˆå‰åˆ†é…å‡ºå»çš„ç©ºé—´äºˆä»¥é‡Šæ”¾</p>
<p>å°½ç®¡æœ€ç»ˆC/C++çš„<strong>æ‰§è¡Œæ•ˆç‡æ¯”è¾ƒé«˜</strong>ï¼Œä½†æ˜¯å¼€å‘èµ·æ¥ä¼šå¾ˆå¤´ç–¼ï¼Œå› ä¸ºå†…å­˜çš„é—®é¢˜æ˜¯ç»•ä¸å¼€çš„ï¼Œæ­£æ‰€è°“<strong>æƒåŠ›è¶Šå¤§ï¼Œè´£ä»»è¶Šå¤§</strong>ï¼Œå†…å­˜çš„æ“ä½œå¯å¾—è°¨æ…åœ°å¤šæƒ³æƒ³</p>
<p>è€Œåœ¨Javaå½“ä¸­ï¼Œ<strong>å†…å­˜çš„ç®¡ç†äº¤ç”±è™šæ‹Ÿæœº</strong>ï¼Œä¹Ÿå°±æ˜¯JVMè´Ÿè´£ï¼Œè€Œç¨‹åºå‘˜å¯ä»¥å¥½å¥½å…³æ³¨ä¸šåŠ¡é€»è¾‘ï¼ŒGCä¼šå¯¹ç©ºé—´è¿›è¡Œé‡Šæ”¾ï¼Œè™½ç„¶ä¼šç‰ºç‰²ä¸€éƒ¨åˆ†æ€§èƒ½ï¼Œä½†æ˜¯å¼€å‘æ•ˆç‡æå‡äº†å¾ˆå¤šï¼Œè€Œæ€§èƒ½æ–¹é¢ä¹Ÿå¯ä»¥å€ŸåŠ©ç¡¬ä»¶å¾€ä¸Šæ€¼</p>
<h2 id="2-è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ"><a class="header-anchor" href="#2-è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ">Â¶</a>2. è¿è¡Œæ—¶æ•°æ®åŒºåŸŸ</h2>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302191721766.webp" alt="img"></p>
<h3 id="2-1-ç¨‹åºè®¡æ•°å™¨"><a class="header-anchor" href="#2-1-ç¨‹åºè®¡æ•°å™¨">Â¶</a>2.1. ç¨‹åºè®¡æ•°å™¨</h3>
<p><strong>ç¨‹åºè®¡æ•°å™¨</strong>ç®€ç§°<strong>PC</strong>ï¼ˆProgram Counterï¼‰ï¼Œæ˜¯ä¸€å—<strong>è¾ƒå°çš„å†…å­˜ç©ºé—´</strong>ï¼Œå°†å…¶çœ‹åšæ˜¯å½“å‰ç¨‹åºæ‰€æ‰§è¡Œçš„å­—èŠ‚ç çš„è¡Œå·æŒ‡ç¤ºå™¨</p>
<h4 id="2-1-1-ä½œç”¨"><a class="header-anchor" href="#2-1-1-ä½œç”¨">Â¶</a>2.1.1. ä½œç”¨</h4>
<p>Javaæºæ–‡ä»¶åœ¨<strong>ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶</strong>åï¼Œä¸¢ç»™JVMæ‰§è¡Œï¼Œ<strong>å­—èŠ‚ç è§£é‡Šå™¨</strong>é€šè¿‡æ”¹å˜PCçš„å€¼ï¼Œå¾€ä¸‹è¯»æŒ‡ä»¤ï¼Œå°†æŒ‡ä»¤ä¸€æ¡æ¡åœ°å–å‡ºæ¥æ‰§è¡Œ</p>
<h4 id="2-1-2-å¤šçº¿ç¨‹åœºæ™¯"><a class="header-anchor" href="#2-1-2-å¤šçº¿ç¨‹åœºæ™¯">Â¶</a>2.1.2. å¤šçº¿ç¨‹åœºæ™¯</h4>
<p>Javaåœ¨å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹ï¼Œ<strong>çº¿ç¨‹ä¼šè½®æµè¿›è¡Œåˆ‡æ¢</strong>ï¼Œæ ¹æ®å„è‡ªè¢«åˆ†é…åˆ°çš„<strong>CPUæ—¶é—´</strong>è€Œå®š</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303111311964.png" alt="image-20230311131144297"></p>
<p><strong>åœ¨ä»»ä½•ä¸€ä¸ªç¡®å®šçš„æ—¶åˆ»ï¼Œä¸€ä¸ªå¤„ç†å™¨ï¼ˆå¯¹äºå¤šæ ¸å¤„ç†å™¨æ¥è¯´æ˜¯ä¸€ä¸ªå†…æ ¸ï¼‰éƒ½åªä¼šæ‰§è¡Œä¸€æ¡çº¿ç¨‹ä¸­çš„æŒ‡ä»¤</strong></p>
<p>çº¿ç¨‹åˆ‡æ¢æ‰§è¡Œåè¿˜éœ€è¦ç»§ç»­ä»ä¸Šæ¬¡çš„ä½ç½®ç»§ç»­æ‰§è¡Œï¼Œé‚£ä¹ˆä¸ºäº†èƒ½å¤Ÿä½¿å…¶æ¢å¤åˆ°æ­£ç¡®çš„ä½ç½®ï¼Œ<strong>æ¯æ¡çº¿ç¨‹éœ€è¦ç‹¬ç«‹çš„PC</strong>ï¼ˆå°±å¥½åƒçœ‹ä¹¦çš„æ—¶å€™æ”¾ä¸ªä¹¦ç­¾ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303111308781.png" alt="image-20230311130752009"></p>
<p>å› è€Œå„ä¸ªçº¿ç¨‹é—´çš„PCæ˜¯äº’ä¸å½±å“çš„ï¼Œç‹¬ç«‹åœ°è¿›è¡Œå­˜å‚¨ï¼Œè¿™ç±»å†…å­˜åŒºåŸŸä¹Ÿè¢«ç§°ä¸º**â€œçº¿ç¨‹ç§æœ‰â€å†…å­˜**ï¼Œå°±æ¯”æ–¹è¯´ä½ åœ¨ä½ å®¶é‡Œå‘†ç€ï¼Œæˆ‘åœ¨æˆ‘å®¶é‡Œå‘†ç€ï¼Œäº’ä¸å½±å“</p>
<h4 id="2-1-3-ç‰¹ç‚¹"><a class="header-anchor" href="#2-1-3-ç‰¹ç‚¹">Â¶</a>2.1.3. ç‰¹ç‚¹</h4>
<p>å¦‚æœå½“å‰çº¿ç¨‹æ­£åœ¨æ‰§è¡Œçš„æ˜¯ä¸€ä¸ª<strong>Javaæ–¹æ³•</strong>ï¼Œé‚£ä¹ˆPCè®°å½•çš„ä¾¿æ˜¯<strong>å½“å‰JVMå­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€</strong>ï¼›å¦‚æœæ˜¯<strong>Nativeæ–¹æ³•</strong>ï¼Œé‚£ä¹ˆPCè®°å½•çš„åˆ™æ˜¯<strong>ç©ºï¼ˆUndefinedï¼‰</strong></p>
<p><strong>PCæ˜¯å”¯ä¸€ä¸€ä¸ªåœ¨Javaè™šæ‹Ÿæœºè§„èŒƒå½“ä¸­æ²¡æœ‰è§„å®šä»»ä½•OutOfMemoryErroræƒ…å†µçš„å†…å­˜åŒºåŸŸ</strong></p>
<h3 id="2-2-Javaè™šæ‹Ÿæœºæ ˆ"><a class="header-anchor" href="#2-2-Javaè™šæ‹Ÿæœºæ ˆ">Â¶</a>2.2. Javaè™šæ‹Ÿæœºæ ˆ</h3>
<p><strong>Javaè™šæ‹Ÿæœºæ ˆ</strong>ï¼ˆJava Virtual Machine Stacksï¼‰æ˜¯<strong>çº¿ç¨‹ç§æœ‰</strong>çš„ï¼Œå…¶<strong>ç”Ÿå‘½å‘¨æœŸ</strong>ä¸çº¿ç¨‹ç›¸åŒ</p>
<p>è™šæ‹Ÿæœºæ ˆæè¿°çš„æ˜¯<strong>Javaæ–¹æ³•æ‰§è¡Œçš„å†…å­˜æ¨¡å‹</strong> ï¼šæ¯ä¸ªæ–¹æ³•æ‰§è¡Œçš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ª<strong>æ ˆå¸§</strong>ï¼ˆå¹³æ—¶ä½¿ç”¨IDEçš„æ–­ç‚¹è°ƒè¯•åº”è¯¥éƒ½èƒ½å¤Ÿçœ‹åˆ°ï¼‰</p>
<h4 id="2-2-1-æ ˆå¸§"><a class="header-anchor" href="#2-2-1-æ ˆå¸§">Â¶</a>2.2.1. æ ˆå¸§</h4>
<p>æ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯</p>
<p>æ–¹æ³•å¼€å§‹è°ƒç”¨æ—¶ï¼Œä¼šå¯¹å…¶å…¥æ ˆï¼Œä¹Ÿå°±æ˜¯æŠŠå¯¹åº”çš„æ ˆå¸§å¾€æ ˆä¸­å­˜æ”¾ï¼Œç­‰åˆ°æ–¹æ³•è°ƒç”¨å®Œæˆï¼Œå†å°†æ–¹æ³•å¯¹åº”çš„æ ˆå¸§ä»æ ˆä¸­å¼¹å‡ºï¼ˆ<strong>å¯¹åº”äºæ ˆé¡¶æŒ‡é’ˆçš„ä¸‹ç§»</strong>ï¼‰ï¼›å› è€Œ<strong>æ–¹æ³•çš„è°ƒç”¨è¿‡ç¨‹</strong>ä¾¿å¯¹åº”ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆçš„<strong>å…¥æ ˆä¸å‡ºæ ˆ</strong>æ“ä½œ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303111319576.png" alt="image-20230311131901681"></p>
<h4 id="2-2-2-å†…å­˜åˆ’åˆ†"><a class="header-anchor" href="#2-2-2-å†…å­˜åˆ’åˆ†">Â¶</a>2.2.2. å†…å­˜åˆ’åˆ†</h4>
<p>Javaçš„å†…å­˜è¿œä¸ä»…ä»…æ˜¯æ ˆç©ºé—´å’Œå †ç©ºé—´ï¼Œè¿™åªæ˜¯ç”±äºè¿™ä¸¤å—åŒºåŸŸä¸ç¼–ç¨‹äººå‘˜å…³ç³»æœ€ä¸ºå¯†åˆ‡</p>
<p>é€šå¸¸æ„ä¹‰ä¸Šæ‰€è°ˆåˆ°çš„æ ˆä¾¿æ˜¯<strong>è™šæ‹Ÿæœºæ ˆ</strong>ï¼Œæˆ–è€…è¯´æ˜¯å…¶ä¸­<strong>å±€éƒ¨å˜é‡è¡¨</strong>çš„éƒ¨åˆ†ï¼ˆå¼€å‘è€…Debugé¡¹ç›®ä»£ç æ—¶ä¸»è¦å…³æ³¨çš„éƒ¨åˆ†ï¼‰</p>
<h4 id="2-2-3-å±€éƒ¨å˜é‡è¡¨"><a class="header-anchor" href="#2-2-3-å±€éƒ¨å˜é‡è¡¨">Â¶</a>2.2.3. å±€éƒ¨å˜é‡è¡¨</h4>
<p>å±€éƒ¨å˜é‡è¡¨å­˜æ”¾äº†<strong>ç¼–è¯‘æœŸå¯çŸ¥</strong>çš„å„ç§åŸºæœ¬æ•°æ®ç±»å‹ã€å¯¹è±¡å¼•ç”¨ã€returnAddressç±»å‹</p>
<p>64ä½é•¿åº¦çš„ä¸º<code>long</code>å’Œ<code>double</code>ç±»å‹ï¼Œ<strong>éœ€è¦å ç”¨ä¸¤ä¸ªå±€éƒ¨å˜é‡ç©ºé—´</strong>ï¼ˆSlotï¼‰ï¼Œå…¶ä½™çš„æ•°æ®ç±»å‹åªå ç”¨ä¸€ä¸ª</p>
<p><strong>å±€éƒ¨å˜é‡è¡¨æ‰€éœ€çš„å†…å­˜ç©ºé—´åœ¨ç¼–è¯‘æœŸå·²å®Œæˆåˆ†é…</strong>ï¼Œå› è€Œåœ¨è¿›å…¥ä¸€ä¸ªæ–¹æ³•å†…éƒ¨çš„æ—¶å€™ï¼Œè¯¥æ–¹æ³•å¯¹åº”çš„å¸§éœ€è¦åˆ†é…ç»™å±€éƒ¨å˜é‡è¡¨çš„ç©ºé—´æ˜¯å·²ç»ç¡®å®šçš„ï¼Œå¹¶ä¸”<strong>åœ¨æ–¹æ³•çš„è¿è¡ŒæœŸé—´ä¸ä¼šå‘ç”Ÿæ”¹å˜</strong></p>
<h4 id="2-2-4-è§„å®šå¼‚å¸¸"><a class="header-anchor" href="#2-2-4-è§„å®šå¼‚å¸¸">Â¶</a>2.2.4. è§„å®šå¼‚å¸¸</h4>
<p><strong>æ ˆæº¢å‡º</strong>ï¼ˆStackOverflowErrorï¼‰</p>
<p>å½“<strong>çº¿ç¨‹è¯·æ±‚çš„æ ˆçš„æ·±åº¦è¶…è¿‡äº†è™šæ‹Ÿæœºæ‰€èƒ½å…è®¸çš„æ·±åº¦</strong>ï¼Œä¾¿ä¼šæŠ›å‡º<code>StackOverflowError</code>å¼‚å¸¸</p>
<p><strong>OOM</strong>ï¼ˆOutOfMemoryErrorï¼‰</p>
<p>æ¶‰åŠåˆ°è™šæ‹Ÿæœº<strong>åŠ¨æ€æ‰©å±•</strong>ï¼ˆå¤§éƒ¨åˆ†è™šæ‹Ÿæœºéƒ½å¯ä»¥æ”¯æŒï¼‰ï¼Œå¦‚æœåœ¨æ‰©å±•çš„è¿‡ç¨‹ä¸­æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜ï¼Œå°†ä¼šæŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸</p>
<h3 id="2-3-æœ¬åœ°æ–¹æ³•æ ˆ"><a class="header-anchor" href="#2-3-æœ¬åœ°æ–¹æ³•æ ˆ">Â¶</a>2.3. æœ¬åœ°æ–¹æ³•æ ˆ</h3>
<p><strong>æœ¬åœ°æ–¹æ³•æ ˆ</strong>ï¼ˆNative Method Stackï¼‰ä¸Javaè™šæ‹Ÿæœºæ ˆæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼ŒäºŒè€…ä¸»è¦çš„åŒºåˆ«åœ¨äºJavaè™šæ‹Ÿæœºæ ˆçš„æœåŠ¡å¯¹è±¡æ˜¯Javaæ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯å­—èŠ‚ç ï¼‰ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆçš„æœåŠ¡å¯¹è±¡åˆ™æ˜¯<strong>Nativeæ–¹æ³•</strong></p>
<p>è™šæ‹Ÿæœºçš„è§„èŒƒä¸­å¯¹äºæœ¬åœ°æ–¹æ³•æ ˆçš„è¯­è¨€ã€ä½¿ç”¨æ–¹å¼ã€æ•°æ®ç»“æ„å¹¶<strong>æ²¡æœ‰å¼ºåˆ¶è§„å®š</strong>ï¼Œå¯ä»¥ç”±è™šæ‹Ÿæœºè‡ªç”±å®ç°</p>
<p>å¹¶ä¸”ï¼Œæœ¬åœ°æ–¹æ³•æ ˆå’ŒJavaè™šæ‹Ÿæœºæ ˆä¸€æ ·ï¼Œä¼šæŠ›å‡º<code>StackOverflowError</code>å’Œ<code>OutOfMemoryError</code>å¼‚å¸¸</p>
<h3 id="2-4-Javaå †"><a class="header-anchor" href="#2-4-Javaå †">Â¶</a>2.4. Javaå †</h3>
<p><strong>Javaå †</strong>ï¼ˆJava Heapï¼‰æ˜¯Javaè™šæ‹Ÿæœºæ‰€ç®¡ç†çš„å†…å­˜ä¸­<strong>æœ€å¤§çš„ä¸€å—</strong>ï¼Œ<strong>è¢«æ‰€æœ‰çº¿ç¨‹å…±äº«</strong>ï¼Œå¹¶ä¸”<strong>åœ¨è™šæ‹Ÿæœºå¯åŠ¨çš„æ—¶å€™è¿›è¡Œåˆ›å»º</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303062335603.png" alt="image-20230306233516594"></p>
<p>è¯¥å†…å­˜åŒºåŸŸ<strong>å”¯ä¸€çš„ç›®çš„å°±æ˜¯ç”¨æ¥å­˜æ”¾å¯¹è±¡å®ä¾‹</strong>ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ï¼ˆåæœŸç”±äºæ ˆä¸Šåˆ†é…ã€æ ‡é‡æ›¿æ¢ä¼˜åŒ–æŠ€æœ¯å¯¼è‡´äº†ä¸€äº›å¾®å¦™çš„å˜åŒ–ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303062340075.png" alt="image-20230306234005845"></p>
<p><strong>Javaå †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„ä¸»è¦åŒºåŸŸ</strong>ï¼Œå› æ­¤æœ‰æ—¶ä¹Ÿè¢«ç§°ä¸º<strong>GCå †</strong></p>
<p>ç”±äºç°åœ¨çš„GCåŸºæœ¬ä¸Šé‡‡ç”¨çš„éƒ½æ˜¯<strong>åˆ†ä»£æ”¶é›†ç®—æ³•</strong>ï¼Œå› æ­¤åœ¨Javaå †ä¸­å¯ä»¥è¿›ä¸€æ­¥ç»†åˆ†ä¸º<strong>æ–°ç”Ÿä»£</strong>å’Œ<strong>è€å¹´ä»£</strong>ï¼Œä¹Ÿå¯ä»¥ç»§ç»­å‘ä¸‹ç»†åˆ†ä¸º<strong>Edenç©ºé—´</strong>ã€<strong>From Survivorç©ºé—´</strong>ã€<strong>To Survivor</strong>ç©ºé—´ç­‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303062351471.png" alt="image-20230306235101585"></p>
<p>ä»å†…å­˜åˆ†é…çš„è§’åº¦ï¼Œçº¿ç¨‹å…±äº«çš„å †å½“ä¸­å¯èƒ½åˆ’åˆ†å‡ºå¤šä¸ªçº¿ç¨‹ç§æœ‰çš„åˆ†é…ç¼“å†²åŒºï¼ˆThread Local Allocation Bufferï¼ŒTLABï¼‰ï¼Œä½†æ˜¯å­˜æ”¾çš„ä¸œè¥¿è¿˜æ˜¯å®ä¾‹ï¼Œè¿™ä¸€ç‚¹å€’æ˜¯æ²¡æœ‰å˜çš„</p>
<p>Javaå †<strong>å¯ä»¥æ˜¯ç‰©ç†ä¸Šä¸è¿ç»­çš„ç©ºé—´ï¼Œåªè¦é€»è¾‘ä¸Šè¿ç»­å³å¯</strong>ï¼Œ<strong>æ—¢å¯ä»¥æ˜¯å›ºå®šå¤§å°çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å¯æ‰©å±•çš„</strong>ï¼ˆå½“å‰ä¸»æµçš„è™šæ‹Ÿæœºéƒ½æ˜¯æŒ‰ç…§å¯æ‰©å±•æ¥å®ç°çš„ï¼‰</p>
<p>å¦‚æœå½“å‰çš„å †ä¸­æ²¡æœ‰è¶³å¤Ÿçš„ç©ºé—´å®Œæˆå®ä¾‹åˆ†é…ï¼Œä¸”æ— æ³•æ‰©å±•æ—¶ï¼Œå°†ä¼šæŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸</p>
<h3 id="2-5-æ–¹æ³•åŒº"><a class="header-anchor" href="#2-5-æ–¹æ³•åŒº">Â¶</a>2.5. æ–¹æ³•åŒº</h3>
<p><strong>æ–¹æ³•åŒº</strong>ï¼ˆMethod Areaï¼‰ä¸Javaå †ä¸€æ ·ï¼Œä¸º<strong>å„ä¸ªçº¿ç¨‹å…±äº«çš„å†…å­˜åŒºåŸŸ</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303072304257.png" alt="image-20230307230422675"></p>
<p>æ–¹æ³•åŒºç”¨äº<strong>å­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303072313233.png" alt="image-20230307231331414"></p>
<p>åœ¨Javaè™šæ‹Ÿæœºçš„è§„èŒƒä¸­æŠŠæ–¹æ³•åŒº<strong>æè¿°ä¸ºå †çš„ä¸€ä¸ªé€»è¾‘éƒ¨åˆ†</strong>ï¼Œä½†æ˜¯å…¶æœ‰ä¸€ä¸ªåˆ«åï¼Œç§°ä¸º <strong>Non-Heap ï¼ˆéå †ï¼‰</strong></p>
<blockquote>
<p><strong>æ°¸ä¹…ä»£</strong>æ˜¯HotSpotè™šæ‹Ÿæœºå›¢é˜ŸæŠŠ<strong>GCçš„åˆ†ä»£æ”¶é›†æ‰©å±•è‡³æ–¹æ³•åŒº</strong>è€Œå½¢æˆæ–¹æ³•åŒºçš„å†…å­˜ç®¡ç†å®ç°ï¼Œå¯¹å…¶ä»–è™šæ‹Ÿæœºè€Œè¨€å¹¶ä¸å­˜åœ¨è¯¥æ¦‚å¿µ</p>
</blockquote>
<p>Javaè™šæ‹Ÿæœºè§„èŒƒå¯¹æ–¹æ³•åŒºçš„é™åˆ¶éå¸¸å®½æ¾ï¼Œ<strong>ä¸éœ€è¦ç‰©ç†è¿ç»­å†…å­˜ï¼ˆå¯ä»¥å›ºå®šå¤§å°æˆ–è€…å¯æ‰©å±•ï¼Œä¸å †ä¸€æ ·ï¼‰ï¼Œè¿˜å¯ä»¥é€‰æ‹©ä¸å®ç°åƒåœ¾æ”¶é›†</strong>ï¼›å†…å­˜åŒºçš„åƒåœ¾æ”¶é›†é¢‘ç‡æ˜¯æ¯”è¾ƒä½çš„ï¼Œ<strong>å…¶å›æ”¶çš„ä¸»è¦ç›®æ ‡æ˜¯å¯¹å¸¸é‡æ± çš„å›æ”¶å’Œå¯¹ç±»å‹çš„å¸è½½</strong>ï¼Œä½†æ˜¯å¾ˆå¿…è¦</p>
<p>å½“æ–¹æ³•åŒºæ— æ³•æ»¡è¶³å†…å­˜åˆ†é…éœ€æ±‚æ—¶ï¼Œå°†åŒæ ·æŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸</p>
<h3 id="2-6-è¿è¡Œæ—¶å¸¸é‡æ± "><a class="header-anchor" href="#2-6-è¿è¡Œæ—¶å¸¸é‡æ± ">Â¶</a><strong>2.6. è¿è¡Œæ—¶å¸¸é‡æ± </strong></h3>
<p>è¿è¡Œæ—¶å¸¸é‡æ± ï¼ˆRuntime Constant Poolï¼‰æ˜¯æ–¹æ³•åŒºçš„ä¸€éƒ¨åˆ†</p>
<p>Classæ–‡ä»¶ä¸­é™¤äº†æœ‰ç±»çš„ç‰ˆæœ¬ã€å­—æ®µã€æ–¹æ³•ã€æ¥å£ç­‰æè¿°ä¿¡æ¯ï¼Œè¿˜åŒ…æ‹¬äº†<strong>å¸¸é‡æ± </strong>ï¼ˆConstant Pool Tableï¼‰ä¿¡æ¯ï¼Œç”¨äº<strong>å­˜æ”¾ç¼–è¯‘æœŸç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨</strong>ï¼Œè¿™éƒ¨åˆ†å†…å®¹åœ¨<strong>ç±»åŠ è½½åä¼šè¿›å…¥æ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± å­˜æ”¾</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303100001569.png" alt="image-20230310000116337"></p>
<p>Javaè™šæ‹Ÿæœºå¯¹<strong>Classæ–‡ä»¶</strong>æ¯ä¸€éƒ¨åˆ†ï¼ˆåŒ…æ‹¬å¸¸é‡æ± ï¼‰çš„<strong>æ ¼å¼</strong>éƒ½æœ‰<strong>ä¸¥æ ¼è§„å®š</strong>ï¼šæ¯ä¸€ä¸ªå­—èŠ‚ç”¨äºå­˜å‚¨ä»€ä¹ˆæ•°æ®éƒ½éœ€è¦ç¬¦åˆè§„èŒƒä¸Šçš„è¦æ±‚æ‰èƒ½å¤Ÿå¾—åˆ°è™šæ‹Ÿæœºçš„è®¤å¯ã€è£…è½½ä»¥åŠæ‰§è¡Œ</p>
<p>è‡³äºè¿è¡Œæ—¶å¸¸é‡æ± ï¼ŒJavaè™šæ‹Ÿæœºå¹¶<strong>æ²¡æœ‰åšç»†èŠ‚å±‚é¢ä¸Šçš„è¦æ±‚</strong>ï¼Œå„ä¸ªè™šæ‹Ÿæœºæä¾›å•†å¯ä»¥æ ¹æ®å…·ä½“çš„éœ€æ±‚è¿›è¡Œä¸åŒçš„å®ç°</p>
<p>é™¤äº†Classæ–‡ä»¶ä¸­çš„<strong>ç¬¦å·å¼•ç”¨</strong>ï¼Œè¿˜ä¼šå°†ç¿»è¯‘å‡ºæ¥çš„<strong>ç›´æ¥å¼•ç”¨</strong>å­˜å‚¨åˆ°<strong>è¿è¡Œæ—¶å¸¸é‡æ± </strong>ä¸­</p>
<p>ç›¸å¯¹äºClassæ–‡ä»¶å¸¸é‡æ± ï¼Œè¿è¡Œæ—¶å¸¸é‡æ± è¿˜å…·æœ‰<strong>åŠ¨æ€æ€§</strong>ï¼Œ<strong>å¸¸é‡å¹¶éä»…åœ¨ç¼–è¯‘æœŸæ‰äº§ç”Ÿ</strong>ï¼Œ<strong>è¿è¡ŒæœŸ</strong>ä¹Ÿå¯ä»¥å°†æ–°çš„å¸¸é‡æ”¾å…¥è¿è¡Œæ—¶å¸¸é‡æ± ï¼Œå¦‚<code>String</code>ç±»çš„<code>intern()</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303110014169.png" alt="image-20230311000548539"></p>
<p>ç”±äºè¿è¡Œæ—¶å¸¸é‡æ± ä¹Ÿè¿˜æ˜¯å†…å­˜çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤å†…å­˜çš„å¤§å°ä¾ç„¶ä¼šå¯¹å…¶å½¢æˆåˆ¶çº¦ï¼Œå½“æ— æ³•ç”³è¯·åˆ°å†…å­˜æ—¶ä¼šæŠ›å‡º<code>OutOfMemoryError</code>å¼‚å¸¸</p>
<h3 id="2-7-ç›´æ¥å†…å­˜"><a class="header-anchor" href="#2-7-ç›´æ¥å†…å­˜">Â¶</a>2.7. ç›´æ¥å†…å­˜</h3>
<p>ç›´æ¥å†…å­˜ï¼ˆDirect Memoryï¼‰ <strong>æœ¬èº«å¹¶ä¸æ˜¯è™šæ‹Ÿæœºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†</strong>ï¼Œä¹ŸéJavaè™šæ‹Ÿæœºè§„èŒƒä¸­å®šä¹‰çš„å†…å­˜åŒºåŸŸ</p>
<p>ä½†æ˜¯åœ¨å®é™…æƒ…å†µä¸­ï¼Œè¿™å—åŒºåŸŸè¢«é¢‘ç¹ä½¿ç”¨ï¼Œä¹Ÿä¼šå¯¼è‡´<code>OutOfMemoryError</code>å¼‚å¸¸çš„å‡ºç°</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
      </tags>
  </entry>
  <entry>
    <title>Python è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼ˆä¸€ï¼‰</title>
    <url>/2023/05/18/Python%20%E8%BF%9B%E6%AD%A5%E4%B8%80%E7%82%B9%E7%82%B9%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Python è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼ˆä¸€ï¼‰</h1>
<h2 id="1-ç®€ä»‹"><a class="header-anchor" href="#1-ç®€ä»‹">Â¶</a>1. ç®€ä»‹</h2>
<p>å…¶å®æ”¾åˆ°ç°åœ¨æ¥è®²ï¼ŒPythonçš„çŸ¥ååº¦å·²ç»å¾ˆé«˜äº†ï¼Œéšç€AIç­‰æŠ€æœ¯çš„å…´èµ·ï¼Œå¯ä»¥è¯´å·²ç»æ˜¯ç«å‡ºåœˆäº†ï¼›åœ¨å¾ˆå¤šé¢†åŸŸå®ƒéƒ½æœ‰ç€ä¸é”™çš„è¡¨ç°ï¼Œè¯¸å¤šçš„ä¼˜ç‚¹é›†ä¸€èº«ä½¿å…¶åœ°ä½ä¸€å†ä¸Šå‡ï¼Œè€Œä¸”è¿˜ä¼šç»§ç»­ä¸Šå‡</p>
<p>ä½†æ˜¯ä»å…¶èµ·æºæ¥è¯´ï¼Œå®ƒçš„è¯ç”Ÿä»¿ä½›ä¸€åœºâ€œç¾ä¸½çš„æ„å¤–â€ï¼š</p>
<p>1989å¹´ï¼Œå¤§ä½¬ç¨‹åºå‘˜Guido van Rossumåœ¨åœ£è¯èŠ‚å½“å¤©ç”±äºæ— èŠï¼Œè€Œå¯»æ‰¾äº†ä¸€ç§å†™ç¨‹åºçš„æ–¹å¼è¿›è¡Œå¨±ä¹ï¼ˆå¤§ä½¬å°±æ˜¯ä¸ä¸€èˆ¬ï¼‰ï¼ŒPythonå°±åœ¨è¿™æ ·çš„è‡ªå¨±è‡ªä¹ä¸­è¯ç”Ÿäº†ï¼Œé¢‡æœ‰ä¸€ç§æ¬§äº¨åˆ©å¼çš„æ„Ÿè§‰ï¼Œä¹Ÿè®¸æ­£æ˜¯è¿™ç§æ— ä¸ä¼¦æ¯”çš„çƒ­çˆ±ä»¥åŠå¯¹äºå½“ä¸‹ç¼–ç¨‹è¯­è¨€ç—›ç‚¹çš„æ·±åˆ»æ„Ÿæ‚Ÿæ‰ä½¿å¾—Pythonæ—¥åä¸ºäººä»¬æ‰€è¿½æ§</p>
<p>â€œäººç”Ÿè‹¦çŸ­ï¼Œæˆ‘ç”¨Pythonâ€å¯èƒ½æ˜¯æœ€ä¸ºäººç†ŸçŸ¥çš„Pythonå®£ä¼ è¯­äº†ï¼Œä½“ç°äº†å…¶è®¾è®¡æ€æƒ³ç€çœ¼äºç®€å•ã€ä¼˜é›…çš„ç†å¿µ</p>
<h2 id="2-ç”¨é€”"><a class="header-anchor" href="#2-ç”¨é€”">Â¶</a>2. ç”¨é€”</h2>
<p>Pythonç°é˜¶æ®µæ­£åœ¨å„ä¸ªæ–°å…´çš„é¢†åŸŸï¼Œå¦‚ï¼šå¤§æ•°æ®ã€AIã€æ•°æ®æŒ–æ˜ç­‰é¢†åŸŸå¤§æ”¾å¼‚å½©ï¼ŒåŒæ—¶ä¹Ÿå‚¬ç”Ÿäº†å¤§é‡çŸ¥åçš„æ¡†æ¶äº§å“ï¼Œå¦‚ï¼šDjangoã€TensorFlowã€PyTorchã€Scrapyç­‰ï¼Œå¹¶ä¸”è¿˜åœ¨ä¸æ–­åœ°æ‰©å……ç€å¼€å‘è€…ç¤¾åŒº</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305152224687.png" alt="image-20230515222438499" style="zoom:110%;" />
<img src="C:/Users/Minos/AppData/Roaming/Typora/typora-user-images/image-20230515222552727.png" alt="image-20230515222552727" style="zoom: 15%;" />
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305152226264.png" alt="image-20230515222634942"></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305152227901.png" alt="image-20230515222709192" style="zoom:50%;" />
<p>å…¶ä¸­æœ€å¸å¼•æˆ‘çš„å°±æ˜¯Pythonç®€å•çš„è¯­æ³•ï¼Œä¾¿æ·çš„ç»“æ„ï¼Œèƒ½å¤Ÿè®©æˆ‘æŠŠæ—¥å¸¸å¼€å‘ä¸­å¾ˆå¤šä¸€é—ªè€Œè¿‡çš„å°å¿µå¤´æ‹¿å»è¿›è¡Œå®ç°ï¼Œä»è€Œåšå‡ºä¸€äº›å°ç©æ„å„¿ï¼Œä½¿æˆ‘çš„å·¥ä½œæ›´åŠ è½»æ¾å’Œæœ‰è¶£ï¼Œè¿™ç§å°å°çš„æˆå°±æ„Ÿæˆ–è®¸å°±æ˜¯æˆ‘èƒ½å¤ŸåšæŒä¸‹å»çš„åŠ¨åŠ›å§~</p>
<h2 id="3-ç¯å¢ƒåŠå·¥å…·"><a class="header-anchor" href="#3-ç¯å¢ƒåŠå·¥å…·">Â¶</a>3. ç¯å¢ƒåŠå·¥å…·</h2>
<blockquote>
<p><a href="https://www.python.org/">Pythonå®˜ç½‘(https://www.python.org/)</a></p>
<p><a href="https://www.jetbrains.com/pycharm/">PyCharm: the Python IDE for Professional Developers by JetBrains</a></p>
<p>[<a href="https://code.visualstudio.com/">Visual Studio Code - Code Editing. Redefined</a>](<a href="https://www.jetbrains.com/pycharm/">https://www.jetbrains.com/pycharm/</a>)</p>
</blockquote>
<p>Pythonæœ€å¥½ç”¨çš„IDEåº”è¯¥æ˜¯JetBrainsçš„PyCharmäº†ï¼Œä½†æ˜¯åœ¨å­¦ä¹ çš„ç¯èŠ‚ï¼Œæˆ‘è¿˜æ˜¯æ›´åŠ é’çVS Codeï¼Œæ¯•ç«Ÿç¼–è¾‘å™¨å’ŒIDEåœ¨è¿™é‡Œåªæ˜¯å‡ ä¸ªæ’ä»¶çš„è·ç¦»</p>
<p>å‰æœŸçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å€ŸåŠ©Pythonè‡ªå¸¦çš„äº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·â€”â€”IDLEï¼Œä»¥ä¸€é—®ä¸€ç­”çš„å½¢å¼ç†Ÿç»ƒç®€å•çš„è¯­å¥</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305152247936.png" alt="image-20230515224741939" style="zoom: 67%;" />
<p>ä½†éšç€ç¨‹åºé€æ¸å¤æ‚ï¼Œè¿™æ ·çš„æ•ˆç‡ä¸é«˜ï¼Œè€Œä¸”å®¹æ˜“å½±å“æ•´ä½“çš„æ€è·¯ï¼Œæˆ‘ä¸ªäººæ¯”è¾ƒæ¨èJupyter Notebookï¼Œå› ä¸ºåœ¨å­¦ä¹ çš„é˜¶æ®µåŸºæœ¬ä¸Šæ˜¯ä»¥ä»£ç ç‰‡æ®µä¸ºä¸»ï¼Œç”¨äºç†Ÿæ‚‰ä¸€äº›è¯­è¨€çš„ç‰¹æ€§æˆ–æ˜¯ç®€å•çš„ç»ƒä¹ å¾ˆæ–¹ä¾¿ï¼Œæ‰§è¡Œç»“æœå¯ä»¥å’Œä»£ç ç‰‡æ®µè®°å½•åˆ°ä¸€èµ·ï¼Œéšæ—¶æ¸©ä¹ </p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305142037627.png" alt="image-20230514203709896" style="zoom: 80%;" />
<p>VS Codeå½“ä¸­ä¹Ÿæ˜¯è£…ä¸ªæ’ä»¶å°±èƒ½æå®š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305142038385.png" alt="image-20230514203831338" style="zoom:67%;" />
<h2 id="4-æœ€ç®€å•çš„ç¨‹åº"><a class="header-anchor" href="#4-æœ€ç®€å•çš„ç¨‹åº">Â¶</a>4. æœ€ç®€å•çš„ç¨‹åº</h2>
<p>æ ¹æ®ç¼–ç¨‹ç•Œçš„ä¼ ç»Ÿï¼Œå…¥é—¨çš„ç¬¬ä¸€ä¸ªç¨‹åºå¾€å¾€éƒ½æ˜¯åœ¨æ§åˆ¶å°ä¸Šæ‰“å°ä¸€æ®µå­—ç¬¦ä¸²â€”â€”â€œHello World!â€ï¼Œé‚£ä¹ˆPythonçš„æ‰“æ‹›å‘¼æ˜¾å¾—æ›´ä¸ºç›´ç™½</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World!&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯å…¨éƒ¨ï¼Œæ²¡æœ‰ä»»ä½•çš„å®¢å¥—ï¼Œç›´å…¥ä¸»é¢˜</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305182216537.png" alt="image-20230518221620083"></p>
<p>ç‚¹å‡»ä¸€ä¸‹å¯¹åº”ä»£ç æ ¼çš„æ‰§è¡ŒæŒ‰é’®ï¼Œç¨‹åºçš„ç»“æœå°±ä¼šæ˜¾ç¤ºåœ¨ä¸‹æ–¹</p>
<p>è¿™æ˜¯ä¸€ä¸ªæœ€ç®€å•ä¸è¿‡çš„ç¨‹åºï¼Œæˆ‘ä»¬å°†å…¶æ‹†åˆ†ä¸€ä¸‹ï¼š</p>
<p>é¦–å…ˆï¼Œ<code>print()</code>ä½œä¸ºå‡½æ•°ï¼Œå…¶åŠŸèƒ½å°±æ˜¯å°†æŒ‡å®šçš„å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Šï¼Œè€Œ<code>&quot;Hello World!&quot;</code>æ˜¯è¿™ä¸ªå‡½æ•°çš„å‚æ•°ï¼Œå› æ­¤è¿åœ¨ä¸€ä¸ªå°±æ˜¯å°†â€œHello Worldâ€è¾“å‡ºåˆ°æ§åˆ¶å°ä¸Šè¿™ä¸ªåŠŸèƒ½</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305182246073.png" alt="image-20230518224607134"></p>
<p>å°±åƒä¸Šå›¾æ‰€æè¿°çš„ï¼Œ<code>print()</code>åƒè½¦å­ï¼Œè€Œâ€œHello World!â€æ˜¯ä¹˜å®¢ï¼Œ<code>print()</code>çš„ç›®çš„æ˜¯å°†å…¶é€å¾€æ§åˆ¶å°</p>
<p>ä½†æ˜¯å‡ºäº†ä¸€å¥<code>print(&quot;Hello World!&quot;)</code>ä»¥å¤–ï¼Œä¸Šé¢è¿˜æœ‰ä¸€è¡Œä»¥<code>#</code>å¼€å¤´çš„è¯­å¥ï¼Œæ˜¾ç¤ºä¸ºç»¿è‰²ï¼Œé‚£è¿™ä¸ªå…¶å®æ˜¯ä¸å±äºä»£ç çš„èŒƒç•´ï¼Œè¿™æ˜¯ç¨‹åºçš„<strong>æ³¨é‡Š</strong>ï¼ŒPythonè§£é‡Šå™¨ä¼šè‡ªåŠ¨è¿›è¡Œå¿½ç•¥ï¼Œæ‰€ä»¥å†™ä¸ä¸å†™å¹¶ä¸å½±å“ç¨‹åºçš„åŠŸèƒ½</p>
<p>æ³¨é‡Šæ˜¯ç»™å¼€å‘è€…è‡ªå·±æˆ–æ˜¯å›¢é˜Ÿå†…çš„å…¶ä»–äººçœ‹çš„ï¼Œå°±åƒæœ‰äº›äººå–œæ¬¢çœ‹ä¹¦ï¼Œå°¤å…¶å–œæ¬¢å‘è¡¨ä¸€äº›è‡ªå·±çš„çœ‹æ³•ï¼Œé‚£ä¹ˆä»–å¯èƒ½ä¼šæŠŠä¸€äº›è¯­å¥ç”»å‡ºæ¥ï¼Œå†™ä¸€äº›è‡ªå·±çš„è§è§£ï¼Œæˆ–è€…æ˜¯å­¦ä¹ å¤æ–‡ä¸€ç±»ä¸æ˜“ç†è§£çš„æ–‡ç« ï¼Œä½ ä¸ç”¨çœ‹å¾—æ˜ç™½çš„è¯æ ‡æ³¨ä¸€ä¸‹ä¸‹æ¬¡ä½ å¯èƒ½å°±çœ‹ä¸æ˜ç™½äº†</p>
<p>å†™ç¨‹åºä»£ç ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæˆ‘ä¸å¯èƒ½æŒ‡æœ›æ‰€æœ‰çš„äººéƒ½èƒ½å¤Ÿç†è§£æˆ‘â€œç²¾å¦™ç»ä¼¦â€çš„è¯­å¥ï¼Œå› æ­¤å°¤å…¶æ˜¯ä¸€äº›å¤æ‚çš„é€»è¾‘éœ€è¦é€‚å½“è¯´æ˜ï¼Œé¿å…å…¶ä»–äººæ’æŸ¥é—®é¢˜çš„æ—¶å€™â€œå£åèŠ¬èŠ³â€</p>
<p>å› æ­¤<code>#</code>åŠ<code>#</code>åé¢çš„ä¸€è¡Œæ–‡å­—åªæ˜¯å¯¹è¯¥åŠŸèƒ½çš„è¯´æ˜ï¼ˆè¿™ç§æ˜¾è€Œæ˜“è§çš„æ²¡å¿…è¦å†™ï¼Œåªæ˜¯è¯´æ˜ä¸€ä¸‹ï¼‰</p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>NDKï¼ˆå…¥é—¨ï¼‰</title>
    <url>/2023/03/05/NDK%EF%BC%88%E5%85%A5%E9%97%A8%EF%BC%89/</url>
    <content><![CDATA[<h1>NDKï¼ˆå…¥é—¨ï¼‰</h1>
<h2 id="1-ä½¿ç”¨ç›®çš„"><a class="header-anchor" href="#1-ä½¿ç”¨ç›®çš„">Â¶</a>1. ä½¿ç”¨ç›®çš„</h2>
<ul>
<li>è¿›ä¸€æ­¥æå‡è®¾å¤‡æ€§èƒ½ï¼Œä»¥é™ä½å»¶è¿Ÿæˆ–è¿è¡Œæ¸¸æˆæˆ–ç‰©ç†æ¨¡æ‹Ÿç­‰è®¡ç®—å¯†é›†å‹åº”ç”¨</li>
<li>é‡å¤ä½¿ç”¨æ‚¨è‡ªå·±æˆ–å…¶ä»–å¼€å‘è€…çš„ C æˆ– C++ åº“</li>
</ul>
<p>Android StudioåŸç”Ÿåº“ç¼–è¯‘é»˜è®¤ä½¿ç”¨<code>CMake</code>ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒ<code>ndk-build</code></p>
<h2 id="2-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#2-å‡†å¤‡å·¥ä½œ">Â¶</a>2. å‡†å¤‡å·¥ä½œ</h2>
<ul>
<li>NDKï¼šå…è®¸åœ¨Androidä¸­ä½¿ç”¨C/C++</li>
<li>CMakeï¼šå¤–éƒ¨æ„å»ºå·¥å…·ï¼Œå¦‚æœä½¿ç”¨<code>ndk-build</code>ï¼Œå¯ä»¥ä¸éœ€è¦</li>
<li>LLDBï¼šåŸç”Ÿä»£ç è°ƒè¯•å·¥å…·ï¼Œé»˜è®¤ASè‡ªå¸¦</li>
</ul>
<p>å…ˆè¿›åˆ°<code>SDK Manager</code>å‡†å¤‡ä¸€ä¸‹å¯¹åº”çš„å·¥å…·</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490380341231649038033292.png" alt="" style="zoom:70%;" />
<br/>
<h2 id="3-æ·»åŠ åŸç”Ÿä»£ç "><a class="header-anchor" href="#3-æ·»åŠ åŸç”Ÿä»£ç ">Â¶</a>3. æ·»åŠ åŸç”Ÿä»£ç </h2>
<h3 id="3-1-åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶"><a class="header-anchor" href="#3-1-åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶">Â¶</a>3.1. åˆ›å»ºåŸç”Ÿæºä»£ç æ–‡ä»¶</h3>
<p>é¦–å…ˆï¼Œåˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹©<code>Native C++</code>ç±»å‹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490391141311649039113214.png" alt="" style="zoom:70%;" />
<p>é€‰æ‹©é»˜è®¤çš„å·¥å…·é“¾ï¼Œè¿™æ ·å¯ä»¥ä½¿ç”¨é»˜è®¤çš„<code>CMake</code>é…ç½®</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490392661221649039265481.png" alt="" style="zoom:70%;" />
<p>æ–°çš„é¡¹ç›®åˆ›å»ºå®Œæˆåï¼Œä½¿ç”¨Androidè§†å›¾æŸ¥çœ‹ä¸€ä¸‹é¡¹ç›®æ–‡ä»¶ç»“æ„ï¼Œä¼šå‘ç°å‡ºç°äº†ä¸€ä¸ª<code>cpp</code>ç›®å½•ï¼Œ<code>CMakeLists.txt</code>ä»£è¡¨<code>CMake</code>çš„æ„å»ºè„šæœ¬ï¼Œè€Œå¦ä¸€ä¸ª.cppæ–‡ä»¶æ˜¯ç¤ºä¾‹ä»£ç </p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490400261281649040025617.png" alt=""></p>
<blockquote>
<p><strong>ç®€è¦åˆ†æç¤ºä¾‹</strong></p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &lt;jni.h&gt;</span><br><span class="line">#include &lt;string&gt;</span><br><span class="line"></span><br><span class="line">extern &quot;C&quot; JNIEXPORT jstring JNICALL</span><br><span class="line">Java_com_minos_nativedemo_MainActivity_stringFromJNI(</span><br><span class="line">        JNIEnv* env,</span><br><span class="line">        jobject /* this */) &#123;</span><br><span class="line">    std::string hello = &quot;Hello from C++&quot;;</span><br><span class="line">    return env-&gt;NewStringUTF(hello.c_str());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸Šé¢æ˜¯ç¤ºä¾‹.cppçš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°é¡¶éƒ¨åŒ…å«äº†<code>jni</code>æ¡†æ¶çš„å¤´æ–‡ä»¶ï¼Œä¸‹é¢å£°æ˜çš„å°±æ˜¯<code>stringFromJNI()</code>å‡½æ•°ï¼Œå¤§è‡´çš„æ„æ€å°±æ˜¯å°†è¯¥å‡½æ•°å¯¹å¤–æš´éœ²ï¼Œæä¾›ç»™Javaè°ƒç”¨</p>
<br/>
<p>å†çœ‹ä¸‹<code>CMakeLists.txt</code>ä¸­çš„å†…å®¹</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line"># Creates and names a library, sets it as either STATIC</span><br><span class="line"># or SHARED, and provides the relative paths to its source code.</span><br><span class="line"># You can define multiple libraries, and CMake builds them for you.</span><br><span class="line"># Gradle automatically packages shared libraries with your APK.</span><br><span class="line"></span><br><span class="line">add_library( # Sets the name of the library.</span><br><span class="line">        nativedemo</span><br><span class="line"></span><br><span class="line">        # Sets the library as a shared library.</span><br><span class="line">        SHARED</span><br><span class="line"></span><br><span class="line">        # Provides a relative path to your source file(s).</span><br><span class="line">        native-lib.cpp)</span><br></pre></td></tr></table></figure>
<p>å°±åƒæ³¨é‡Šé‡Œæè¿°çš„é‚£æ ·ï¼Œæ ¹æ®æºæ–‡ä»¶çš„è·¯å¾„ç”Ÿæˆåº“ï¼ŒGradleè‡ªåŠ¨æ‰“åŒ…æ—¶ä¼šä¸€åŒæ”¾å…¥apkä¸­</p>
<br/>
<p>ç„¶åæ¥çœ‹çœ‹ä½¿ç”¨çš„åœ°æ–¹ï¼Œåœ¨MainActivityä¸­ä¼šä½¿ç”¨åˆ°é‡Œé¢çš„æ–¹æ³•</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line">    <span class="comment">// Used to load the &#x27;nativedemo&#x27; library on application startup.</span></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        System.loadLibrary(<span class="string">&quot;nativedemo&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯åˆå§‹åŒ–ï¼Œæ”¾åœ¨äº†Activityçš„åˆå§‹åŒ–å—ä¸­ï¼Œè¿™æ ·åœ¨åº”ç”¨å¯åŠ¨æ—¶å°±å¯ä»¥è°ƒç”¨<code>System.loadLibrary()</code>æ–¹æ³•æ ¹æ®åº“çš„åç§°å°†åº“åŠ è½½è¿›æ¥</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * A native method that is implemented by the &#x27;nativedemo&#x27; native library,</span></span><br><span class="line"><span class="comment"> * which is packaged with this application.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">external</span> <span class="function"><span class="keyword">fun</span> <span class="title">stringFromJNI</span><span class="params">()</span></span>: String</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæ˜¯å¯¹äº<code>JNI</code>æ–¹æ³•çš„å£°æ˜ï¼Œåœ¨åŠ è½½å®Œåº“ä¹‹åï¼Œå°±å¯ä»¥ä»ä¸­å–å®ƒäº†</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: ActivityMainBinding</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line"></span><br><span class="line">    binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">    setContentView(binding.root)</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Example of a call to a native method</span></span><br><span class="line">        binding.sampleText.text = stringFromJNI()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œä½¿ç”¨<code>ViewBinding</code>è¿›è¡Œå¸ƒå±€å…ƒç´ çš„æ“ä½œï¼Œè°ƒç”¨<code>stringFromJNI()</code>è¿”å›å­—ç¬¦ä¸²ï¼Œç„¶åå°†å†…å®¹æ˜¾ç¤ºåˆ°å¸ƒå±€ä¸Š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490541765681649054175831.png" alt="" style="zoom:50%;" />
<br/>
<p>æ•´ä½“æµç¨‹å¤§è‡´æ˜¯ï¼š</p>
<ul>
<li>Gradleè°ƒç”¨<code>CMakeLists.txt</code></li>
<li><code>CMake</code>æŒ‰ç…§æ„å»ºè„šæœ¬ä¸­çš„å‘½ä»¤å°†.cppç¼–è¯‘åˆ°å…±äº«å¯¹è±¡åº“ä¸­ï¼Œå¹¶å‘½åä¸º<code>xxx.so</code>ï¼ŒGradleä¹‹åä¼šå°†å…¶ä¸€åŒæ‰“åŒ…åˆ°apkä¸­ï¼ˆåŒ…åˆ†æå™¨å¯ä»¥çœ‹åˆ°ï¼‰</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490545195721649054519114.png" alt="" style="zoom:70%;" />
<ul>
<li>è¿è¡Œæ—¶ï¼ŒMainActivityè°ƒç”¨<code>System.loadLibrary()</code>åŠ è½½åŸç”Ÿåº“</li>
<li>åœ¨<code>onCreate()</code>ä¸­MainActivityè°ƒç”¨<code>stringFromJNI()</code></li>
</ul>
<br/>
<blockquote>
<p>å¼€å§‹è‡ªå®šä¹‰</p>
</blockquote>
<p>é¦–å…ˆéœ€è¦åœ¨å½“å‰æ¨¡å—ä¸‹æœ‰ä¸€ä¸ªä¸“é—¨çš„cppç›®å½•</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout@main/img/16490550415661649055041171.png" alt="" style="zoom:70%;" />
<p>å¤§æ¦‚æ˜¯è¿™æ ·çš„å±‚æ¬¡ç»“æ„ï¼Œæ¨¡å— &gt; src &gt; main &gt; <strong>cpp</strong></p>
<br/>
<p>ç„¶ååœ¨è¯¥ç›®å½•ä¸‹æ”¾ç½®C++çš„æºä»£ç æ–‡ä»¶</p>
<p>æ¥ä¸‹æ¥å°±æ˜¯ä»£ç é€»è¾‘çš„ç¼–å†™ï¼Œå»å®ç°æˆ‘ä»¬éœ€è¦çš„åŠŸèƒ½</p>
<br/>
<h3 id="3-2-é…ç½®CMake"><a class="header-anchor" href="#3-2-é…ç½®CMake">Â¶</a>3.2. é…ç½®CMake</h3>
<p><code>CMake</code>çš„æ„å»ºè„šæœ¬æ–‡ä»¶<code>CMakeLists.txt</code>æ˜¯ä¸€ä¸ª<strong>çº¯æ–‡æœ¬æ–‡ä»¶</strong>ï¼Œå¹¶ä¸”ä½¿ç”¨å®ƒå¿…é¡»æŒ‡å®šæ–‡ä»¶çš„åç§°ä¸º<strong>CMakeLists.txt</strong></p>
<br/>
<p>ç„¶åéœ€è¦å‘å…¶ä¸­æ·»åŠ ä¸€äº›éœ€è¦ç”¨åˆ°çš„å‘½ä»¤</p>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">cmake_minimum_required(VERSION 3.10.2)</span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªå‘½ä»¤æ˜¯è®¾ç½®äº†æ„å»ºçš„æœ€å°ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯ä¸‹é™</p>
<br/>
<figure class="highlight text"><table><tr><td class="code"><pre><span class="line">add_library(</span><br><span class="line">  nativedemo</span><br><span class="line">  SHARED</span><br><span class="line">  native-lib.cpp)</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œç»™å‡ºåº“çš„åç§°ã€ç±»å‹ã€å¯¹åº”çš„æºæ–‡ä»¶è·¯å¾„</p>
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>soåº“çš„åç§°æ€»æ˜¯ä»¥lib&lt;CMakeä¸­å®šä¹‰çš„åº“åç§°&gt;.soå‡ºç°ï¼Œä½†æ˜¯ä½¿ç”¨System.loadLibrary()æ—¶è¿˜æ˜¯ä½¿ç”¨CMakeä¸­å®šä¹‰çš„åç§°</p>
</blockquote>
<br/>
<h3 id="3-3-æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle"><a class="header-anchor" href="#3-3-æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle">Â¶</a>3.3. æä¾›CMakeè„šæœ¬æ–‡ä»¶çš„è·¯å¾„é…ç½®Gradle</h3>
<p>å®ç°Gradleå…³è”<code>CMake</code>æ‰“åŒ…ï¼Œéœ€è¦åœ¨å½“å‰æ¨¡å—çš„<code>build.gradle</code>ä¸­è¿›è¡Œä¸€äº›é…ç½®</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">Â·Â·android &#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        </span><br><span class="line">        ...</span><br><span class="line">        </span><br><span class="line">        externalNativeBuild &#123;</span><br><span class="line">            cmake &#123;</span><br><span class="line">                cppFlags <span class="string">&#x27;&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    externalNativeBuild &#123;</span><br><span class="line">        cmake &#123;</span><br><span class="line">            path file(<span class="string">&#x27;src/main/cpp/CMakeLists.txt&#x27;</span>)</span><br><span class="line">            version <span class="string">&#x27;3.10.2&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°éœ€è¦<code>externalNativeBuild</code>å—è¿›è¡Œç›¸å…³é…ç½®</p>
<br/>
<p>å¤–å±‚çš„ä¸»è¦ç”¨äºä¸Gradleå»ºç«‹è¿æ¥ï¼Œè€Œ<code>defaultConfog</code>å—å†…å±‚çš„åˆ™è¿›è¡Œä¸€äº›å¯é€‰çš„é…ç½®é¡¹</p>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>NDK</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆä¸€ï¼‰â€”â€” å‡†å¤‡</title>
    <url>/2023/05/29/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%20%E5%87%86%E5%A4%87/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆä¸€ï¼‰â€”â€” å‡†å¤‡</h1>
<h2 id="1-ç¯å¢ƒé…ç½®"><a class="header-anchor" href="#1-ç¯å¢ƒé…ç½®">Â¶</a>1. ç¯å¢ƒé…ç½®</h2>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Fwww.rust-lang.org%2Fzh-CN%2Flearn%2Fget-started">å…¥é—¨ - Rust ç¨‹åºè®¾è®¡è¯­è¨€ (rust-lang.org)</a></p>
</blockquote>
<p>é¦–å…ˆï¼Œéœ€è¦åˆ°Rustçš„å®˜ç½‘ä¸Šä¸‹è½½Rustè¯­è¨€å¯¹åº”çš„å®‰è£…åŒ…ï¼Œç‚¹å‡»â€œé©¬ä¸Šå¼€å§‹â€ï¼Œè·³è½¬åˆ°æ–°çš„é¡µé¢</p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b41960e3597485fb210946a2b1b04ff~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>è¿™ä¸ªé¡µé¢ä»‹ç»é“é€šè¿‡<code>Rustup</code>è¿™ä¸ªå·¥å…·å¯¹äºRustè¿›è¡Œ<strong>å®‰è£…å’Œç®¡ç†</strong>ï¼Œå¹¶ä¸”åˆ¤æ–­å‡ºæˆ‘å½“å‰ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯Windowsï¼Œç»™å‡ºäº†å¯¹åº”çš„å®‰è£…å™¨ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ä¸æˆ‘è‡ªå·±ç³»ç»Ÿç›¸åŒ¹é…çš„64ä½çš„.exe</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3ce09468908b4aff961fff11739efed3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>ä¸‹è½½å®Œ<code>rustup-init.exe</code>ä¹‹åï¼Œç„¶åæ‰§è¡Œï¼Œä¼šè·³å‡ºè¿™æ ·ä¸€ä¸ªé¡µé¢ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©é»˜è®¤çš„å®‰è£…ï¼Œå°±è¾“å…¥â€œ1â€</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d9b148a8464a429ea91fd9009675fba6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3b2c90fd7f5542d7a715f9bb05cb3375~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>å¦‚æœç½‘ç»œæƒ…å†µOkçš„è¯ï¼Œå¾ˆå¿«å°±å¯ä»¥ä¸‹è½½å®Œæ¯•ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢å¼ºè°ƒ<code>Cargo</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªé‡è¦çš„å·¥å…·ï¼Œä¹‹åä¼šç»å¸¸ç”¨åˆ°</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/204e3c21ea2740ca87dd59b0b7ebf6d5~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>ä¸ºäº†éªŒè¯ä¸€ä¸‹Rustæ˜¯å¦å·²ç»è¢«æ­£ç¡®åœ°å®‰è£…å¹¶ä¸”æ·»åŠ åˆ°ç¯å¢ƒå˜é‡å½“ä¸­ï¼Œåœ¨cmdæ§åˆ¶å°è¾“å…¥<code>rustc --vertsion</code>è·å–ä¸€ä¸‹ç‰ˆæœ¬å·</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">rustc --vertsion</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸€åˆ‡æˆåŠŸå°±ä¼šæ˜¾ç¤ºå¦‚ä¸‹æ ¼å¼çš„ç‰ˆæœ¬å·ï¼Œåé¢é™„æœ‰<strong>ç‰ˆæœ¬å“ˆå¸Œå€¼</strong>ä»¥åŠ<strong>ç‰ˆæœ¬æäº¤æ—¥æœŸ</strong></p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e6a71bcd82247719f543bd34f036745~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<h2 id="2-åˆ›å»ºé¡¹ç›®"><a class="header-anchor" href="#2-åˆ›å»ºé¡¹ç›®">Â¶</a>2. åˆ›å»ºé¡¹ç›®</h2>
<p>åœ¨å®ŒæˆRustçš„å®‰è£…ä¹‹åï¼Œå¼€å§‹åˆ›å»ºç¬¬ä¸€ä¸ªRusté¡¹ç›®<br>
ç¼–å†™Rusté¡¹ç›®å¯ä»¥é€‰æ‹©è‡ªå·±è¶æ‰‹çš„å·¥å…·ï¼ŒåƒVS Codeæˆ–è€…æ˜¯Ideaè¿™æ ·çš„IDEéƒ½å¯ä»¥ï¼Œå¾ˆå¤šå·¥å…·éƒ½æœ‰æ’ä»¶æ”¯æŒRustç¼–ç¨‹<br>
æˆ‘è‡ªå·±æ¯”è¾ƒé’çäºä½¿ç”¨VS Codeï¼Œå°¤å…¶æ˜¯åœ¨åˆå­¦çš„æ—¶å€™ï¼Œå®ƒå¸¦ç»™äººè½»é‡çº§çš„ä½“éªŒï¼Œå¯ä»¥è‡ªå·±åšå¾ˆå¤šç»†èŠ‚çš„å·¥ä½œæ¥äº†è§£ç¨‹åºçš„è¿ä½œï¼Œå¹¶ä¸”å…¥é—¨çš„æ—¶å€™æœ¬èº«é¡¹ç›®ä¹Ÿæ²¡æœ‰å¤šå°‘é‡çº§ï¼Œç®¡ç†èµ·æ¥å¹¶ä¸éº»çƒ¦</p>
<p>åœ¨åˆ›å»ºé¡¹ç›®ä¹‹å‰ï¼Œå¾€å¾€éœ€è¦é¢„ç•™ä¸€ä¸ªä¾›é¡¹ç›®å­˜å‚¨çš„ç›®å½•ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„<strong>å·¥ä½œåŒº</strong>ï¼Œä¹‹åå¯ä»¥æŠŠä»£ç æ”¾åœ¨ä¸€èµ·è¿›è¡Œä¿ç®¡ï¼Œè¿™é‡Œæˆ‘åˆ›å»ºçš„ç›®å½•æ˜¯rust_projectsï¼Œåˆ›å»ºå®Œæˆä¹‹åä½¿ç”¨<code>cd</code>å‘½ä»¤è¿›å…¥ç›®å½•</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/895189da96e14ee4bcaa4e975ebbc997~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>è¿™ä¸ªç›®å½•å°†ç”¨æ¥æ‘†æ”¾æ‰€æœ‰çš„Rusté¡¹ç›®ï¼Œæ¥ä¸‹æ¥åˆ›å»ºç¬¬ä¸€ä¸ªé¡¹ç›®first_demoï¼Œæ–°å»ºå¯¹åº”çš„ç›®å½•ï¼Œç„¶ååˆ‡æ¢åˆ°ç›®å½•</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="built_in">mkdir</span> first_demo</span></span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"><span class="built_in">cd</span> first_demo</span></span><br></pre></td></tr></table></figure>
<p>Rustçš„<strong>æºæ–‡ä»¶</strong>æ˜¯ä»¥<code>.rs</code>ä½œä¸ºæ‰©å±•åçš„ï¼Œ<a href="http://xn--main-k84fuim2ck4m61lwmusyhn82a.rs">å› æ­¤æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªmain.rs</a> åœ¨å½“å‰ä½ç½®è°ƒç”¨<code>code .</code>æ‰“å¼€è·¯å¾„</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">code .</span></span><br></pre></td></tr></table></figure>
<p>æ­¤æ—¶è¿›å…¥VS Codeçš„ç•Œé¢ï¼Œå…¶ä»–å·¥å…·ä¹Ÿå¯ä»¥ç›´æ¥æ‰“å¼€å¯¹åº”ç›®å½•</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/57b151a7a94f4b81ad5ebb5611fc283d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>ç°åœ¨ç›®å½•é‡Œæ˜¯ç©ºçš„ï¼Œç›´æ¥åˆ›å»ºmain.rsæ–‡ä»¶</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/40ab49e162f541fc9ac843e51ca8f48a~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>ç„¶ååœ¨main.rsä¸­è¾“å…¥ä»¥ä¸‹ä»£ç ï¼Œæ­£å¦‚å…¶ä»–è¯­è¨€çš„â€œHello Worldâ€ä¸€æ ·ï¼Œå³ä½¿ä¸æ‡‚ä¹Ÿèƒ½çŒœå‡ºæ¥</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™å®Œæˆåï¼Œå°±æ˜¯å¯¹æºæ–‡ä»¶çš„<strong>ç¼–è¯‘</strong>å’Œ<strong>æ‰§è¡Œ</strong>äº†</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5f7c7ca08a3f4286838408bb30247966~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>åœ¨å¼¹å‡ºçš„æ§åˆ¶å°ä¸­è¾“å…¥<strong>ç¼–è¯‘å‘½ä»¤</strong>ï¼Œè¿™ä¾¿æ˜¯å¯¹äºmain.rsè¿™ä¸ªæºæ–‡ä»¶æ‰§è¡Œç¼–è¯‘æ“ä½œ</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3c70a86bd7214f6ebbb3e54dc1d48cee~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> rustc main.rs</span></span><br></pre></td></tr></table></figure>
<p>éšåæŸ¥çœ‹é¡¹ç›®ç›®å½•ï¼Œä¼šå‘ç°å¤šå‡ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œæ˜æ˜¾æ˜¯<strong>ç¼–è¯‘çš„äº§ç‰©</strong>ï¼Œä¸€ä¸ªä»¥<code>.exe</code>ç»“å°¾ï¼Œå¦ä¸€ä¸ªä»¥<code>.pdb</code>ç»“å°¾</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f74c155a05c84c16935b1211153ce41d~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>æ¥ä¸‹æ¥ä¼šè¿è¡Œmain.exeæ–‡ä»¶ï¼Œè€Œmain.pdbæ–‡ä»¶åŒ…å«çš„æ˜¯ä¸€äº›è°ƒè¯•ä¿¡æ¯ï¼Œæš‚æ—¶ä¸ä¼šç›´æ¥ç”¨åˆ°</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> .\main.exe</span></span><br></pre></td></tr></table></figure>
<p>è¾“å…¥ä»¥ä¸Šå‘½ä»¤æ‰§è¡Œmain.exe</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1794426aec5440ec9e8b28fb35cd0007~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>â€œHello World!â€å¦‚æœŸè€Œè‡³</p>
<h2 id="3-ç¨‹åºç»“æ„ç®€æ"><a class="header-anchor" href="#3-ç¨‹åºç»“æ„ç®€æ">Â¶</a>3. ç¨‹åºç»“æ„ç®€æ</h2>
<p>æ¥ç€ï¼Œé€šè¿‡åˆ†æè¿™ç¬¬ä¸€ä¸ªç¨‹åºæ¥ç®€å•äº†è§£ä¸€ä¸‹Rustçš„ä¸€äº›åŸºç¡€å†…å®¹</p>
<h3 id="3-1-mainå‡½æ•°"><a class="header-anchor" href="#3-1-mainå‡½æ•°">Â¶</a>3.1. mainå‡½æ•°</h3>
<p>æ¥è§¦è¿‡åƒCã€C++ã€Javaç­‰ç¨‹åºçš„å°ä¼™ä¼´ä¸€å®šéƒ½å¯¹<strong>mainå‡½æ•°</strong>çš„æ¦‚å¿µæœ‰å¾ˆæ·±çš„å°è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªç¨‹åºçš„å…¥å£ï¼Œè€ŒRuståœ¨è¿™ä¸€æ–¹é¢ä¾ç„¶å»¶ç»­äº†ä¼ ç»Ÿï¼Œ<strong>mainå‡½æ•°ä¹Ÿæ˜¯Rustç¨‹åºçš„å…¥å£</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// mainå‡½æ•°çš„å…·ä½“å†…å®¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>fn</code>å…³é”®å­—å£°æ˜äº†å‡½æ•°ï¼Œè€Œè¿™ä¸ªå‡½æ•°çš„åç§°éå¸¸ç‰¹æ®Šï¼Œå«<code>main</code>ï¼Œå¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸ªåå­—æ˜¯ä¸èƒ½ä¹±ç”¨çš„<br>
åœ¨<code>main</code>çš„åé¢æœ‰ä½¿ç”¨<code>()</code>ç•Œå®šçš„å‚æ•°åˆ—è¡¨ï¼Œä½†æ˜¯å¯¹äº<strong>mainå‡½æ•°</strong>æ¥è¯´ï¼Œé‡Œé¢ä»€ä¹ˆä¹Ÿä¸éœ€è¦ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°ä¹Ÿæ²¡æœ‰è¿”å›å€¼<br>
å°ç»“ä¸€ä¸‹ï¼Œ<strong>mainå‡½æ•°åç§°ä¸º<code>main</code>çš„å‡½æ•°ï¼Œä¸æ¥å—å‚æ•°ï¼Œæ— è¿”å›å€¼</strong></p>
<p><code>&#123;&#125;</code>åŒ…è£¹çš„å†…å®¹æ˜¯<strong>mainå‡½æ•°</strong>çš„<strong>å‡½æ•°ä½“</strong>ï¼Œå¹¶ä¸”<strong>åœ¨Rustè¯­è¨€å½“ä¸­ï¼Œè¦æ±‚æ‰€æœ‰å‡½æ•°ä½“ä¸€å¾‹éœ€è¦ä½¿ç”¨<code>&#123;&#125;</code>åŒ…è£¹èµ·æ¥</strong></p>
<p>ç¨‹åºè¿è¡Œåï¼Œä»å…¥å£æ‰§è¡Œï¼Œæ‰§è¡Œçš„å†…å®¹æ­£æ˜¯å†™åœ¨<strong>mainå‡½æ•°</strong>çš„èŠ±æ‹¬å·ä¹‹é—´çš„è¯­å¥äº†</p>
<h3 id="3-2-è¯­å¥"><a class="header-anchor" href="#3-2-è¯­å¥">Â¶</a>3.2. è¯­å¥</h3>
<p><code>println!(&quot;Hello World!&quot;);</code>ä¾¿æ˜¯<strong>mainå‡½æ•°</strong>çš„å‡½æ•°ä½“é‡Œé¢å”¯ä¸€çš„ä¸€æ¡è¯­å¥äº†ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªç¨‹åºæ‰€åšçš„æœ‰æ„ä¹‰çš„äº‹æƒ…å°±é›†ä¸­åœ¨è¿™ä¸€è¡Œä»£ç ä¸Šï¼Œå‰åéƒ½åªæ˜¯å›ºå®šçš„å‡½æ•°æ¡†æ¶</p>
<p><code>println!</code>åœ¨Rustå‡½æ•°ä¸­è¢«ç§°ä¸º<strong>å®</strong>ï¼Œè¿™æ˜¯å› ä¸ºå…¶å¸¦æœ‰<code>!</code>ç¬¦å·ï¼Œæ™®é€šçš„å‡½æ•°å°¾éƒ¨æ²¡æœ‰<code>!</code>ï¼Œ<strong>æš‚ä¸”å¯ä»¥å°†å…¶å½“åšä¸€ç§ç‰¹æ®Šçš„å‡½æ•°è¿›è¡Œä»£å…¥</strong>ï¼Œè¿™ç›®å‰å¹¶ä¸å½±å“ç†è§£ç¨‹åºçš„é€»è¾‘æµç¨‹ï¼Œå®ƒçš„å‚æ•°å°±æ˜¯é‡Œé¢çš„å­—ç¬¦ä¸²å­—é¢é‡ï¼Œæ¥æ”¶å­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥ï¼Œç„¶åé€šè¿‡è°ƒç”¨å°†å†…å®¹è¾“å‡ºåˆ°æ§åˆ¶å°</p>
<p>ä¸ä¼ ç»Ÿçš„C-Likeè¯­è¨€C++ï¼ŒJavaä¸€æ ·ï¼ŒRustæ˜¯éœ€è¦ä½¿ç”¨<code>;</code>è¡¨æ˜è¯­å¥çš„ç»“æŸçš„ï¼Œå¦åˆ™ä¼šæŠ¥é”™</p>
<p>å¦å¤–ï¼Œå»ºè®®å®‰è£…ä¸€ä¸‹è¿™ä¸ªæ’ä»¶ï¼Œå¯ä»¥åœ¨VS Codeä¸Šæä¾›ä¸€äº›ä¾¿åˆ©ï¼Œç›´æ¥å°†VS Codeç»„è£…æˆç”¨äºRustå¼€å‘çš„IDE</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e0e705b7f9854ec4b7aa2046277f3907~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>è¿™å…¶å®æ˜¯ä¸€ä¸ªæ’ä»¶å¥—è£…ï¼ŒåŒ…æ‹¬ä»£ç è¡¥å…¨ã€æŸ¥çœ‹æºç ã€å¸¸ç”¨å·¥å…·ã€è¯­æ³•é«˜äº®ç­‰ï¼Œå¯ä»¥ä¸<strong>rustupå·¥å…·é“¾</strong>å¾ˆå¥½åœ°é…åˆ</p>
<h3 id="3-3-ç¼–è¯‘ä¸è¿è¡Œ"><a class="header-anchor" href="#3-3-ç¼–è¯‘ä¸è¿è¡Œ">Â¶</a>3.3. ç¼–è¯‘ä¸è¿è¡Œ</h3>
<p>é€šè¿‡ä¹‹å‰çš„å‘½ä»¤è¡Œæ“ä½œï¼Œå…¶å®æˆ‘ä»¬èƒ½å¤Ÿåˆ†æ˜åœ°æ„Ÿå—åˆ°<strong>ç¼–è¯‘</strong>ä¸<strong>è¿è¡Œ</strong>è¿™ä¸¤ä¸ªè¿‡ç¨‹ï¼Œå†å›å¿†ä¸€ä¸‹</p>
<h4 id="3-3-1-ç¼–è¯‘"><a class="header-anchor" href="#3-3-1-ç¼–è¯‘">Â¶</a>3.3.1. ç¼–è¯‘</h4>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> rustc main.rs</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>rustc</code>å‘½ä»¤å¯ä»¥å¯¹<code>.rs</code>ç»“å°¾çš„Rustæºæ–‡ä»¶è¿›è¡Œç¼–è¯‘ï¼Œå¦‚æœç†Ÿæ‚‰C++çš„å°ä¼™ä¼´å¯èƒ½æ¯”è¾ƒç†Ÿæ‚‰è¿™ä¸ªè¿‡ç¨‹ï¼Œè¿™æ ·çš„ç¼–è¯‘çš„é‡è¦äº§ç‰©ä¾¿æ˜¯<strong>äºŒè¿›åˆ¶çš„å¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼ŒRust<strong>æ ¹æ®æ“ä½œç³»ç»Ÿç”Ÿæˆä¸åŒçš„æ–‡ä»¶</strong>ï¼Œåœ¨Windowsæ“ä½œç³»ç»Ÿä¸‹ç”Ÿæˆçš„æ˜¯<code>.pdb</code>å’Œ<code>.exe</code>ï¼Œè€ŒLinuxå’ŒmacOSåˆ™ä¸åŒ</p>
<h4 id="3-3-2-è¿è¡Œ"><a class="header-anchor" href="#3-3-2-è¿è¡Œ">Â¶</a>3.3.2. è¿è¡Œ</h4>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash"> .\main.exe</span>  </span><br></pre></td></tr></table></figure>
<p>è¿è¡Œå…¶å®å°±æ˜¯å¯¹äºç¼–è¯‘è¿‡ç¨‹ä¸­ç”Ÿæˆçš„<strong>å¯æ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶</strong>è¿›è¡Œè¿è¡Œï¼Œåœ¨Windowsç³»ç»Ÿä¸‹ä¾¿æ˜¯<code>.exe</code></p>
<h2 id="4-ä½¿ç”¨Cargo"><a class="header-anchor" href="#4-ä½¿ç”¨Cargo">Â¶</a>4. ä½¿ç”¨Cargo</h2>
<p>å¦‚æœæˆ‘ä»¬çš„é¡¹ç›®éƒ½åªæ˜¯ä¸€äº›ç»“æ„é€»è¾‘ç®€å•çš„å°å·¥å…·ï¼Œé‚£ä¹ˆå°±è¿™æ ·æ–°å»ºç‚¹æºæ–‡ä»¶ï¼Œç„¶åç¼–è¯‘ã€è¿è¡Œå°±Okäº†<br>
ç„¶è€Œï¼Œäº‹å®å¹¶éè¿™æ ·ï¼Œå®é™…åº”ç”¨çš„é¡¹ç›®å¾€å¾€ä¼šæœ‰è‹¥å¹²çš„åŠŸèƒ½æ¨¡å—ä¸åºå¤§çš„ä»£ç é‡ï¼Œå¹¶ä¸”å½¢å½¢è‰²è‰²çš„é¡¹ç›®æ„å»ºæ„å»ºå·¥å…·ä¸æ–­æ¶Œç°ï¼Œå¸¦é¢†é¡¹ç›®æ„å»ºç®¡ç†èµ°å‘<strong>è‡ªåŠ¨åŒ–</strong>ï¼Œæ¯”å¦‚Gradleã€Mavenã€CMake</p>
<p>åœ¨Rustä¸­ï¼Œé¡¹ç›®çš„æ„å»ºç®¡ç†å€ŸåŠ©äº<code>Cargo</code>ï¼Œæ¥ä¸‹æ¥ä¾¿å°è¯•ä½¿ç”¨<code>Cargo</code>é‡æ–°åˆ›å»ºä¹‹å‰çš„é¡¹ç›®</p>
<h3 id="4-1-Cargoåˆ›å»ºé¡¹ç›®"><a class="header-anchor" href="#4-1-Cargoåˆ›å»ºé¡¹ç›®">Â¶</a>4.1. Cargoåˆ›å»ºé¡¹ç›®</h3>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/911a6260b9ec4a4f87f122a396d59bb1~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>é¦–å…ˆï¼Œå…ˆé€€å›ä¸Šçº§ç›®å½•ï¼Œé‡æ–°ä½¿ç”¨<code>Cargo</code>æä¾›çš„å‘½ä»¤è¿›è¡Œé¡¹ç›®çš„åˆ›å»º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">cargo new first_cargo</span></span><br></pre></td></tr></table></figure>
<p>æç¤ºä¿¡æ¯æè¿°æˆ‘åˆ›å»ºäº†ä¸€ä¸ª<strong>äºŒè¿›åˆ¶</strong>çš„åŒ…</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ff2c5662853a4fdc89de03cb88fd8c2b~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>è¿›å…¥ç›®å½•ï¼Œå‘ç°å·²ç»ç”Ÿæˆäº†ä¸€äº›é¢„è®¾çš„å†…å®¹ï¼Œæˆ‘ä»¬ç›´æ¥<code>code .</code>åˆ°VS Codeé‡ŒæŸ¥çœ‹ä¸€ä¸‹</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/259ea531df544dcca4cf0bc300887aa6~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ca54ff04bc5441dd8bfcd9e41afc2e91~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>å…¶ä¸­<code>src</code>æ˜¯æˆ‘ä»¬æºä»£ç çš„è·¯å¾„ï¼Œé‡Œé¢å·²ç»é»˜è®¤ç”Ÿæˆäº†ä¸€ä¸ª<code>main.rs</code>æºæ–‡ä»¶ï¼Œå¹¶ä¸”ä»£ç å†…å®¹å°±æ˜¯Hello Worldçš„æ‰“å°é€»è¾‘ï¼ˆçœçš„å†æ•²äº†ï¼‰</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/76025333083a4dfbb8da6aebbd1c0b4f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<h3 id="4-2-é‡è¦é…ç½®æ–‡ä»¶Cargo-toml"><a class="header-anchor" href="#4-2-é‡è¦é…ç½®æ–‡ä»¶Cargo-toml">Â¶</a>4.2. é‡è¦é…ç½®æ–‡ä»¶Cargo.toml</h3>
<blockquote>
<p><a href="https://link.juejin.cn?target=https%3A%2F%2Ftoml.io%2Fcn%2F">TOMLï¼šTom çš„ï¼ˆè¯­ä¹‰ï¼‰æ˜æ˜¾ã€ï¼ˆé…ç½®ï¼‰æœ€å°åŒ–çš„è¯­è¨€</a></p>
</blockquote>
<p>å¯ä»¥çœ‹åˆ°ç›®å½•ä¸‹æœ‰ä¸ª<code>Cargo.toml</code>çš„æ–‡ä»¶ï¼Œé‡Œé¢çš„å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight toml"><table><tr><td class="code"><pre><span class="line"><span class="section">[package]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;first_cargo&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">edition</span> = <span class="string">&quot;2021&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html</span></span><br><span class="line"></span><br><span class="line"><span class="section">[dependencies]</span></span><br></pre></td></tr></table></figure>
<p>è¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯æè¿°äº†é¡¹ç›®çš„ä¸€äº›é…ç½®ä¿¡æ¯ï¼Œä½¿ç”¨<strong>TOML(Tomâ€™s Obvious Minimal Language)</strong> ç¼–å†™</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¿™ä¸ªæ–‡ä»¶é‡Œçš„å†…å®¹è¿›è¡Œä¸ªç®€è¦åˆ†æ <code>[package]</code>å’Œ<code>[dependencies]</code>éƒ½æ˜¯ä½¿ç”¨<code>[]</code>åŒ…è£¹èµ·æ¥çš„ï¼Œè¿™ç§æ ¼å¼åœ¨<code>TOML</code>ä¸­ç§°ä¸º<strong>è¡¨</strong></p>
<p>è¿™é‡Œç›´æ¥æˆªå–äº†<code>TOML</code>æ–‡æ¡£é‡Œçš„éƒ¨åˆ†å†…å®¹ï¼Œå› æ­¤æ ¹æ®å¯¹äºæ–‡æ¡£å†…å®¹çš„ç†è§£ï¼Œè¿™é‡Œå°±æœ‰ä¸¤ä¸ªè¡¨ï¼Œåˆ†åˆ«ä¸º<strong>packageè¡¨</strong>å’Œ<strong>dependenciesè¡¨</strong></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c558a5b0cced4b2999d071e561faaa4e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>çº¢æ¡†åˆ†åˆ«æ˜¯è¿™ä¸¤ä¸ªè¡¨çš„èŒƒå›´ <img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7654f435c79f4ac78e3718e7f04206ac~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>è¡¨é‡Œçš„å†…å®¹å°±æ˜¯å„ç§<strong>é”®å€¼å¯¹</strong>ï¼Œç”¨æ¥è¡¨ç¤ºé…ç½®çš„å±æ€§å’Œå¯¹åº”çš„å€¼</p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b8018ff5e74049ebab1b78e358a6dae7~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p><strong>packageè¡¨</strong>é€šå¸¸ä¸ç‰ˆæœ¬å¯†åˆ‡ç›¸å…³ï¼Œè€Œ<strong>dependenciesè¡¨</strong>ä¸»è¦é…ç½®å„ç§ä¾èµ–çš„å…¶ä»–ç¨‹åºåŒ…ï¼Œç­‰åˆ°ç”¨çš„æ—¶å€™å†ä»”ç»†äº†è§£ä¸€ç•ªå§ï¼ˆæ‡’~ï¼‰</p>
<h3 id="4-3-Cargoæ„å»ºä¸è¿è¡Œ"><a class="header-anchor" href="#4-3-Cargoæ„å»ºä¸è¿è¡Œ">Â¶</a>4.3. Cargoæ„å»ºä¸è¿è¡Œ</h3>
<p>åœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œ<code>cargo build</code>å¯ä»¥æ‰§è¡Œé¡¹ç›®æ„å»º</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">cargo build</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/24cf2cba0a534398b375062d074264a9~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>æ„å»ºå®Œåï¼Œå¦‚å›¾æ‰€ç¤ºçš„è·¯å¾„ä¸‹å¯ä»¥æ‰¾åˆ°<code>.exe</code>ï¼Œè¿™ä¾¿æ˜¯ç”Ÿæˆçš„<strong>å¯æ‰§è¡Œæ–‡ä»¶</strong></p>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9b27af24a1f1494ea308434f50eec304~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>å¯¹äºè¯¥æ–‡ä»¶ï¼Œä¾ç„¶å¯ä»¥æ ¹æ®è·¯å¾„ï¼Œé€šè¿‡å‘½ä»¤è¡Œæ‰§è¡Œ</p>
<p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨<code>cargo run</code>å‘½ä»¤<strong>å°†æ„å»ºä¸è¿è¡Œåˆå¹¶åˆ°ä¸€èµ·</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">cargo run</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9320fc146ac645c48bf6052629332128~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>æ„å»ºæ²¡æœ‰è€—æ—¶çš„åŸå› æ˜¯å› ä¸º<code>Cargo</code>å‘ç°å·²ç»æ„å»ºè¿‡äº†ï¼Œå°±ç›´æ¥è¿è¡Œäº†</p>
<p>å¸¸ç”¨çš„<code>Cargo</code>å‘½ä»¤è¿˜æœ‰<code>cargo check</code>ï¼Œè¿™ä¸ªå‘½ä»¤<strong>ç”¨äºæ£€æµ‹ä»£ç æ˜¯å¦èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ï¼Œè€Œä¸ç”¨ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶</strong>ï¼Œå¯ä»¥æé«˜é¡¹ç›®çš„å¼€å‘æ•ˆç‡ï¼Œå°¤å…¶æ˜¯é¡¹ç›®å¾ˆåºå¤§çš„æ—¶å€™</p>
<p>é¡¹ç›®çš„å¼€å‘è¿‡ç¨‹ä¸»è¦ç”¨åˆ°ä»¥ä¸Šå‡ ä¸ªï¼Œå¦‚æœæ˜¯é¡¹ç›®å‘å¸ƒï¼Œåˆ™éœ€è¦åœ¨<code>cargo build</code>æˆ–<code>cargo run</code>åé¢æ·»åŠ ä¸Š<code>--release</code>è¿™ä¸ªå‘½ä»¤è¡Œå‚æ•°å³å¯</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">cargo build --release</span></span><br></pre></td></tr></table></figure>
<p>æˆ–</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">cargo run --release</span></span><br></pre></td></tr></table></figure>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/616b08c8e43f4abab793fe5bca238736~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>æ­¤æ—¶ç”Ÿæˆçš„æ–‡ä»¶åœ¨<strong>release</strong>ç›®å½•ä¸‹</p>
<p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7aa4e3dcdd5144ed9a22f4d789081f1e~tplv-k3u1fbpfcp-zoom-in-crop-mark:1512:0:0:0.awebp?" alt="image.png"></p>
<p>releaseé€šå¸¸éœ€è¦ç¼–è¯‘æ›´é•¿æ—¶é—´è¿›è¡Œä¼˜åŒ–ï¼Œä½¿ä»£ç çš„è¿è¡Œæ—¶æœ‰æ›´å¥½æ€§èƒ½ï¼Œè€Œdebugåˆ™æ˜¯éœ€è¦å¿«é€Ÿç¼–è¯‘ï¼Œè¿™æ˜¯æ›´åŠ é¢‘ç¹çš„è¡Œä¸ºï¼Œåœ¨å…¶ä»–çš„è¯­è¨€æˆ–è€…é¡¹ç›®ä¹Ÿå¾€å¾€æœ‰è¿™æ ·çš„ç‰¹å¾</p>
<p>ä¸çŸ¥æ€çš„ï¼ŒRustä¼¼ä¹ä½¿è‡ªå·±å¯¹äºä¸€äº›ç¨‹åºçš„æ€æƒ³çš„ç†è§£æ›´æ·±åˆ»äº†ï¼Œå°¤å…¶æ˜¯åœ¨å†™ä¹…äº†ä¸šåŠ¡ä¹‹åï¼Œçªç„¶æœ‰äº†å¾ˆå¼ºçš„æ¢ç´¢æ¬²</p>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆä¸ƒï¼‰â€”â€” ä½¿ç”¨ç»“æ„ä½“æ¥ç»„ç»‡å…³è”çš„æ•°æ®</title>
    <url>/2023/05/28/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%B8%83%EF%BC%89%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%E7%BB%93%E6%9E%84%E4%BD%93%E6%9D%A5%E7%BB%84%E7%BB%87%E7%9B%B8%E5%85%B3%E8%81%94%E7%9A%84%E6%95%B0%E6%8D%AE/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆä¸ƒï¼‰â€”â€” ä½¿ç”¨ç»“æ„ä½“æ¥ç»„ç»‡å…³è”çš„æ•°æ®</h1>
<h2 id="1-å®šä¹‰å¹¶å®ä¾‹åŒ–ç»“æ„ä½“"><a class="header-anchor" href="#1-å®šä¹‰å¹¶å®ä¾‹åŒ–ç»“æ„ä½“">Â¶</a>1. å®šä¹‰å¹¶å®ä¾‹åŒ–ç»“æ„ä½“</h2>
<p>Rustå½“ä¸­çš„ç»“æ„ä½“æ˜¯ä¸€ç§<strong>è‡ªå®šä¹‰çš„æ•°æ®ç±»å‹</strong>ï¼Œå¯ä»¥å°†å¤šä¸ªå€¼æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œç»„æˆä¸€ä¸ªæ•´ä½“ï¼Œå¬èµ·æ¥å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹è¯­è¨€å½“ä¸­ç±»çš„æ¦‚å¿µä¼¼ä¹å·®ä¸å¤š</p>
<p>ç»“æ„ä½“çš„æˆå‘˜ä¹Ÿæ˜¯å¯ä»¥æœ‰ä¸åŒçš„ç±»å‹ï¼Œå¹¶ä¸”å…¶æˆå‘˜æœ‰å¯¹åº”çš„åç§°ï¼Œç›¸è¾ƒäºå…ƒç»„ï¼Œå®ƒä»¬æ›´åŠ çµæ´»</p>
<p>ä½¿ç”¨<code>struct</code>å…³é”®å­—å¯ä»¥å®šä¹‰ç»“æ„ä½“</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    username: <span class="type">String</span>,</span><br><span class="line">    password: <span class="type">String</span>,</span><br><span class="line">    gender: <span class="type">bool</span>,</span><br><span class="line">    balance: <span class="type">f64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯ä¸€ä¸ªUserInfoç»“æ„ä½“ï¼Œå…¶ä¸­æœ‰4ä¸ª<strong>å­—æ®µ</strong>ï¼Œè¿™äº›å­—æ®µéƒ½æ˜¯æœ‰å¯¹åº”åç§°çš„ï¼Œæœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œä¸å¹³å¸¸æ‰€è§çš„å…¶ä»–è¯­è¨€çš„ç±»çš„å®šä¹‰ååˆ†ç›¸ä¼¼</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user</span> = UserInfo &#123;</span><br><span class="line">        username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æ°æ´›ç‰¹&quot;</span>),</span><br><span class="line">        password: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;123456&quot;</span>),</span><br><span class="line">        gender: <span class="literal">true</span>,</span><br><span class="line">        balance: <span class="number">50.0</span></span><br><span class="line">    &#125;;    </span><br></pre></td></tr></table></figure>
<p>å¦‚æœè¿›è¡Œ<strong>å®ä¾‹åŒ–</strong>ï¼Œå¯ä»¥ä½¿ç”¨è¿™æ ·<strong>é”®å€¼å¯¹</strong>çš„æ–¹å¼ï¼Œuserå°±æ˜¯æˆ‘ä»¬åˆ›å»ºçš„æ–°å®ä¾‹ï¼Œç»™å¯¹åº”çš„å­—æ®µèµ‹äº†æœ‰æ„ä¹‰çš„å€¼</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;åç§°=&#123;&#125;&quot;</span>, user.username);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡<code>.</code>å¯ä»¥æ ¹æ®å­—æ®µåç§°è®¿é—®å®ä¾‹ä¸­çš„å­—æ®µ</p>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåªèƒ½å¤Ÿè®¿é—®å®ä¾‹çš„å­—æ®µï¼Œè€Œä¸èƒ½å¤Ÿè¿›è¡Œä¿®æ”¹ï¼Œåªæœ‰å°†å®ä¾‹å£°æ˜ä¸º<code>mut</code>å¯å˜ç±»å‹ï¼Œæ‰å¯ä»¥å¯¹å®ä¾‹ä¸­çš„å­—æ®µå€¼è¿›è¡Œä¿®æ”¹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">user</span> = UserInfo &#123;   <span class="comment">// å£°æ˜ä¸ºå¯å˜</span></span><br><span class="line">        username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æ°æ´›ç‰¹&quot;</span>),</span><br><span class="line">        password: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;123456&quot;</span>),</span><br><span class="line">        gender: <span class="literal">true</span>,</span><br><span class="line">        balance: <span class="number">50.0</span></span><br><span class="line">    &#125;;    </span><br><span class="line">    </span><br><span class="line">user.balance += <span class="number">100.0</span>;   <span class="comment">// ä¿®æ”¹å­—æ®µ   </span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;ä½™é¢=&#123;&#125;&quot;</span>, user.balance)</span><br></pre></td></tr></table></figure>
<p><strong>å®ä¾‹å£°æ˜ä¸º<code>mut</code>è¡¨æ˜å…¶ä¸­æ‰€æœ‰å­—æ®µå‡å¯å˜ï¼ŒRustä¸å…è®¸å£°æ˜éƒ¨åˆ†å­—æ®µå¯å˜</strong></p>
<h2 id="2-å­—æ®µåˆå§‹åŒ–ç®€åŒ–"><a class="header-anchor" href="#2-å­—æ®µåˆå§‹åŒ–ç®€åŒ–">Â¶</a>2. å­—æ®µåˆå§‹åŒ–ç®€åŒ–</h2>
<p>ä½¿ç”¨ä¸å­—æ®µåç›¸åŒçš„å˜é‡è¿›è¡Œåˆå§‹åŒ–æ—¶ï¼Œå¯ä»¥ç®€åŒ–ç»“æ„ä½“çš„èµ‹å€¼å†™æ³•</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">username</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æ°æ´›ç‰¹&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">password</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">user</span> = UserInfo &#123;</span><br><span class="line">     username,    <span class="comment">// ç®€åŒ–å†™æ³•</span></span><br><span class="line">     password,    </span><br><span class="line">     gender: <span class="literal">true</span>,</span><br><span class="line">     balance: <span class="number">50.0</span></span><br><span class="line">&#125;;   </span><br></pre></td></tr></table></figure>
<p>å½“å˜é‡åç§°ä¸ç»“æ„ä½“çš„å­—æ®µåç›¸åŒæ—¶ï¼Œå¯ä»¥ä¸ç”¨å°†é”®å€¼åˆ†å¼€ä¹¦å†™ï¼Œå¯ä»¥åˆå¹¶æˆä¸€ä¸ªï¼Œå…å»é‡å¤</p>
<h2 id="3-ä½¿ç”¨æ›´æ–°è¯­æ³•æ ¹æ®å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹"><a class="header-anchor" href="#3-ä½¿ç”¨æ›´æ–°è¯­æ³•æ ¹æ®å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹">Â¶</a>3. ä½¿ç”¨æ›´æ–°è¯­æ³•æ ¹æ®å…¶ä»–å®ä¾‹åˆ›å»ºæ–°å®ä¾‹</h2>
<p>è®¸å¤šæƒ…å†µä¸­ï¼Œæˆ‘ä»¬çš„æ–°å®ä¾‹å¯èƒ½ä¸åŸæ¥å·²æœ‰çš„å®ä¾‹åªæ˜¯æœ‰ç»†å¾®çš„å·®åˆ«ï¼Œé‡æ–°æ–°å»ºä¸€ä¸ªä»å¤´å¼€å§‹åˆå§‹åŒ–ä¼šæ¯”è¾ƒå•°å—¦ï¼Œæ­¤æ—¶å°±å¯ä»¥ä½¿ç”¨åˆ°Rustæä¾›çš„æ›´æ–°è¯­æ³•</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">username</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;æ°æ´›ç‰¹&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">password</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">user</span> = UserInfo &#123;</span><br><span class="line">        username,</span><br><span class="line">        password,</span><br><span class="line">        gender: <span class="literal">true</span>,</span><br><span class="line">        balance: <span class="number">50.0</span></span><br><span class="line">&#125;;    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">let</span> <span class="variable">user2</span> = UserInfo &#123;   </span><br><span class="line">        gender: <span class="literal">false</span>,</span><br><span class="line">        username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;å¶å¥ˆæ³•&quot;</span>),</span><br><span class="line">        ..user   <span class="comment">// æ›´æ–°è¯­æ³•</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>..</code>è¡¨æ˜å‰©ä¸‹æ²¡æœ‰æ˜¾å¼æŒ‡æ˜çš„å†…å®¹å‡ä¸ç»™å®šçš„å®ä¾‹ç›¸åŒ</p>
<h2 id="4-ä½¿ç”¨å…ƒç»„ç»“æ„ä½“"><a class="header-anchor" href="#4-ä½¿ç”¨å…ƒç»„ç»“æ„ä½“">Â¶</a>4. ä½¿ç”¨å…ƒç»„ç»“æ„ä½“</h2>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Color</span>(<span class="type">u8</span>, <span class="type">u8</span>, <span class="type">u8</span>);</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Point</span>(<span class="type">f64</span>, <span class="type">f64</span>);</span><br></pre></td></tr></table></figure>
<p>å…ƒç»„ç»“æ„ä½“çš„å½¢å¼ç±»ä¼¼äºå…ƒç»„ï¼Œå…¶åªéœ€è¦åœ¨å£°æ˜çš„æ—¶å€™æŒ‡å®šç±»å‹å°±å¯ä»¥äº†</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">blue</span> = <span class="title function_ invoke__">Color</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">255</span>);   <span class="comment">// åˆ›å»ºå®ä¾‹</span></span><br></pre></td></tr></table></figure>
<p>ç›´æ¥å¯¹åº”èµ‹å€¼åˆ›å»ºå®ä¾‹</p>
<p>è®¿é—®å…¶ä¸­çš„å­—æ®µå¯ä»¥ä½¿ç”¨å…ƒç»„çš„<strong>ç´¢å¼•æ–¹å¼</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;R=&#123;0&#125;, G=&#123;1&#125;, B=&#123;2&#125;&quot;</span>, blue.<span class="number">0</span>, blue.<span class="number">1</span>, blue.<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<h2 id="5-ç©ºç»“æ„ä½“"><a class="header-anchor" href="#5-ç©ºç»“æ„ä½“">Â¶</a>5. ç©ºç»“æ„ä½“</h2>
<p>è¿˜æœ‰ä¸€ç§ç‰¹æ®Šçš„ç»“æ„ä½“ï¼Œæ²¡æœ‰ä»»ä½•çš„å­—æ®µï¼Œè¿™ç§ç»“æ„ä½“è¢«ç§°ä¸ºç©ºç»“æ„ä½“</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Thing</span>;</span><br></pre></td></tr></table></figure>
<p>é€šå¸¸ç”¨æ¥åœ¨è¿™ç§ç±»å‹ä¸Šå®ç°<code>trait</code>ï¼Œè¿™ä¸å…¶ä»–è¯­è¨€ä¸­çš„æ¥å£ç›¸ä¼¼</p>
<h2 id="6-æ‰“å°è¾“å‡ºç»“æ„ä½“"><a class="header-anchor" href="#6-æ‰“å°è¾“å‡ºç»“æ„ä½“">Â¶</a>6. æ‰“å°è¾“å‡ºç»“æ„ä½“</h2>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281631754.png" alt="image-20230528163103621"></p>
<p>ç›´æ¥ä½¿ç”¨<code>println!()</code>è¾“å‡ºç»“æ„ä½“ä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281632069.png" alt="image-20230528163223131"></p>
<p>ä¸»è¦è¿˜æ˜¯Rustæ²¡æœ‰ä¸ºç»“æ„ä½“æä¾›é»˜è®¤çš„<code>Display</code>å®ç°ï¼Œä½†æ˜¯Rustä¹Ÿç»™å‡ºäº†è§£å†³æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨<code>&#123;:?&#125;</code>æˆ–<code>&#123;:#?&#125;</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281634603.png" alt="image-20230528163434666"></p>
<p>ä¿®æ”¹ååˆæœ‰æ–°çš„é—®é¢˜</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281635743.png" alt="image-20230528163525913"></p>
<p><code>Debug</code>æ²¡æœ‰å®ç°ï¼Œä½†æ˜¯åŒæ ·ç»™å‡ºäº†è§£å†³æ–¹æ³•ï¼Œæˆ‘ä»¬å†æ­é…ä¸Š<code>#[derive(Debug)]</code>è¯•ä¸€ä¸‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span>   <span class="comment">// å®šä¹‰ç»“æ„ä½“çš„åœ°æ–¹æ·»åŠ Debugæ ‡æ³¨</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    username: <span class="type">String</span>,</span><br><span class="line">    password: <span class="type">String</span>,</span><br><span class="line">    gender: <span class="type">bool</span>,</span><br><span class="line">    balance: <span class="type">f64</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281638772.png" alt="image-20230528163823353"></p>
<p>ç°åœ¨å¯ä»¥è¾“å‡ºç»“æ„ä½“çš„å†…å®¹äº†ï¼Œå¦‚æœæƒ³è¦æ ¼å¼æ›´å¥½çœ‹äº›ï¼Œå¯ä»¥æ›¿æ¢<code>&#123;:#?&#125;</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305281639247.png" alt="image-20230528163934725"></p>
<h2 id="7-æ–¹æ³•"><a class="header-anchor" href="#7-æ–¹æ³•">Â¶</a>7. æ–¹æ³•</h2>
<p>å¦‚æœæŠŠRustçš„ç»“æ„ä½“çœ‹åšæ˜¯C++æˆ–æ˜¯Javaç­‰è¯­è¨€çš„ç±»ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯è¿˜æœ‰æˆå‘˜æ–¹æ³•çš„æ¦‚å¿µæ²¡æœ‰å‡ºç°ï¼Ÿå…¶å®Rustçš„ç»“æ„ä½“ä¹Ÿæ˜¯å¯ä»¥æ·»åŠ æ–¹æ³•çš„</p>
<h3 id="7-1-å®šä¹‰æ–¹æ³•"><a class="header-anchor" href="#7-1-å®šä¹‰æ–¹æ³•">Â¶</a>7.1. å®šä¹‰æ–¹æ³•</h3>
<p>æ–¹æ³•å’Œå‡½æ•°ç›¸ä¼¼ä½†ä¹Ÿæœ‰åŒºåˆ«ï¼Œä¸»è¦å°±æ˜¯<strong>æ–¹æ³•æ˜¯è¢«å®šä¹‰åœ¨ç»“æ„ä½“ã€æšä¸¾ç±»å‹æˆ–è€…traitå¯¹è±¡å†…éƒ¨çš„</strong>ï¼Œç±»ä¼¼äºC++çš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”<strong>ç¬¬ä¸€ä¸ªå‚æ•°æ°¸è¿œæ˜¯<code>self</code>ï¼ŒæŒ‡ä»£è°ƒç”¨è¯¥æ–¹æ³•çš„ç»“æ„ä½“å®ä¾‹</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    username: <span class="type">String</span>,</span><br><span class="line">    password: <span class="type">String</span>,</span><br><span class="line">    gender: <span class="type">bool</span>,</span><br><span class="line">    balance: <span class="type">f64</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">UserInfo</span> &#123;   <span class="comment">// åœ¨å¯¹åº”çš„implå—ä¸­å£°æ˜æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">earn</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.balance += <span class="number">100.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">printInfo</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;ç”¨æˆ·ä¿¡æ¯=&#123;:#?&#125;&quot;</span>, <span class="keyword">self</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="7-2-å¤šä¸ªå‚æ•°"><a class="header-anchor" href="#7-2-å¤šä¸ªå‚æ•°">Â¶</a>7.2.  å¤šä¸ªå‚æ•°</h3>
<p>ç›´æ¥åœ¨<code>&amp;self</code>åé™„åŠ å…¶ä»–å‚æ•°å³å¯</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">earn</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, money: <span class="type">f64</span>) &#123;   <span class="comment">// æ·»åŠ å…¶ä»–å‚æ•°</span></span><br><span class="line">        <span class="keyword">self</span>.balance += <span class="number">100.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">printInfo</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;ç”¨æˆ·ä¿¡æ¯=&#123;:#?&#125;&quot;</span>, <span class="keyword">self</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">user.<span class="title function_ invoke__">earn</span>(<span class="number">50.0</span>);</span><br></pre></td></tr></table></figure>
<h3 id="7-3-å…³è”å‡½æ•°"><a class="header-anchor" href="#7-3-å…³è”å‡½æ•°">Â¶</a>7.3.  å…³è”å‡½æ•°</h3>
<p>å…³è”å‡½æ•°è¢«ç§°ä¸ºå‡½æ•°è€Œéæ–¹æ³•ï¼Œä¸»è¦åŸå› åœ¨äºå…¶<strong>ä¸ä¼šä½œç”¨äºæŸä¸ªå…·ä½“çš„å®ä¾‹</strong>ï¼Œå³æ²¡æœ‰<code>&amp;self</code>å‚æ•°</p>
<p>å…³è”å‡½æ•°ä¸€ç§å¸¸ç”¨çš„åœºæ™¯æ˜¯é€šè¿‡ä¸€äº›å‚æ•°ã€æ¡ä»¶è¿”å›ä¸€ä¸ªæ–°çš„å®ä¾‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">magicBuild</span>() <span class="punctuation">-&gt;</span> UserInfo &#123;</span><br><span class="line">        UserInfo &#123; </span><br><span class="line">            username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;å¬å”¤ç‰©&quot;</span>), </span><br><span class="line">            password: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;&quot;</span>), </span><br><span class="line">            gender: <span class="literal">true</span>, </span><br><span class="line">            balance: <span class="number">0.0</span> </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">user</span> = UserInfo::<span class="title function_ invoke__">magicBuild</span>();</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;å¬å”¤=&#123;:#?&#125;&quot;</span>, user);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨ç»“æ„ä½“ç±»å‹åŠ ä¸Š<code>::</code>è°ƒç”¨ï¼Œè¿™å°±ç±»ä¼¼äºå…¶ä»–è¯­è¨€ä¸­çš„é™æ€å‡½æ•°ï¼Œä¸å…·ä½“çš„å®ä¾‹æ— å…³ï¼Œè€Œåªä¸ç±»å‹ç›¸å…³</p>
<h3 id="7-4-å¤šä¸ªimpl"><a class="header-anchor" href="#7-4-å¤šä¸ªimpl">Â¶</a>7.4. å¤šä¸ªimpl</h3>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">magicBuild</span>() <span class="punctuation">-&gt;</span> UserInfo &#123;</span><br><span class="line">        UserInfo &#123; </span><br><span class="line">            username: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;å¬å”¤ç‰©&quot;</span>), </span><br><span class="line">            password: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;&quot;</span>), </span><br><span class="line">            gender: <span class="literal">true</span>, </span><br><span class="line">            balance: <span class="number">0.0</span> </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">impl</span> <span class="title class_">UserInfo</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">earn</span>(&amp;<span class="keyword">mut</span> <span class="keyword">self</span>, money: <span class="type">f64</span>) &#123;</span><br><span class="line">        <span class="keyword">self</span>.balance += <span class="number">100.0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">printInfo</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="built_in">println!</span>(<span class="string">&quot;ç”¨æˆ·ä¿¡æ¯=&#123;:#?&#125;&quot;</span>, <span class="keyword">self</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸€ä¸ªç»“æ„ä½“å¯ä»¥å¯¹åº”äºå¤šä¸ª<code>impl</code>å—ï¼Œä½†é€šå¸¸æ²¡æœ‰ç‰¹æ®Šçš„å¿…è¦è¿˜æ˜¯æ¨èå†™åœ¨ä¸€èµ·</p>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆä¸‰ï¼‰â€”â€” é€šç”¨ç¼–ç¨‹æ¦‚å¿µï¼ˆä¸‹ï¼‰</title>
    <url>/2023/03/05/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%B8%89%EF%BC%89%E2%80%94%E2%80%94%20%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5%EF%BC%88%E4%B8%8B%EF%BC%89/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆä¸‰ï¼‰â€”â€” é€šç”¨ç¼–ç¨‹æ¦‚å¿µï¼ˆä¸‹ï¼‰</h1>
<p>ä¸Šç¯‡ä¸»è¦æ˜¯å…³äºç±»å‹ã€å˜é‡ç­‰å†…å®¹çš„ä»‹ç»ï¼Œå¦‚æœå·²ç»å­¦ä¹ è¿‡å…¶ä»–ç¼–ç¨‹è¯­è¨€ï¼Œé‚£ä¹ˆè¿™ä¸€å—å¹¶ä¸ä¼šæœ‰å¤ªå¤§éš¾åº¦ï¼Œæˆ–è®¸ä»…ä»…æ˜¯ä¸€äº›å…³é”®å­—çš„æ›¿æ¢</p>
<p>è€Œä¸”ï¼Œåœ¨äº†è§£å…¶ä¸­çš„ä¸€äº›æ¦‚å¿µçš„æ—¶å€™ï¼Œä¼¼ä¹è¿˜éšéšçº¦çº¦èƒ½å¤Ÿçœ‹åˆ°ä¸€äº›æ¥è§¦è¿‡çš„å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„å½±å­ï¼Œå°±æ¯”å¦‚è¯´å…ƒç»„ã€åˆ—è¡¨çš„æ¦‚å¿µä¸Pythonå¦‚å‡ºä¸€è¾™ï¼Œè§£æ„èµ‹å€¼çš„å†™æ³•è®©æˆ‘æƒ³åˆ°äº†TypeScriptï¼ŒåŒºåˆ†å¯å˜ã€ä¸å¯å˜å˜é‡ä»¥åŠç±»å‹æ¨å¯¼çš„ç‰¹æ€§åˆè®©æˆ‘è”æƒ³åˆ°Kotlinï¼Œæˆ–è®¸Rustä¹Ÿæœ‰ä¸æ–­åœ°å€Ÿé‰´å…¶ä»–è¯­è¨€è®¾è®¡çš„ä¼˜ç§€ä¹‹å¤„å§ï¼Œäº¦æˆ–æ˜¯è¿™æ­£æ˜¯ä»£è¡¨äº†è¯­è¨€æ¼”è¿›çš„æ–¹å‘</p>
<h2 id="1-å‡½æ•°"><a class="header-anchor" href="#1-å‡½æ•°">Â¶</a>1. å‡½æ•°</h2>
<p>å‡½æ•°ç”¨æ¥å¯¹åŠŸèƒ½é€»è¾‘è¿›è¡Œå°è£…ï¼Œèƒ½å¤Ÿå¢å¼ºå¤ç”¨ã€æé«˜ä»£ç çš„å¯è¯»</p>
<p>åœ¨Rustä¸­ï¼Œå‡½æ•°é€šè¿‡<code>fn</code>å…³é”®å­—è¿›è¡Œå£°æ˜ï¼Œå¹¶ä¸”å‡½æ•°çš„åç§°éµå¾ª<strong>è›‡å½¢å‘½åæ³•</strong>ï¼Œå³åç§°ä½¿ç”¨å°å†™å­—æ¯è¿›è¡Œç»„åˆï¼Œå•è¯ä¸å•è¯ä¹‹é—´ä½¿ç”¨ä¸‹åˆ’çº¿è¿›è¡Œåˆ†å‰²ï¼Œè¿™ç‚¹å€’æ˜¯å’ŒPythonä¸­çš„å‡½æ•°å‘½åç›¸ä¸€è‡´</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">make_money</span>() &#123;   <span class="comment">// è›‡å½¢å‘½åæ³•</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;èµšé’±&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;   <span class="comment">// ä½œä¸ºå…¥å£çš„main()å‡½æ•°</span></span><br><span class="line">    <span class="comment">// å‡½æ•°è°ƒç”¨</span></span><br><span class="line">    <span class="title function_ invoke__">make_money</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>å‡½æ•°ååé¢çš„æ‹¬å·æ”¾ç½®å‚æ•°åˆ—è¡¨ã€èŠ±æ‹¬å·ä¸­ç¼–å†™å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œè¿™äº›ç®—å¾—ä¸Šè¡Œä¸šé€šç”¨äº†</p>
<p>å‡½æ•°å¯ä»¥å…ˆå®šä¹‰æˆ–åå®šä¹‰ï¼Œåªè¦å¯¹äºä½¿ç”¨åŒºåŸŸå¯è§å³å¯</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_ invoke__">make_money</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ”¾åœ¨åé¢ä¹Ÿå¯ä»¥</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">make_money</span>() &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;èµšé’±&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-1-å‡½æ•°å‚æ•°"><a class="header-anchor" href="#1-1-å‡½æ•°å‚æ•°">Â¶</a>1.1. å‡½æ•°å‚æ•°</h3>
<p>å‡½æ•°çš„å‚æ•°å¯ä»¥å°†å¤–éƒ¨çš„å˜åŒ–çµæ´»åœ°å‘Šè¯‰å†…éƒ¨çš„é€»è¾‘ï¼Œåœ¨æ¡†æ¶ä¸å˜çš„å‰æä¸‹éšæœºåº”å˜ï¼Œä½œä¸ºå‡½æ•°ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œå°±åƒåœ¨æ–‡æ¡£ä¸Šçœ‹åˆ°çš„é‚£æ ·</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303051003916.png" alt="image-20230305100319825"></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_ invoke__">make_money</span>(<span class="number">3</span>);     <span class="comment">// ä¼ å…¥å…·ä½“çš„å‚æ•°</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">make_money</span>(times: <span class="type">i32</span>) &#123;    <span class="comment">// å®šä¹‰å¯ä¼ å…¥çš„å‚æ•°</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;èµšé’±&#123;&#125;æ¬¡&quot;</span>, times);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®šä¹‰å‚æ•°çš„ç›®çš„æ˜¯ä¸ºäº†å¤–ç•Œèƒ½å¤Ÿç»™å®ƒä¼ å€¼ï¼Œå°±å¥½åƒåå…¬äº¤è½¦ä¸€æ ·ï¼ŒæŠ•å¸å£æ˜¯å‚æ•°åˆ—è¡¨ï¼Œæœ‰ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ç¡¬å¸ï¼ˆè®©ä½ æŠ•çš„ï¼‰ï¼Œå½“å¤–ç•Œä¼ å€¼æ—¶ï¼ˆæŠ•å¸ï¼‰ï¼Œæ ¹æ®ä½ çš„è¾“å…¥æ‰§è¡Œï¼ˆè®©ä½ ä¸Šè½¦ï¼‰</p>
<p><strong>åœ¨å‡½æ•°ç­¾åå½“ä¸­ï¼Œéœ€è¦æ˜¾å¼å£°æ˜æ¯ä¸ªå‚æ•°çš„ç±»å‹</strong>ï¼ˆRustçš„è®¾è®¡è€…æ…é‡è€ƒè™‘çš„ç»“æœï¼‰ï¼Œä»¥å…ç¼–è¯‘å™¨æ ¹æ®å…¶ä»–éƒ¨åˆ†çš„ä»£ç è¿›è¡Œæ¨å¯¼åèƒ½æ˜ç¡®æ„å›¾ï¼Œæ˜¾å¼åœ°æ ‡å‡†æ€»å¥½è¿‡å¤æ‚çš„å¤–éƒ¨æƒ…å½¢ï¼Œå¯¹å§ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="title function_ invoke__">make_money</span>(<span class="number">3</span>, <span class="number">100</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¤šä¸ªå‚æ•°ï¼ŒæŒ‡å‡ºç±»å‹ï¼Œâ€œ,â€åˆ†éš”</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">make_money</span>(times: <span class="type">i32</span>, value: <span class="type">i32</span>) &#123;</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;èµšé’±&#123;&#125;æ¬¡, æ¯æ¬¡&#123;&#125;&quot;</span>, times, value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="1-2-å‡½æ•°ä½“ä¸­çš„è¯­å¥å’Œè¡¨è¾¾å¼"><a class="header-anchor" href="#1-2-å‡½æ•°ä½“ä¸­çš„è¯­å¥å’Œè¡¨è¾¾å¼">Â¶</a>1.2. å‡½æ•°ä½“ä¸­çš„è¯­å¥å’Œè¡¨è¾¾å¼</h3>
<p>å‡½æ•°ä½“ï¼Œä¹Ÿå°±æ˜¯å…ˆå‰<code>&#123;&#125;</code>åŒ…è£¹çš„éƒ¨åˆ†ï¼Œå…¶ä¸­æœ‰è‹¥å¹²æ¡è¯­å¥ç»„æˆï¼Œ<strong>å¹¶ä¸”å¯ä»¥ä»¥ä¸€æ¡è¡¨è¾¾å¼ä½œä¸ºç»“å°¾</strong></p>
<h4 id="1-2-1-è¯­å¥-vs-è¡¨è¾¾å¼"><a class="header-anchor" href="#1-2-1-è¯­å¥-vs-è¡¨è¾¾å¼">Â¶</a>1.2.1. è¯­å¥ vs è¡¨è¾¾å¼</h4>
<p><strong>è¯­å¥æ˜¯æ‰§è¡Œæ“ä½œä½†æ˜¯ä¸è¿”å›å€¼çš„æŒ‡ä»¤</strong></p>
<p><strong>è¡¨è¾¾å¼æ˜¯ä¼šè¿›è¡Œè®¡ç®—å¹¶ä¸”å¾—åˆ°ä¸€ä¸ªå€¼ä½œä¸ºç»“æœçš„æŒ‡ä»¤</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303051023706.png" alt="image-20230305102340410"></p>
<p>ç»¿æ¡†çš„éƒ¨åˆ†æ˜¯è¯­å¥ï¼Œå› ä¸ºå®ƒä»¬æ²¡æœ‰è¿”å›å€¼ï¼Œåªæ˜¯åœ¨æè¿°ä¸€æ­¥æ­¥åœ°æ“ä½œï¼Œä½†æ˜¯ç¬¬äºŒæ¡è¯­å¥çš„å³ä¾§çº¢æ¡†éƒ¨åˆ†æ˜¯ä¸€æ¡è¡¨è¾¾å¼ï¼Œæè¿°äº†sentenceå˜é‡ä¸234æ¯”è¾ƒçš„ç»“æœï¼Œè¿”å›äº†boolç±»å‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">sentence</span> = <span class="number">125</span>;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = &#123;</span><br><span class="line">        <span class="keyword">let</span> <span class="variable">temp</span> = sentence / <span class="number">2</span> ;</span><br><span class="line">        temp == <span class="number">234</span>   <span class="comment">// æ²¡æœ‰åˆ†å·ï¼Œç”¨ä½œè¡¨è¾¾å¼è¿”å›</span></span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p>å¤æ‚äº›çš„åœºæ™¯ï¼ˆæ¯”å¦‚å¥—<code>&#123;&#125;</code>çš„å¤šè¡Œè¯­å¥ï¼‰ï¼Œåœ¨æœ«å°¾ä½¿ç”¨è¡¨è¾¾å¼ï¼Œä¸å¸¦åˆ†å·å¯ä»¥è¿”å›ç»“æœ</p>
<h3 id="1-3-å‡½æ•°çš„è¿”å›å€¼"><a class="header-anchor" href="#1-3-å‡½æ•°çš„è¿”å›å€¼">Â¶</a>1.3. å‡½æ•°çš„è¿”å›å€¼</h3>
<p>å‡½æ•°çš„è¿”å›å€¼ä¹Ÿæ˜¯ç­¾åçš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å‘è°ƒç”¨è€…è¿”å›å€¼ï¼Œä½¿ç”¨<code>-&gt;</code>ï¼Œå¹¶åœ¨å…¶åé¢å£°æ˜å…¶ç±»å‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">sum</span>(a: <span class="type">i32</span>, b: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;   <span class="comment">// å®šä¹‰ç±»å‹</span></span><br><span class="line">    a + b   <span class="comment">// è¡¨è¾¾å¼è¿”å›</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">sum</span>(<span class="number">3</span>, <span class="number">2</span>);  <span class="comment">// è¿”å›5</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;result=&#123;&#125;&quot;</span>, result);</span><br></pre></td></tr></table></figure>
<p>å¦‚æœä¸ºå‡½æ•°çš„è¡¨è¾¾å¼ç»“æœåŠ ä¸Šåˆ†å·ï¼Œé‚£ä¹ˆå°±ä¼šç¼–ç¨‹è¯­å¥ï¼Œè¿›è€Œæ— æ³•åŒ¹é…è¿”å›å€¼ç±»å‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303051040802.png" alt="image-20230305104046962"></p>
<p>é™¤äº†ä½¿ç”¨è¡¨è¾¾å¼ä½œä¸ºæœ€åçš„è¿”å›ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨<code>return</code>è¿”å›</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">sum</span>(a: <span class="type">i32</span>, b: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-æ³¨é‡Š"><a class="header-anchor" href="#2-æ³¨é‡Š">Â¶</a>2. æ³¨é‡Š</h2>
<p>æ³¨é‡Šçš„ä¸»è¦ä½œç”¨æ˜¯<strong>ç”¨äºè¯´æ˜ä»£ç çš„é€»è¾‘å’ŒåŠŸèƒ½</strong>ï¼Œä¾¿äºè‡ªå·±å’Œä¸€èµ·å†™ä»£ç å…¶ä»–äººç†è§£ï¼Œ<strong>å¢å¼ºä»£ç çš„å¯è¯»æ€§</strong></p>
<p>ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨å¿½ç•¥æ³¨é‡Šï¼Œé€šå¸¸<strong>å•è¡Œæ³¨é‡Š</strong>ä½¿ç”¨<code>//</code></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—æ±‚å’Œ</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">sum</span>(a: <span class="type">i32</span>, b: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è€Œå¤šè¡Œæ³¨é‡Šåˆ™æ˜¯å•è¡Œæ³¨é‡Šçš„å¤åˆ¶ï¼Œåœ¨æ¯è¡Œå‰é¢åŠ ä¸Š<code>//</code></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// è®¡ç®—</span></span><br><span class="line"><span class="comment">// ä¸¤æ•°ç›¸åŠ </span></span><br><span class="line"><span class="comment">// ä¹‹å’Œ</span></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">sum</span>(a: <span class="type">i32</span>, b: <span class="type">i32</span>) <span class="punctuation">-&gt;</span> <span class="type">i32</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-æ§åˆ¶æµ"><a class="header-anchor" href="#3-æ§åˆ¶æµ">Â¶</a>3. æ§åˆ¶æµ</h2>
<p>ç¨‹åºå¾€å¾€ä¸æ˜¯å¹³é“ºç›´å™çš„ï¼Œéœ€è¦åŒ…å«å¾ªç¯ã€åˆ¤æ–­ç­‰æ§åˆ¶é€»è¾‘ä½¿å…¶æ›´åŠ ä¸°æ»¡</p>
<h3 id="3-1-ifè¡¨è¾¾å¼"><a class="header-anchor" href="#3-1-ifè¡¨è¾¾å¼">Â¶</a>3.1. ifè¡¨è¾¾å¼</h3>
<p><code>if</code>è¡¨è¾¾å¼ä¸»è¦æ˜¯æ ¹æ®æ¡ä»¶é€‰æ‹©åˆ†æ”¯ï¼Œè®¸å¤šçš„ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æœ‰ç±»ä¼¼çš„è¡¨è¾¾</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">assets</span> = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">if</span> assets &lt; <span class="number">100</span> &#123;  <span class="comment">// æ¡ä»¶åˆ†æ”¯</span></span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;ç©·äºº&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> assets &gt;= <span class="number">100</span> &amp;&amp; assets &lt; <span class="number">10_000</span> &#123;</span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;æ™®é€šå·¥è–ªé˜¶çº§&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;    <span class="comment">// å…œåº•</span></span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;å¤§ä½¬&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>if</code>ä¼šè®¡ç®—å¯¹åº”åˆ†æ”¯çš„æ¡ä»¶è¡¨è¾¾å¼çš„<strong>boolå€¼</strong>ï¼Œä¸ºtrueåˆ™æ‰§è¡Œå¯¹åº”çš„ä»£ç å—çš„å†…å®¹ï¼Œä¸ºfalseåˆ™å°†è·³è¿‡æ•´ä¸ªä»£ç å—ï¼ˆ<strong>Rustä¸ä¼šå°è¯•å°†éå¸ƒå°”ç±»å‹çš„å€¼è½¬æ¢ä¸ºå¸ƒå°”ç±»å‹</strong>ï¼‰</p>
<p>å¹¶ä¸”ï¼Œ<code>else if</code>å’Œ<code>else</code>æ€»æ˜¯ä¼´éš<code>if</code>ï¼Œä¸€åŒç»„æˆå¤šæ¡ä»¶çš„åˆ†æ”¯</p>
<h4 id="3-1-1-è¡¨è¾¾å¼"><a class="header-anchor" href="#3-1-1-è¡¨è¾¾å¼">Â¶</a>3.1.1. è¡¨è¾¾å¼</h4>
<p>ç”±äº<code>if</code>å…¶å®æ˜¯è¡¨è¾¾å¼ï¼Œé‚£ä¹ˆæœ¬èº«èƒ½å¤Ÿè¿”å›å€¼ï¼Œå› æ­¤å¯ä»¥ç›´æ¥å°†<code>if</code>çš„æ•´ä½“åˆ¤æ–­å’Œè¿”å›å†…å®¹ä¸€åŒæ”¾ç½®åˆ°å€¼çš„ä½ç½®ä¸Š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">assets</span> = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">identity</span> = <span class="keyword">if</span> assets &lt; <span class="number">100</span> &#123;    <span class="comment">// è¡¨è¾¾å¼ä½œä¸ºå³å€¼</span></span><br><span class="line">	<span class="string">&quot;ç©·äºº&quot;</span>   <span class="comment">// è¿”å›å€¼</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> assets &gt;= <span class="number">100</span> &amp;&amp; assets &lt; <span class="number">10_000</span> &#123;  </span><br><span class="line">	<span class="string">&quot;æ™®é€šå·¥è–ªé˜¶çº§&quot;</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="string">&quot;å¤§ä½¬&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;èº«ä»½=&#123;&#125;&quot;</span>, identity);    </span><br></pre></td></tr></table></figure>
<p><strong>æ‰€æœ‰åˆ†æ”¯è¿”å›çš„ç±»å‹å¿…é¡»ç»Ÿä¸€</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303051402561.png" alt="image-20230305140151090"></p>
<p>ç¼–è¯‘å™¨ä¼šå¯¹åˆ†æ”¯è¿›è¡Œæ£€æŸ¥ï¼Œä»¥å…ç±»å‹æ— æ³•åŒ¹é…</p>
<h3 id="3-2-å¾ªç¯"><a class="header-anchor" href="#3-2-å¾ªç¯">Â¶</a>3.2. å¾ªç¯</h3>
<p>è®¡ç®—æœºå¾ˆæ“…é•¿åšé‡å¤çš„å·¥ä½œï¼Œå¹¶ä¸”è¿™æ ·çš„å·¥ä½œä¹Ÿéå¸¸é€‚åˆå®ƒä»¬</p>
<p>åœ¨å„ç§ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæä¾›çš„å¾ªç¯çš„ç»“æ„ä¹Ÿéƒ½å¤§åŒå°å¼‚ï¼ŒRustä¹Ÿæ˜¯åŸºäºè¿™äº›åŸå‹è¿›è¡Œä¸€äº›ä¼˜åŒ–å’Œæ”¹é€ </p>
<p>Rustæä¾›äº†3ç§å¾ªç¯ï¼š</p>
<ul>
<li>loop</li>
<li>while</li>
<li>for</li>
</ul>
<h4 id="3-2-1-loopå¾ªç¯"><a class="header-anchor" href="#3-2-1-loopå¾ªç¯">Â¶</a>3.2.1. loopå¾ªç¯</h4>
<p>ä½¿ç”¨<code>loop&#123;&#125;</code>å¯ä»¥å®šä¹‰ä¸€æ®µæ— é™å¾ªç¯</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">loop</span> &#123;</span><br><span class="line">        <span class="built_in">print!</span>(<span class="string">&quot;æ”¾æˆ‘å‡ºå»ï¼&quot;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œé€šå¸¸æˆ‘ä»¬ä¸ä¼šè¿›è¡Œæ— æ„ä¹‰çš„æ— é™å¾ªç¯ï¼Œè¿˜æ˜¯éœ€è¦æ»¡è¶³ä¸€å®šçš„æ¡ä»¶çš„æ—¶å€™è®©å®ƒå¤„ç†ä¸€äº›äº‹æƒ…ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦ä½¿ç”¨<code>break</code>è·³å‡º</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">i</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="keyword">loop</span> &#123;</span><br><span class="line">	i += <span class="number">1</span>;</span><br><span class="line">	<span class="keyword">if</span> i % <span class="number">3</span> == <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">break</span> i;   <span class="comment">// æ»¡è¶³æ¡ä»¶ç»“æŸå¹¶è¿”å› 4</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;result=&#123;&#125;&quot;</span>, result);</span><br></pre></td></tr></table></figure>
<h4 id="3-2-2-whileæ¡ä»¶å¾ªç¯"><a class="header-anchor" href="#3-2-2-whileæ¡ä»¶å¾ªç¯">Â¶</a>3.2.2. whileæ¡ä»¶å¾ªç¯</h4>
<p><code>while</code>å¾ªç¯ä¼šåœ¨æ¯æ¬¡æ‰§è¡Œå¾ªç¯ä½“ä¹‹å‰åˆ¤æ–­ä¸€æ¬¡æ¡ä»¶ï¼Œæ¡ä»¶ä¸ºtrueå°±æ‰§è¡Œï¼Œå¦åˆ™å°±è·³å‡º</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">num</span> = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">while</span> num &gt; <span class="number">0</span> &#123;</span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;å€’æ•°=&#123;&#125;&quot;</span>, num);</span><br><span class="line">	num -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-2-3-forå¾ªç¯"><a class="header-anchor" href="#3-2-3-forå¾ªç¯">Â¶</a>3.2.3. forå¾ªç¯</h4>
<p>ä½¿ç”¨<code>for</code>æœ€å¤§çš„å¥½å¤„æ˜¯<strong>å¯ä»¥æ–¹ä¾¿åœ°éå†æ•°ç»„ã€å…ƒç»„ç­‰å®¹å™¨é‡Œçš„å…ƒç´ </strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">teams</span> = [<span class="string">&quot;å§†å·´ä½©&quot;</span>, <span class="string">&quot;å“ˆå…°å¾·&quot;</span>, <span class="string">&quot;å…‹ç“¦æ‹‰èŒ¨èµ«åˆ©äºš&quot;</span>, <span class="string">&quot;è´æ—å„å§†&quot;</span>, <span class="string">&quot;ç©†å¾·é‡Œå…‹&quot;</span>];</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;å¼€å§‹ç‚¹åï¼&quot;</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="variable">player</span> <span class="keyword">in</span> teams.<span class="title function_ invoke__">iter</span>() &#123;</span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, player);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨éå†å…ƒç´ æ–¹é¢ï¼Œ<code>for</code>æ˜¾å¾—æ›´åŠ å®‰å…¨ç®€æ·</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="variable">i</span> <span class="keyword">in</span> <span class="number">0</span> .. teams.<span class="title function_ invoke__">len</span>() &#123;   <span class="comment">// ä¹Ÿå¯ä»¥ä½¿ç”¨Rangeé€šè¿‡åŒºé—´å–å‡ºç´¢å¼•</span></span><br><span class="line">	<span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆäºŒï¼‰â€”â€” é€šç”¨ç¼–ç¨‹æ¦‚å¿µï¼ˆä¸Šï¼‰</title>
    <url>/2023/03/05/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%BA%8C%EF%BC%89%E2%80%94%E2%80%94%20%E9%80%9A%E7%94%A8%E7%BC%96%E7%A8%8B%E6%A6%82%E5%BF%B5/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆäºŒï¼‰â€”â€” é€šç”¨ç¼–ç¨‹æ¦‚å¿µï¼ˆä¸Šï¼‰</h1>
<p>Rustä½œä¸ºä¸€é—¨ç¼–ç¨‹è¯­è¨€è‡ªç„¶ä¹Ÿä¼šæœ‰ä¸è®¸å¤šå…¶ä»–ç¼–ç¨‹è¯­è¨€ç›¸åŒæˆ–è€…ç›¸ä¼¼çš„æ¦‚å¿µï¼Œè¿™ä¹Ÿæ˜¯åœ¨ç¼–ç¨‹è¯­è¨€é¢†åŸŸçš„ä¸€äº›<strong>é€šç”¨çš„æ¦‚å¿µ</strong>ï¼Œé€šè¿‡äº†è§£è¿™äº›æ¦‚å¿µï¼Œå¹¶ä¸”ä¸å…¶ä»–è‡ªå·±å·²ç»ç†Ÿæ‚‰çš„ç¼–ç¨‹è¯­è¨€è¿›è¡Œæ¯”è¾ƒï¼Œä¼šä½¿å¾—å¯¹äºRustçš„ç†å¿µçš„æœ‰æ›´æ·±çš„ç†è§£ï¼Œä¹Ÿèƒ½å¸®åŠ©è‡ªå·±æ›´å¿«ä¸Šæ‰‹</p>
<h2 id="1-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#1-å‡†å¤‡å·¥ä½œ">Â¶</a>1. å‡†å¤‡å·¥ä½œ</h2>
<p>ä½¿ç”¨å…·ä½“é¡¹ç›®ã€æ¡ˆä¾‹å¸®åŠ©è‡ªå·±å­¦ä¹ æ€»æ˜¯ä¸å¤±ä¸ºä¸€ä¸ªå¥½çš„åŠæ³•ï¼Œç”šè‡³å¯ä»¥åœ¨æŒæ¡Rustä¹‹åå°†å…¶æ•´ç†ï¼Œç”¨ä½œå¤ä¹ å’Œä¼˜åŒ–</p>
<p>å› è€Œï¼Œåœ¨å¼€å§‹çš„æ—¶å€™ï¼Œå…ˆä½¿ç”¨<code>Cargo</code>åˆ›å»ºä¸€ä¸ªRusté¡¹ç›®</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302250956957.png" alt="image-20230225095646337"></p>
<h2 id="2-å˜é‡ä¸å¯å˜æ€§"><a class="header-anchor" href="#2-å˜é‡ä¸å¯å˜æ€§">Â¶</a>2. å˜é‡ä¸å¯å˜æ€§</h2>
<p>åœ¨Rustå½“ä¸­ï¼Œå˜é‡<strong>é»˜è®¤æ˜¯ä¸å¯å˜çš„</strong></p>
<p>å¦‚æœä¸€ä¸ªå˜é‡ä¸å¯å˜ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªå€¼å·²ç»ä¸å…¶ç»‘å®šï¼ˆä¹Ÿå°±æ˜¯è¿›è¡Œäº†èµ‹å€¼ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¾¿æ— æ³•è¢«æ”¹å˜</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302251536242.png" alt="image-20230225153632051"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302251538303.png" alt="image-20230225153852396"></p>
<p>æŠ¥é”™çš„æ–‡å­—æç¤º<strong>ä¸å¯å˜çš„å˜é‡è¢«èµ‹å€¼äº†ä¸¤æ¬¡</strong>ï¼Œå› è€Œè¿™ç§å†™æ³•æ˜¯æ— æ³•é€šè¿‡ç¼–è¯‘çš„ï¼Œæ›´ä¸è¦è¯´è¿è¡Œäº†</p>
<p>åœ¨ç¼–ç¨‹å¼€å‘çš„è¿‡ç¨‹ä¸­ç†Ÿç»ƒåœ°è¿ç”¨ç¼–è¯‘å™¨æ¥å¸®åŠ©æˆ‘ä»¬è‡ªå·±ä¹Ÿæ˜¯é‡è¦çš„ä¸€ç¯ï¼Œ<strong>Rustçš„ç¼–è¯‘å™¨èƒ½å¤Ÿä¿è¯é‚£äº›å£°æ˜ä¸ºä¸å¯å˜çš„å€¼ä¸€å®šä¸ä¼šå‘ç”Ÿæ”¹å˜</strong>ï¼Œå› è€Œåœ¨é˜…è¯»ä»£ç çš„æ—¶å€™çœ‹åˆ°æŸä¸ªå˜é‡é»˜è®¤è¢«å£°æ˜ä¸ºä¸å¯å˜å˜é‡æ—¶ï¼Œä¸å¿…å»è¿½ç©¶èµ‹å€¼çš„å˜åŒ–</p>
<h3 id="2-1-å¯å˜æ€§"><a class="header-anchor" href="#2-1-å¯å˜æ€§">Â¶</a>2.1. å¯å˜æ€§</h3>
<p>å°½ç®¡å˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨å£°æ˜å˜é‡çš„æ—¶å€™åœ¨å˜é‡çš„åç§°å‰æ·»åŠ <code>mut</code>å…³é”®å­—æ¥<strong>æ˜¾å¼åœ°å°†å˜é‡å£°æ˜ä¸ºå¯å˜çš„</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">name</span> = <span class="string">&quot;Bob&quot;</span>;</span><br><span class="line">name = <span class="string">&quot;Mike&quot;</span>;</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;æˆ‘çš„åå­—æ˜¯&#123;&#125;&quot;</span>, name);</span><br></pre></td></tr></table></figure>
<p>åƒè¿™æ ·ï¼Œä½¿ç”¨<code>mut</code>å¯ä»¥å‘Šè¯‰åˆ«äººè¿™æ˜¯ä¸€ä¸ªå¯å˜çš„å˜é‡ï¼Œéœ€è¦å…³æ³¨å…¶å˜åŒ–ï¼Œä½†ä¸Šé¢çš„ä»£ç è¯­ä¹‰ä¸Šæœ‰ç‚¹é—®é¢˜ï¼Œå› ä¸ºç¬¬ä¸€æ¬¡çš„èµ‹å€¼å‹æ ¹ç”¨ä¸åˆ°ï¼Œä½†è¿™ä¸å½±å“è¿è¡Œï¼Œç¼–è¯‘å™¨ä½“è´´åœ°æŒ‡å‡ºäº†è¿™ä¸ªé—®é¢˜â€”â€”æ²¡ç”¨çš„èµ‹å€¼</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302251555548.png" alt="image-20230225155557827"></p>
<p>åœ¨å¼€å‘ä¸­ï¼Œå¯å˜ä¸ä¸å¯å˜çš„ä½¿ç”¨éœ€è¦æ ¹æ®é¡¹ç›®çš„å®é™…æƒ…å†µè¿›è¡Œå–èˆï¼Œæ¯”å¦‚å¦‚æœæ˜¯é‡å‹çš„æ•°æ®ç»“æ„è¿›è¡Œä¿®æ”¹ï¼Œé‚£ä¹ˆå¯èƒ½ç›´æ¥å°†å…¶å£°æ˜ä¸ºå¯å˜ï¼Œè€Œåé‡æ–°èµ‹å€¼æ›´åŠ èŠ‚çœæ€§èƒ½ï¼›è€Œå¦‚æœæ•°æ®ç»“æ„è¾ƒä¸ºè½»é‡æ—¶ï¼Œæˆ–è®¸é‡æ–°æ ¹æ®éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å˜é‡ä¼šä½¿å¾—å¯è¯»æ€§æ›´å¼ºï¼Œå› æ­¤ï¼Œ<strong>å¯å˜ä¸ä¸å¯å˜çš„å–èˆä¹Ÿæ˜¯éœ€è¦æ ¹æ®é¢ä¸´çš„å…·ä½“æƒ…å†µè¿›è¡Œå–èˆçš„</strong></p>
<h3 id="2-2-å˜é‡ä¸å¸¸é‡çš„åŒºåˆ«"><a class="header-anchor" href="#2-2-å˜é‡ä¸å¸¸é‡çš„åŒºåˆ«">Â¶</a>2.2. å˜é‡ä¸å¸¸é‡çš„åŒºåˆ«</h3>
<p>å¦‚æœå…‰æ˜¯çœ‹ä¸å¯å˜ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“ä¼šè”æƒ³åˆ°<strong>å¸¸é‡</strong>çš„æ¦‚å¿µï¼Œç„¶è€ŒäºŒè€…ä¹‹é—´è¿˜æ˜¯å­˜åœ¨ä¸€äº›åŒºåˆ«çš„</p>
<p>ç›¸è¾ƒäºä¸å¯å˜çš„å˜é‡ï¼Œå¸¸é‡æ‰€è°“çš„ä¸å¯å˜<strong>ä¸ä»…æ˜¯é»˜è®¤çš„ï¼Œè€Œä¸”æ˜¯è‡ªå§‹è‡³ç»ˆçš„</strong>ï¼Œæ— æ³•ç”¨<code>mut</code>å…³é”®å­—å¯¹å…¶è¿›è¡Œä¿®é¥°ï¼Œä»…ä»…æ˜¯ä½¿ç”¨<code>const</code>å…³é”®å­—å°±æ˜¯å…¨éƒ¨äº†</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾å£°æ˜ä¸€ä¸ªæ¸¸æˆçš„æ»¡çº§çš„ç­‰çº§ä¸º99çº§</span></span><br><span class="line">    <span class="keyword">const</span> MAX_LEVEL: <span class="type">u32</span> = <span class="number">99</span>;    <span class="comment">// ä½¿ç”¨constå…³é”®å­—å£°æ˜ï¼Œå‘½åé‡‡ç”¨å…¨å¤§å†™å­—æ¯å’Œä¸‹åˆ’çº¿åˆ†å‰²ï¼Œå¹¶ä¸”æ³¨æ„éœ€è¦æ˜¾å¼å£°æ˜ç±»å‹ï¼Œå£°æ˜çš„æ—¶å€™å°±éœ€è¦èµ‹å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ­£å¦‚ä¸Šé¢çš„å¸¸é‡å£°æ˜ï¼Œä¹ æƒ¯æ€§åœ°é‡‡ç”¨<strong>å…¨å¤§å†™çš„å­—æ¯ç»„æˆæœ‰æ„ä¹‰çš„å•è¯å¹¶ä¸”ä½¿ç”¨ä¸‹åˆ’çº¿è¿›è¡Œåˆ†å‰²</strong>ï¼Œå¹¶ä¸”éœ€è¦<strong>æ˜¾å¼åœ°å£°æ˜å€¼çš„ç±»å‹</strong>ï¼Œæ¯”å¦‚è¯´è¿™é‡Œçš„<code>u32</code>ç±»å‹ï¼Œè¡¨æ˜çš„99æ˜¯æ— ç¬¦å·çš„æ•´æ•°ç±»å‹</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302252145088.png" alt="image-20230225214531440"></p>
<p>å¸¸é‡å£°æ˜çš„åŒæ—¶å°±éœ€è¦èµ‹å€¼äº†ï¼Œå¯ä¸èƒ½ç­‰ä¸€ä¼šå„¿ï¼Œç­‰ä¸€ä¼šå°±ç»™ä½ æŠ¥é”™ï¼Œå‰ä¸€å¥è®¤ä¸ºè¿™è‡³å°‘åº”è¯¥æœ‰ä¸ªä½œç”¨åŸŸï¼Œç„¶è€Œ<code>free constant item without body</code>ï¼Œè€Œåé¢æƒ³è¦è¡¥æ•‘ï¼Œç­‰å·å·¦è¾¹å´å·²ç»è¢«åˆ¤æ–­ä¸ºä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼äº†ï¼Œæ­¤æ—¶çš„èµ‹å€¼æ“ä½œå·²ç»æ˜¯éæ³•æ“ä½œäº†</p>
<p>å¦å¤–ï¼Œå¸¸é‡<strong>å¯ä»¥è¢«å£°æ˜åœ¨ä»»ä½•ä½œç”¨åŸŸä¸­ï¼ˆå°±æ˜¯<code>&#123;&#125;</code>åŒ…èµ·æ¥çš„é‚£å—åŒºåŸŸï¼‰ï¼ŒåŒ…æ‹¬å…¨å±€ä½œç”¨åŸŸ</strong>ï¼Œè€Œä¸”<strong>åœ¨æ•´ä¸ªç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ä¸­éƒ½åœ¨è‡ªå·±çš„ä½œç”¨åŸŸå†…æœ‰æ•ˆ</strong>ï¼ˆå› è€Œå¯ä»¥æä¾›ç»™å„ä¸ªç¨‹åºé€»è¾‘è¿›è¡Œå…±äº«ï¼‰</p>
<p>å¸¸é‡å¯ä»¥è¢«ç»‘å®šåˆ°å¸¸é‡è¡¨è¾¾å¼ä¸Šï¼Œä½†æ˜¯æ— æ³•å°†å‡½æ•°çš„è¿”å›å€¼ï¼Œæˆ–è€…å…¶ä»–éœ€è¦<strong>è¿è¡Œæ—¶</strong>è¿›è¡Œè®¡ç®—çš„å€¼ç»‘å®šåˆ°å¸¸é‡ä¸Šï¼Œå‡½æ•°é€šå¸¸éœ€è¦è¿è¡Œæ—¶åŠ¨æ€è®¡ç®—ï¼Œè€Œå¸¸é‡çš„ç¡®è®¤æ˜æ˜¾è¦æ›´æ—©ï¼Œå°±åƒç°åœ¨æˆ‘ä»¬æ— æ³•å†³å®šæœªæ¥ä¸€æ ·</p>
<p>è‡ªè¡Œç¼–å†™ç¨‹åºçš„æ—¶å€™éœ€è¦è¯†åˆ«é‚£äº›å€¼å¯ä»¥ä½¿ç”¨å¸¸é‡è¿›è¡Œæ›¿æ¢ï¼Œå°¤å…¶æ˜¯<strong>ç¡¬ç¼–ç </strong>çš„å†…å®¹ï¼Œæˆ–æ˜¯ä¸€äº›æ•°å€¼ï¼ŒåæœŸç»´æŠ¤å¯èƒ½æˆä¸ºâ€œå¤±è”â€çš„é­”å€¼ï¼Œå®ƒä»¬ä¹Ÿè®¸é…å¾—ä¸Šæ‹¥æœ‰å§“åï¼›å› è€Œå‰æœŸåº”è¯¥è¯†åˆ«åˆ°å¯èƒ½è¢«é‡å¤ä½¿ç”¨çš„ä¸€äº›å¸¸é‡ï¼Œè¿™æ ·å¯ä»¥<strong>å¢å¼ºä»£ç åœ¨åæœŸçš„å¯è¯»æ€§ã€å¯ç»´æŠ¤æ€§</strong></p>
<h3 id="2-3-éšè—"><a class="header-anchor" href="#2-3-éšè—">Â¶</a>2.3. éšè—</h3>
<p><strong>éšè—ï¼ˆShadowï¼‰<strong>æ˜¯æŒ‡ä¸€ä¸ª</strong>æ–°å£°æ˜çš„å˜é‡è¦†ç›–æ‰äº†æ—§çš„åŒåå˜é‡</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">version</span> = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">version</span> = version + <span class="number">1</span>;   <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">version</span> = version + <span class="number">1</span>;   <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;å½“å‰ç‰ˆæœ¬=&#123;&#125;&quot;</span>, version);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<strong>éšè—æœºåˆ¶</strong>å’Œå°†å˜é‡å£°æ˜ä¸º<code>mut</code>æ˜¯ä¸åŒçš„ï¼Œæ–°çš„å˜é‡ä¾ç„¶ä¼šæ˜¯<strong>ä¸å¯å˜çš„</strong>ï¼Œåªä¸è¿‡ç›¸å½“äºæ˜¯ä¿å­˜äº†æ–°çš„å†…å®¹äº†ï¼Œå¹¶ä¸”ç›¸è¾ƒäº<code>mut</code>ï¼Œ<strong>éšè—è¿˜å¯ä»¥ä¿®æ”¹å˜é‡çš„ç±»å‹</strong>ï¼ˆæ¯•ç«Ÿæ˜¯æ–°çš„å˜é‡ï¼‰ï¼›åœ¨æˆ‘çœ‹æ¥ï¼Œè¿™éå¸¸é€‚ç”¨äºè¿›è¡Œæ•°æ®è½¬æ¢ï¼Œæ¯”å¦‚è¯´åç«¯ç»™äº†ä¸€ä¸ªæ—¶é—´æˆ³çš„é•¿ä¸²æ•°å­—ï¼Œå‰ç«¯éœ€è¦å°†å…¶å±•ç¤ºä¸ºyyyy-MM-ddçš„æ ¼å¼ï¼Œé‚£ä¹ˆå¾€å¸¸æˆ‘ä»¬å¯èƒ½å†å£°æ˜ä¸€ä¸ªè¯¸å¦‚formattedDateè¿™æ ·çš„é‡å­˜å‚¨åŠ å·¥åçš„å€¼ï¼Œç”šè‡³æœ‰çš„æ—¶å€™ä¼šæœ‰æ›´å¤šæ­¥çš„æ“ä½œï¼Œè¿™æ ·å¯èƒ½ä¼šäº§ç”Ÿå¾ˆå¤šä¸­é—´å˜é‡</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">date</span> = <span class="number">1677386710000</span>;    <span class="comment">// å¯èƒ½æ˜¯ç²¾ç¡®åˆ°æ¯«ç§’çš„</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">formatedDate</span> = <span class="title function_ invoke__">get_formated_date_str</span>(date, <span class="string">&quot;yyyy-MM-dd&quot;</span>);   <span class="comment">// å…¶å®é¡µé¢å±•ç¤ºåªéœ€è¦ç”¨åˆ°æ ¼å¼åŒ–ç»“æŸçš„å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨éšè—æœºåˆ¶å°±å¯ä»¥å°†åŒä¸€ä¸ªæˆ–ä¸€ç±»çš„å†…å®¹çš„åŠ å·¥ä½œä¸ºå¤šä¸ªç‰ˆæœ¬ï¼Œæœ€åç”¨åˆ°çš„é‚£ä¸€ç‰ˆä½œä¸ºç»“æœ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">date</span> = <span class="number">1677386710000</span>;    <span class="comment">// 1.0ç‰ˆæœ¬ åŸææ–™</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">date</span> = <span class="title function_ invoke__">get_formated_date_str</span>(date);   <span class="comment">// 2.0ç‰ˆæœ¬ åŠ å·¥ä¸Šå¸‚çš„æˆå“</span></span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šä»£ç å±•ç¤ºçš„å°±æ˜¯ä½¿ç”¨äº†éšè—æœºåˆ¶åçš„åŸé€»è¾‘ï¼Œåç«¯è¿”å›çš„æ•°æ®æ—¨åœ¨ç²¾å‡†ã€å®Œæ•´ï¼Œä½†æ˜¯å¹¶éæœ€ç»ˆæˆ‘ä»¬éœ€è¦çš„æˆå“ï¼Œå› æ­¤éœ€è¦åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡ŒåŠ å·¥ï¼Œä½†ä»–ä»¬è®¤è¯†ä»£è¡¨äº†åŒæ ·çš„æ„ä¹‰ï¼Œå°±å¥½åƒå‰ä¸€ç‰ˆçš„ä½ æ²¡ç©¿è¡£æœï¼Œè¿™ä¸èƒ½è®©åˆ«äººçœ‹åˆ°ï¼Œåä¸€ç‰ˆå¸®ä½ éšè—ï¼Œç©¿ä¸Šè¡£æœåå†å‡ºå»è§äººï¼Œä½†ä½ è¿˜æ˜¯ä½ ï¼Œè¿™ä¹Ÿ<strong>å¸®å¿™çœå»äº†é‚£äº›å‘½åè´¹è§£ã€å­˜åœ¨åˆå¾ˆå°´å°¬çš„ä¸´æ—¶é‡ï¼Œä½¿å¾—ä»£ç çš„ä¸šåŠ¡é€»è¾‘ä¸»çº¿æ›´åŠ æ¸…æ™°</strong></p>
<h2 id="3-æ•°æ®ç±»å‹"><a class="header-anchor" href="#3-æ•°æ®ç±»å‹">Â¶</a>3. æ•°æ®ç±»å‹</h2>
<p>Rustå½“ä¸­çš„<strong>æ¯ä¸€ä¸ªå€¼éƒ½ä¼šæœ‰ä¸ä¹‹å¯¹åº”çš„æ•°æ®ç±»å‹</strong>ï¼Œç³»ç»Ÿæ ¹æ®æ•°æ®ç±»å‹æ¥å¤„ç†å®ƒä»¬</p>
<p>Rustæ˜¯ä¸€é—¨<strong>é™æ€ç±»å‹è¯­è¨€</strong>ï¼Œå› æ­¤åœ¨å…¶ç¼–è¯‘ç¨‹åºçš„è¿‡ç¨‹ä¸­<strong>éœ€è¦çŸ¥é“æ‰€æœ‰å˜é‡çš„ç±»å‹</strong>ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å°†ç±»å‹é¦–å…ˆç¡®å®šä¸‹æ¥</p>
<p>ç¼–è¯‘å™¨åœ¨å¤§éƒ¨åˆ†çš„æƒ…å†µèƒ½å¤Ÿè¿›è¡Œ<strong>ç±»å‹æ¨å¯¼</strong>ï¼Œæˆ‘ä»¬å¦‚ä½•ç»‘å®šã€ä½¿ç”¨å˜é‡çš„å€¼ä¼šä¸ºç¼–è¯‘å™¨æä¾›çº¿ç´¢</p>
<p><img src="C:/Users/Minos/AppData/Roaming/Typora/typora-user-images/image-20230226173000120.png" alt="image-20230226173000120"></p>
<p>æ¯”å¦‚åƒè¿™é‡Œï¼Œ<code>: i32</code>å¹¶éåœ¨ä»£ç ä¸­æŒ‡å®šçš„ç±»å‹ï¼Œè€Œæ˜¯ç¼–è¯‘å™¨æ ¹æ®ç­‰å·å³ä¾§ä¸ºå˜é‡èµ‹çš„å€¼ç¡®å®šçš„ï¼Œè¿™ä¾¿æ˜¯ç¼–è¯‘å™¨è¿›è¡Œçš„<strong>è‡ªåŠ¨æ¨å¯¼</strong></p>
<p>ç„¶è€Œï¼Œä¹Ÿæœ‰å°‘é‡æƒ…å†µï¼Œç¼–è¯‘å™¨æ— æ³•æ ¹æ®çº¿ç´¢ç¡®å®šç±»å‹ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦å¼€å‘è€…è‡ªå·±è¿›è¡Œç±»å‹æŒ‡å®š</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302261739040.png" alt="image-20230226173901140"></p>
<p>æ¯”å¦‚åƒå°†å­—ç¬¦ä¸²è½¬æˆæ•°å­—ï¼Œå¦‚æœä¸æŒ‡å®šæ˜ç¡®çš„ç±»å‹ï¼Œç¼–è¯‘å™¨ä¸æ¸…æ¥šä½ æƒ³è¦è½¬æ¢æˆä»€ä¹ˆï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202302261748798.png" alt="image-20230226174803147"></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">version</span>: <span class="type">f32</span> = <span class="string">&quot;0.70&quot;</span>.<span class="title function_ invoke__">parse</span>().<span class="title function_ invoke__">expect</span>(<span class="string">&quot;éæ•°å­—ç±»å‹&quot;</span>);   <span class="comment">// é€šè¿‡æ˜¾å¼æŒ‡å®šç±»å‹ä¸ºf32ï¼Œæ˜¯ç¼–è¯‘å™¨æ˜ç™½æˆ‘ä»¬çš„æ„å›¾</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;ç‰ˆæœ¬å·=&#123;&#125;&quot;</span>, version)</span><br></pre></td></tr></table></figure>
<h3 id="3-1-æ ‡é‡ç±»å‹"><a class="header-anchor" href="#3-1-æ ‡é‡ç±»å‹">Â¶</a>3.1. æ ‡é‡ç±»å‹</h3>
<p><strong>æ ‡é‡ç±»å‹</strong>ä½œä¸º<strong>å•ä¸ªå€¼</strong>ç±»å‹çš„<strong>ç»Ÿç§°</strong></p>
<p>Rustå†…éƒ¨å®šä¹‰äº†4ç§åŸºç¡€çš„æ ‡é‡ç±»å‹</p>
<ul>
<li>æ•´æ•°</li>
<li>æµ®ç‚¹æ•°</li>
<li>å¸ƒå°”å€¼</li>
<li>å­—ç¬¦</li>
</ul>
<h4 id="3-1-1-æ•´æ•°ç±»å‹"><a class="header-anchor" href="#3-1-1-æ•´æ•°ç±»å‹">Â¶</a>3.1.1. æ•´æ•°ç±»å‹</h4>
<p>æ•´æ•°ç±»å‹è¡¨ç¤ºçš„å°±æ˜¯ä¸åŒ…å«å°æ•°éƒ¨åˆ†çš„æ•´æ•°ï¼Œå…¶ä¸­åˆ†ä¸º<strong>æœ‰ç¬¦å·</strong>å’Œ<strong>æ— ç¬¦å·</strong></p>
<p>æ— ç¬¦å·æ•°å§‹ç»ˆä¸ä¸ºè´Ÿï¼Œå¼€å¤´ä½¿ç”¨<code>u</code>åŒºåˆ«ï¼Œæ¯”å¦‚<code>u32</code></p>
<p><strong>æœ‰ç¬¦å·æ•°é€šè¿‡äºŒè¿›åˆ¶è¡¥ç çš„å½¢å¼æ¥å­˜å‚¨</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041402072.png" alt="image-20230304140243231"></p>
<p>é™¤äº†ç›´æ¥æŒ‡æ˜æè¿°ä½æ•°çš„ç±»å‹ï¼Œåƒ<code>i32</code>ï¼Œ<code>u32</code>ï¼Œè¿˜æœ‰<code>isize</code>å’Œ<code>usize</code>ä¸¤ç§ç‰¹æ®Šçš„ç±»å‹ï¼Œ<strong>å®ƒä»¬çš„é•¿åº¦å–å†³äºç¨‹åºè¿è¡Œçš„ç›®æ ‡å¹³å°</strong></p>
<h5 id="3-1-1-1-å­—é¢é‡"><a class="header-anchor" href="#3-1-1-1-å­—é¢é‡">Â¶</a>3.1.1.1. å­—é¢é‡</h5>
<p>å¦å¤–ï¼Œæ•´æ•°çš„<strong>å­—é¢é‡</strong>ä¹Ÿæœ‰å¤šç§å½¢å¼çš„å‘ˆç°</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041413041.png" alt="image-20230304141342433"></p>
<h5 id="3-1-1-2-æ•´æ•°æº¢å‡ºé—®é¢˜"><a class="header-anchor" href="#3-1-1-2-æ•´æ•°æº¢å‡ºé—®é¢˜">Â¶</a>3.1.1.2. æ•´æ•°æº¢å‡ºé—®é¢˜</h5>
<p><strong>æ•´æ•°æº¢å‡º</strong>ä¸»è¦æ˜¯ç”±äºå­˜å‚¨çš„æ•°è¶…å‡ºç±»å‹çš„é™åˆ¶ï¼Œå°±åƒå¾€æ¡¶é‡Œå€’æ°´ä¸€æ ·</p>
<p>åœ¨<strong>debug</strong>æ¨¡å¼ä¸‹ï¼Œå‘ç”Ÿçš„æº¢å‡ºä¼šæŠ›å‡ºpanic</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">big</span>: <span class="type">u8</span> = <span class="number">255</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">small</span> = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = small + big;   <span class="comment">// ä¼šå‘ç”Ÿæº¢å‡º</span></span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;ç»“æœ=&#123;&#125;&quot;</span>, result)</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041514433.png" alt="image-20230304151450548"></p>
<p>ç¨‹åºç«‹é©¬å‘ç°è¿™ä¸ªæº¢å‡ºçš„é”™è¯¯ï¼Œå¹¶å°†å…¶æŠ›å‡ºï¼Œä¸­æ–­äº†æ‰§è¡Œ</p>
<h4 id="3-1-2-æµ®ç‚¹æ•°ç±»å‹"><a class="header-anchor" href="#3-1-2-æµ®ç‚¹æ•°ç±»å‹">Â¶</a>3.1.2. æµ®ç‚¹æ•°ç±»å‹</h4>
<p>Rustæä¾›äº†ä¸¤ç§åŸºç¡€çš„æµ®ç‚¹æ•°ç±»å‹ï¼š<code>f32</code>ï¼Œ<code>f64</code></p>
<p>åœ¨Rustä¸­ï¼Œæµ®ç‚¹ç±»å‹<strong>é»˜è®¤</strong>ä¼šè¢«æ¨å¯¼ä¸º<code>f64</code>ç±»å‹ï¼Œå› å…¶åœ¨ç°ä»£CPUæ‰§è¡Œä¸­ç›¸è¾ƒäº<code>f32</code>æœ‰æ›´é«˜ç²¾åº¦ï¼Œæ‰§è¡Œæ•ˆç‡ä¹Ÿç›¸å·®æ— å‡ </p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041525733.png" alt="image-20230304152526364"></p>
<p>ä½¿ç”¨<code>f32</code>éœ€è¦æ˜¾å¼è¿›è¡ŒæŒ‡å®š</p>
<p>Rustä¸­çš„<code>f32</code>å’Œ<code>f64</code>å¯¹åº”çš„å°±æ˜¯IEEE-754æ ‡å‡†ä¸­çš„<strong>å•ç²¾åº¦æµ®ç‚¹æ•°</strong>å’Œ<strong>åŒç²¾åº¦æµ®ç‚¹æ•°</strong></p>
<h4 id="3-1-3-æ•°å€¼è®¡ç®—"><a class="header-anchor" href="#3-1-3-æ•°å€¼è®¡ç®—">Â¶</a>3.1.3. æ•°å€¼è®¡ç®—</h4>
<p>Rustä¸­çš„æ•°å€¼ç±»å‹<strong>æ”¯æŒå„ç§å¸¸ç”¨è¿ç®—</strong>ï¼Œå¦‚ï¼šåŠ å‡ä¹˜é™¤ã€å–ä½™ç­‰</p>
<h4 id="3-1-4-å¸ƒå°”ç±»å‹"><a class="header-anchor" href="#3-1-4-å¸ƒå°”ç±»å‹">Â¶</a>3.1.4. å¸ƒå°”ç±»å‹</h4>
<p>å¸ƒå°”ç±»å‹ä¸å…¶ä»–è¯­è¨€æ˜¯ä¸€æ ·çš„ï¼Œä¹Ÿæ˜¯trueå’Œfalseä¸¤ä¸ªå€¼ï¼Œå¹¶ä¸”ä»…å æ®ä¸€ä¸ªå­—èŠ‚</p>
<p>åœ¨æ¡ä»¶è¡¨è¾¾å¼ç­‰æ§åˆ¶è¯­å¥ä¸­ä¼šæœ‰å¤§é‡çš„å‡ºåœº</p>
<h4 id="3-1-5-å­—ç¬¦ç±»å‹"><a class="header-anchor" href="#3-1-5-å­—ç¬¦ç±»å‹">Â¶</a>3.1.5. å­—ç¬¦ç±»å‹</h4>
<p>å­—ç¬¦ç±»å‹ç”¨ä»¥æè¿°å•ä¸ªå­—ç¬¦</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041606478.png" alt="image-20230304160651047"></p>
<p><code>char</code>ç±»å‹å 4ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œå¹¶ä¸”æ˜¯ä¸€ä¸ªUnicodeæ ‡é‡å€¼</p>
<h3 id="3-2-å¤åˆç±»å‹"><a class="header-anchor" href="#3-2-å¤åˆç±»å‹">Â¶</a>3.2. å¤åˆç±»å‹</h3>
<p>åœ¨Rustå½“ä¸­ï¼Œå¤åˆç±»å‹è¡¨ç¤ºå°†ä¸åŒçš„ç±»å‹ç»„åˆä¸ºä¸€ä¸ªç±»å‹</p>
<p>åœ¨Rustå½“ä¸­ï¼Œæä¾›äº†ä¸¤ç§åŸºç¡€çš„å¤åˆç±»å‹ï¼š</p>
<ul>
<li>å…ƒç»„ï¼ˆtupleï¼‰</li>
<li>æ•°ç»„ï¼ˆarrayï¼‰</li>
</ul>
<h4 id="3-2-1-å…ƒç»„ç±»å‹"><a class="header-anchor" href="#3-2-1-å…ƒç»„ç±»å‹">Â¶</a>3.2.1. å…ƒç»„ç±»å‹</h4>
<p>å…ƒç»„èƒ½å¤Ÿå°†å¤šä¸ªä¸åŒç±»å‹çš„å€¼ç»„åˆè¿›ä¸€ä¸ªç±»å‹ï¼Œä½†æ˜¯<strong>ä¸€æ—¦å£°æ˜ç»“æŸä¾¿ä¸å¯ä¿®æ”¹å…ƒç´ çš„æ•°é‡</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">char</span>, <span class="type">bool</span>) = (<span class="number">15</span>, <span class="string">&#x27;A&#x27;</span>, <span class="literal">false</span>);   <span class="comment">// å£°æ˜</span></span><br></pre></td></tr></table></figure>
<p>å¦‚æœéœ€è¦å¯¹äºå…¶ä¸­çš„å…ƒç´ è¿›è¡Œè®¿é—®ï¼Œå¯ä»¥ä½¿ç”¨<strong>è§£æ„</strong>çš„æ–¹å¼</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> (a, b, c) = tup;    <span class="comment">// å‡ ä¸ªå˜é‡å°†å’Œé‡Œé¢çš„å…ƒç´ å¯¹åº”ä¸Š  æ¯”å¦‚ï¼ša: 15, b: &#x27;A&#x27;, c: false</span></span><br></pre></td></tr></table></figure>
<p>é™¤äº†è§£æ„çš„æ–¹å¼ï¼Œå…ƒç»„<strong>è¿˜å¯ä»¥æ”¯æŒä½¿ç”¨<code>.</code>é…åˆç´¢å¼•çš„æ–¹å¼å¯¹å…ƒç»„å†…éƒ¨çš„å…ƒç´ è¿›è¡Œè®¿é—®</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">tup</span>: (<span class="type">i32</span>, <span class="type">char</span>, <span class="type">bool</span>) = (<span class="number">15</span>, <span class="string">&#x27;A&#x27;</span>, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, tup.<span class="number">1</span>);   <span class="comment">// ä¸‹æ ‡ä»0å¼€å§‹</span></span><br></pre></td></tr></table></figure>
<h4 id="3-2-2-æ•°ç»„ç±»å‹"><a class="header-anchor" href="#3-2-2-æ•°ç»„ç±»å‹">Â¶</a>3.2.2. æ•°ç»„ç±»å‹</h4>
<p>æ•°ç»„æœ‰<strong>å›ºå®šçš„é•¿åº¦</strong>ï¼Œè€Œä¸”æ•°ç»„ä¸­çš„å„ä¸ªå…ƒç´ å¿…é¡»ä¸º<strong>ç›¸åŒçš„ç±»å‹</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">list</span>: [<span class="type">char</span>; <span class="number">3</span>] = [<span class="string">&#x27;A&#x27;</span>, <span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>];     <span class="comment">// å‰é¢æ˜¯ç±»å‹ï¼Œåé¢æ˜¯é•¿åº¦</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">zeros</span> = [<span class="number">0</span>; <span class="number">5</span>];   <span class="comment">// é•¿åº¦ä¸º5ï¼Œéƒ½æ˜¯0</span></span><br></pre></td></tr></table></figure>
<p>æ•°ç»„çš„å£°æ˜å¯ä»¥ä½¿ç”¨<code>[]</code>æ ¹æ®ç±»å‹å’Œé•¿åº¦åˆå§‹åŒ–ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šé»˜è®¤å€¼å’Œé•¿åº¦</p>
<p>è€Œ<strong>æ•°ç»„çš„è®¿é—®</strong>å’Œå…¶ä»–è¯­è¨€ä¹Ÿå‡ ä¹æ²¡æœ‰ä»€ä¹ˆä¸åŒ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print!</span>(<span class="string">&quot;å…ƒç´ 2=&#123;&#125;&quot;</span>, zeros[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<p><strong>æ•°ç»„å¯¹åº”çš„æ˜¯å†…å­˜æ ˆä¸­ä¸€å—è¿ç»­çš„å†…å­˜</strong></p>
<p>å¦å¤–ï¼Œè¯´åˆ°æ•°ç»„ï¼Œå°±å®¹æ˜“è”æƒ³åˆ°ä¸€ä¸ªåä¸º<strong>æ•°ç»„è¶Šç•Œ</strong>çš„é—®é¢˜</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303041640708.png" alt="image-20230304164019766"></p>
<p>å°†ç´¢å¼•ä¿®æ”¹ä¸ºä¸€ä¸ªæ²¡æœ‰çš„é‡ï¼ˆæ— æ³•è®¿é—®åˆ°ï¼‰ï¼Œè¿™æ ·ï¼Œåœ¨ç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ä¼šæŠ›å‡º<code>panic</code>ï¼Œè¿›è€Œä¸­æ­¢äº†ç¨‹åºçš„è¿è¡Œ</p>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆä¹ï¼‰â€”â€” æšä¸¾ä¸æ¨¡å¼åŒ¹é…ï¼ˆä¸‹ï¼‰</title>
    <url>/2023/06/05/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%B9%9D%EF%BC%89%E2%80%94%E2%80%94%20%E6%9E%9A%E4%B8%BE%E4%B8%8E%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D%EF%BC%88%E4%B8%8B%EF%BC%89/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆä¹ï¼‰â€”â€” æšä¸¾ä¸æ¨¡å¼åŒ¹é…ï¼ˆä¸‹ï¼‰</h1>
<h2 id="1-ç»‘å®šå€¼çš„æ¨¡å¼"><a class="header-anchor" href="#1-ç»‘å®šå€¼çš„æ¨¡å¼">Â¶</a>1. ç»‘å®šå€¼çš„æ¨¡å¼</h2>
<p>åŒ¹é…åˆ†æ”¯è¿˜å¯ä»¥ç”¨æ¥ç»‘å®šå€¼ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åƒåœ¾</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Waste</span> &#123;</span><br><span class="line">    Recyclable,   <span class="comment">// å¯å›æ”¶åƒåœ¾</span></span><br><span class="line">    Other,   <span class="comment">// å…¶ä»–åƒåœ¾</span></span><br><span class="line">    <span class="title function_ invoke__">Kitchen</span>(Content),   <span class="comment">// å¨ä½™åƒåœ¾ï¼Œæ·»åŠ ç»†åˆ†</span></span><br><span class="line">    Hazardous   <span class="comment">// æœ‰å®³åƒåœ¾</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="meta">#[derive(Debug)]</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Content</span> &#123;</span><br><span class="line">    Peel,   <span class="comment">// æœçš®</span></span><br><span class="line">    Leftovers, <span class="comment">// å‰©é¥­</span></span><br><span class="line">    Bone   <span class="comment">// éª¨å¤´</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œæˆ‘ä»¬å¯¹äºå¨ä½™åƒåœ¾ç±»å‹è¿›è¡Œäº†è¿›ä¸€æ­¥æè¿°ï¼Œæ­£å¦‚æˆ‘ä»¬å…ˆå‰æ‰€äº†è§£åˆ°çš„ï¼Œæšä¸¾ç±»å‹å¯ä»¥æ·»åŠ å‚æ•°ï¼Œå› æ­¤è¿™é‡Œåˆæ·»åŠ äº†ä¸€ä¸ªContentæšä¸¾ï¼Œç”¨ä»¥å°†å¨ä½™åƒåœ¾ç»†åˆ†ä¸ºæœçš®ã€å‰©é¥­å’Œéª¨å¤´</p>
<p>ä¸Šé¢æ·»åŠ <code>#[derive(Debug)]</code>ï¼Œå› ä¸ºç¨åä¼šå°†å…¶è¿›è¡Œè¾“å‡º</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">classify</span>(waste: Waste) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">match</span> waste &#123;</span><br><span class="line">        Waste::Recyclable =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;è“è‰²&quot;</span>),</span><br><span class="line">        Waste::Other =&gt; &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;ä»”ç»†æƒ³æƒ³ï¼Œä¸è¦ä¹±æ‰”ï¼&quot;</span>);</span><br><span class="line">            <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç°è‰²&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        Waste::<span class="title function_ invoke__">Kitchen</span>(content) =&gt; &#123;  <span class="comment">// å¢åŠ å¯¹å‚æ•°å¤„ç†</span></span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;å¨ä½™åƒåœ¾å†…å®¹=&#123;:?&#125;&quot;</span>, content);</span><br><span class="line">            <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç»¿è‰²&quot;</span>)</span><br><span class="line">        &#125;,</span><br><span class="line">        Waste::Hazardous =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;çº¢è‰²&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨åœ¨<code>match</code>çš„åˆ†æ”¯è¯­å¥å½“ä¸­ï¼Œå¯ä»¥å¯¹å¨ä½™åƒåœ¾åˆ†æ”¯ï¼Œå³Waste::Kitchenè¿›è¡Œå‚æ•°å¤„ç†ï¼Œcontenté€šè¿‡<code>=&gt;</code>è¿›å…¥ä»£ç å—ï¼Œæˆ‘ä»¬å¯ä»¥æ·»åŠ å¯¹æšä¸¾ç±»å‹æºå¸¦çš„å‚æ•°çš„å¤„ç†é€»è¾‘ï¼Œè¿™é‡Œæˆ‘åªæ˜¯è¿›è¡Œäº†ç®€å•çš„å®ä¾‹è¾“å‡º</p>
<h2 id="2-åŒ¹é…-Option-T"><a class="header-anchor" href="#2-åŒ¹é…-Option-T">Â¶</a>2. åŒ¹é… <code>Option&lt;T&gt;</code></h2>
<p>åˆ«å¿˜äº†ï¼Œå…ˆå‰æˆ‘ä»¬çš„ç›®çš„æ˜¯å¤„ç†<code>Option&lt;T&gt;</code>ï¼Œç°åœ¨å›å½’æ­£é¢˜</p>
<p>æˆ‘ä»¬å…ˆå‰å·²ç»å­¦ä¼šäº†ä½¿ç”¨<code>match</code>å¯¹äºæšä¸¾çš„å˜ä½“è¿›è¡ŒåŒ¹é…äº†ï¼Œé‚£ä¹ˆ<code>Option&lt;T&gt;</code>çš„é“ç†ä¹Ÿæ˜¯ä¸€æ ·çš„</p>
<p><code>Option&lt;T&gt;</code>æœ‰ä¸¤ä¸ªå˜ä½“ï¼Œåˆ†åˆ«æ˜¯<code>None</code>å’Œ<code>Some(T)</code>ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯¹å·å…¥åº§</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">show_number</span>(number: <span class="type">Option</span>&lt;<span class="type">f64</span>&gt;) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">match</span> number &#123;</span><br><span class="line">        <span class="literal">None</span> =&gt; &#123;</span><br><span class="line">            <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;--&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_ invoke__">Some</span>(value) =&gt; &#123;</span><br><span class="line">            (value * <span class="number">100.0</span>).<span class="title function_ invoke__">to_string</span>() + <span class="string">&quot;%&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªæ¥æ”¶<code>Option&lt;f64&gt;</code>ä½œä¸ºå‚æ•°çš„æ–¹æ³•ï¼Œä¸»è¦çš„åŠŸèƒ½å°±æ˜¯å°†æ¥æ”¶åˆ°çš„æ•°æ®è½¬åŒ–ä¸ºç™¾åˆ†æ¯”çš„æ ¼å¼ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®ï¼Œé‚£ä¹ˆé»˜è®¤æ˜¾ç¤ºâ€“</p>
<p>è¿™é‡Œä¾¿æ˜¯ä½¿ç”¨<code>match</code>å¯¹äº<code>Option&lt;f64&gt;</code>çš„ä¸¤ä¸ªå˜ä½“è¿›è¡Œåˆ†åˆ«å¤„ç†ï¼Œ<code>None</code>åˆ†æ”¯è¿”å›â€“ï¼Œè€Œ<code>Some(f64)</code>çš„å†…å®¹ä¾¿æ˜¯æˆ‘ä»¬çœŸæ­£éœ€è¦çš„å†…å®¹ï¼Œå¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">show_number</span>(<span class="title function_ invoke__">Some</span>(<span class="number">0.34</span>));</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;result=&#123;&#125;&quot;</span>, result);</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å¯¹å…¶è¿›è¡Œè°ƒç”¨ï¼Œä½¿ç”¨<code>Some(T)</code>ï¼Œè¿™é‡Œ0.34ä»£è¡¨çš„æ˜¯<code>f64</code>ï¼Œå®ƒä¼šåŒ¹é…åˆ°<code>match</code>çš„<code>Some</code>åˆ†æ”¯</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306052244879.png" alt="image-20230605224410051"></p>
<p>æœ€ç»ˆè¾“å‡ºå¤„ç†çš„ç»“æœ34%</p>
<h2 id="3-åŒ¹é…å¿…é¡»ç©·ä¸¾æ‰€æœ‰çš„å¯èƒ½"><a class="header-anchor" href="#3-åŒ¹é…å¿…é¡»ç©·ä¸¾æ‰€æœ‰çš„å¯èƒ½">Â¶</a>3. åŒ¹é…å¿…é¡»ç©·ä¸¾æ‰€æœ‰çš„å¯èƒ½</h2>
<p>ä½¿ç”¨<code>match</code>è¡¨è¾¾å¼éœ€è¦æ³¨æ„ï¼Œ<strong>Rust éœ€è¦ç©·ä¸¾å‡ºæ‰€æœ‰çš„å¯èƒ½</strong>ï¼Œå¦‚æœæœ‰æ¼æ‰çš„åˆ†æ”¯ï¼Œä»£ç ç¼–è¯‘æ˜¯æ— æ³•é€šè¿‡çš„</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306052248443.png" alt="image-20230605224816805"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306052248810.png" alt="image-20230605224845156"></p>
<h2 id="4-é€šé…ç¬¦"><a class="header-anchor" href="#4-é€šé…ç¬¦">Â¶</a>4. <code>_</code> é€šé…ç¬¦</h2>
<p>ä½¿ç”¨<code>match</code>åŒ¹é…çš„æ—¶å€™ï¼Œå¯èƒ½æˆ‘ä»¬æœ‰å¾ˆå¤šçš„åˆ†æ”¯ï¼Œä½†æ˜¯æˆ‘ä»¬å¯èƒ½åªå…³å¿ƒå…¶ä¸­çš„å‡ æ¡åˆ†æ”¯çš„å¤„ç†ï¼Œåº”è¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">handle_error_code</span>(code: <span class="type">i32</span>) &#123;</span><br><span class="line">    <span class="keyword">match</span> code &#123;</span><br><span class="line">        <span class="number">404</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;é¡µé¢ç¼ºå¤±&quot;</span>),</span><br><span class="line">        <span class="number">500</span> =&gt; <span class="built_in">println!</span>(<span class="string">&quot;æœåŠ¡é—®é¢˜&quot;</span>),</span><br><span class="line">        _ =&gt; <span class="built_in">println!</span>(<span class="string">&quot;å¿½ç•¥&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚æœæˆ‘ä»¬åªå…³å¿ƒ404å’Œ500çš„é”™è¯¯ç ï¼Œé‚£ä¹ˆå…¶ä»–æƒ…å½¢å¯ä»¥ç»Ÿä¸€ä½¿ç”¨<code>_</code>å¤„ç†</p>
<h2 id="5-ç®€å•æ§åˆ¶æµ-if-let"><a class="header-anchor" href="#5-ç®€å•æ§åˆ¶æµ-if-let">Â¶</a>5. ç®€å•æ§åˆ¶æµ <code>if let</code></h2>
<p>å¦‚æœæˆ‘ä»¬åªå…³å¿ƒ<code>match</code>åˆ†æ”¯çš„<strong>æŸä¸€ç§</strong>ç»“æœï¼Œé‚£ä¹ˆ<code>if let</code>å¯ä»¥å¸®åˆ°ä½ </p>
<p>å¦‚æœè¯´æˆ‘ä»¬åªå…³å¿ƒ500çš„é”™è¯¯ç ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">handle_error_code</span>(code: <span class="type">i32</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="number">500</span> = code &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;æœåŠ¡é—®é¢˜&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>if let</code>å°†æœŸæœ›çš„åˆ†æ”¯ä¸åŒ¹é…çš„å€¼ç”¨<code>=</code>å…³è”èµ·æ¥ï¼Œåªå¯¹è¿™ä¸€ç§æƒ…å†µè¿›è¡Œå¤„ç†ï¼Œæ¢è¨€ä¹‹ï¼Œè¿™æ˜¯åœ¨è¿½æ±‚ç®€æ´æ€§çš„åŒæ—¶æ”¾å¼ƒäº†<code>match</code>çš„<strong>ç©·å°½æ€§æ£€æµ‹</strong>ï¼Œå› æ­¤å…·ä½“ä½¿ç”¨å“ªä¸ªéœ€è¦è‡ªå·±è¿›è¡Œæƒè¡¡ï¼Œç®€æ´æ€§å’Œç©·å°½æ€§æ£€æµ‹ä¸å¯å…¼å¾—</p>
<p>ä¸<code>match</code>ä¸­çš„<code>_</code>å¯¹åº”çš„è¿˜æœ‰<code>if let</code>å½“ä¸­çš„<code>else</code>ï¼Œå®ƒåŒæ ·æ˜¯ä¸€ä¸ªå…œåº•çš„è§’è‰²</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">handle_error_code</span>(code: <span class="type">i32</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> <span class="number">500</span> = code &#123;</span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;æœåŠ¡é—®é¢˜&quot;</span>)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;    <span class="comment">// å…œåº•</span></span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;æˆ‘ä¸å…³å¿ƒ!&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆäº”ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆäºŒï¼‰</title>
    <url>/2023/04/21/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E4%BA%94%EF%BC%89%E2%80%94%E2%80%94%20%E6%89%80%E6%9C%89%E6%9D%83%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆäº”ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆäºŒï¼‰</h1>
<h2 id="1-æ‰€æœ‰æƒä¸å‡½æ•°"><a class="header-anchor" href="#1-æ‰€æœ‰æƒä¸å‡½æ•°">Â¶</a>1. æ‰€æœ‰æƒä¸å‡½æ•°</h2>
<p>å°†å€¼ä¼ é€’ç»™å‡½æ•°å…¶å®åœ¨è¯­ä¹‰ä¸Šç±»ä¼¼äºå¯¹å˜é‡è¿›è¡Œèµ‹å€¼ï¼›å› è€Œï¼Œ<strong>å°†å˜é‡ä¼ é€’ç»™å‡½æ•°å°†ä¼šè§¦å‘ç§»åŠ¨æˆ–è€…å¤åˆ¶</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">str1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   <span class="comment">// å˜é‡str1è¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line">    </span><br><span class="line">    <span class="title function_ invoke__">take_ownership</span>(str1);     <span class="comment">// ç±»ä¼¼äºèµ‹å€¼ï¼Œå› è€Œç§»åŠ¨str1å¹¶ä½¿å…¶å¤±æ•ˆ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> <span class="variable">x</span> = <span class="number">5</span>;     <span class="comment">// å˜é‡xè¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">make_copy</span>(x);   <span class="comment">// xè¿›å…¥å‡½æ•°ï¼Œä½†ç”±äºæ˜¯æ‹·è´ï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨</span></span><br><span class="line">&#125;    <span class="comment">// ç¦»å¼€ä½œç”¨åŸŸï¼Œå…ˆxï¼Œåstr1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">take_ownership</span>(some_string: <span class="type">String</span>) &#123;   <span class="comment">// some_stringè¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_string);</span><br><span class="line">&#125;     <span class="comment">// some_stringç¦»å¼€ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">make_copy</span>(some_integer: <span class="type">i32</span>) &#123;    <span class="comment">// some_integerè¿›å…¥ä½œç”¨åŸŸ </span></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, some_integer);</span><br><span class="line">&#125;    <span class="comment">// some_integerç¦»å¼€ä½œç”¨åŸŸ</span></span><br></pre></td></tr></table></figure>
<p>å…¶å®<strong>å¯ä»¥å°†å‘å‡½æ•°ä¼ é€’å‚æ•°ç®€å•åœ°è€ƒè™‘ä¸ºå‘å‡½æ•°çš„å½¢å‚è¿›è¡Œèµ‹å€¼</strong></p>
<h2 id="2-è¿”å›å€¼ä¸ä½œç”¨åŸŸ"><a class="header-anchor" href="#2-è¿”å›å€¼ä¸ä½œç”¨åŸŸ">Â¶</a>2. è¿”å›å€¼ä¸ä½œç”¨åŸŸ</h2>
<p>å‡½æ•°å¯ä»¥è¿”å›å€¼ï¼Œè€Œåœ¨æ­¤è¿‡ç¨‹ä¸­ä¼š<strong>å‘ç”Ÿæ‰€æœ‰æƒçš„è½¬ç§»</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="title function_ invoke__">gives_ownership</span>();    <span class="comment">// gives_ownership()å°†è¿”å›å€¼ç§»åŠ¨åˆ°s1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s2</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   <span class="comment">// s2è¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s3</span> = <span class="title function_ invoke__">takes_and_gives_back</span>(s2);  <span class="comment">// s2ç§»åŠ¨è¿›å…¥å‡½æ•°ï¼Œå‡½æ•°çš„è¿”å›å€¼ç§»åŠ¨åˆ°s3</span></span><br><span class="line">&#125;    <span class="comment">// s3ã€s2ã€s1ä¾æ¬¡ç¦»å¼€ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">gives_ownership</span>() <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">some_string</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   <span class="comment">// some_stringè¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">    some_string    <span class="comment">// è¿”å›å€¼ç§»åŠ¨ç»™è°ƒç”¨è€…</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">takes_and_gives_back</span>(a_string: <span class="type">String</span>) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;   <span class="comment">// a_stringè¿›å…¥ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">    a_string    <span class="comment">// è¿”å›å¹¶ç§»åŠ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿”å›å€¼çš„æ‰€æœ‰æƒè½¬ç§»çš„è§„åˆ™ä¸å…ˆå‰æ˜¯ç±»ä¼¼çš„ï¼š<strong>å°†ä¸€ä¸ªå€¼èµ‹å€¼ç»™å¦ä¸€ä¸ªå€¼æ—¶ä¼šè½¬ç§»æ‰€æœ‰æƒï¼›å½“ä¸€ä¸ªæŒæœ‰å †æ•°æ®çš„å˜é‡ç¦»å¼€ä½œç”¨åŸŸï¼Œå®ƒçš„æ•°æ®ä¼šé€šè¿‡<code>drop()</code>çš„æ–¹å¼è¢«æ¸…ç†å›æ”¶ï¼Œé™¤éå‘ç”Ÿè½¬ç§»</strong></p>
<h2 id="3-å¼•ç”¨ä¸å€Ÿç”¨"><a class="header-anchor" href="#3-å¼•ç”¨ä¸å€Ÿç”¨">Â¶</a>3. å¼•ç”¨ä¸å€Ÿç”¨</h2>
<p>æœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬æƒ³è¦çš„ä¸ä»…ä»…æ˜¯è¿”å›å€¼ï¼Œè¿˜æœ‰åŸæ¥çš„å‚æ•°ï¼Œé‚£ä¹ˆå¯ä»¥ç”¨<strong>å…ƒç»„</strong>ä¸€æ¬¡è¿”å›å¤šä¸ªå€¼ï¼Œä½†è¿™å¯èƒ½æ˜¾å¾—ä¸æ˜¯é‚£ä¹ˆè§„èŒƒï¼Œä½†æ˜¯æ²¡æœ‰é—®é¢˜ï¼Œä¸æ˜¯å—ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> (s2, len) = <span class="title function_ invoke__">calculate_length</span>(s1);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The length of &#x27;&#123;&#125;&#x27; is &#123;&#125;&quot;</span>, s2, len);</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">calculate_length</span>(s: <span class="type">String</span>) <span class="punctuation">-&gt;</span> (<span class="type">String</span>, <span class="type">usize</span>) &#123;  </span><br><span class="line">    <span class="keyword">let</span> <span class="variable">length</span> = s.<span class="title function_ invoke__">len</span>();</span><br><span class="line">    (s, length)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä¸ºäº†è§£å†³è¿™æ ·å°´å°¬çš„æƒ…æ™¯ï¼ŒRustæä¾›äº†<strong>å¼•ç”¨</strong></p>
<p>å®é™…ä¸Šï¼Œåœ¨è°ƒç”¨calculate_length()æ—¶ï¼Œs1é€šè¿‡ç§»åŠ¨è¿›å…¥äº†å‡½æ•°çš„å‚æ•°ï¼Œç”±så–ä»£ï¼Œè€Œåsè¿”å›ï¼Œåˆç§»åŠ¨ç»™äº†å¤–é¢æ¥æ”¶çš„s2ï¼Œä½†åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå¹¶æ²¡æœ‰ä¿®æ”¹å…¶å†…å®¹ï¼Œå´ä¸€ç›´ç§»åŠ¨å®ƒï¼Œæ˜¾ç„¶å¾ˆæ²¡æœ‰å¿…è¦</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   </span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">len</span> = <span class="title function_ invoke__">calculate_length</span>(&amp;s1);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;The length of &#x27;&#123;&#125;&#x27; is &#123;&#125;&quot;</span>, s1, len);</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">calculate_length</span>(s: &amp;<span class="type">String</span>) <span class="punctuation">-&gt;</span> <span class="type">usize</span> &#123;</span><br><span class="line">    s.<span class="title function_ invoke__">len</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨ï¼Œå‡½æ•°æ²¡æœ‰å¤šä½™çš„åºŸè¯äº†ï¼Œä½¿ç”¨<code>&amp;</code><strong>å£°æ˜å¼•ç”¨</strong>ï¼Œ<strong>å…è®¸åœ¨ä¸è·å–æ‰€æœ‰æƒçš„å‰æä¸‹ä½¿ç”¨å€¼</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304192343406.png" alt="image-20230419234315650"></p>
<p><code>&amp;</code>å°±åƒsæ‹¿ç€ç»³å­ï¼ŒæŠŠä¼ è¿›æ¥çš„s1å’Œå®ƒç»‘ä¸€å—</p>
<p><strong>å¼•ç”¨ä¸æŒæœ‰å€¼çš„æ‰€æœ‰æƒ</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ä»–è‡ªå·±ä¸èƒ½è¡ŒåŠ¨ï¼Œå› æ­¤<strong>å½“å¼•ç”¨ç¦»å¼€ä½œç”¨åŸŸï¼Œå®ƒæŒ‡å‘çš„å€¼ä¸ä¼šè¢«ä¸¢å¼ƒ</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">calculate_length</span>(s: &amp;<span class="type">String</span>) <span class="punctuation">-&gt;</span> <span class="type">usize</span> &#123;   <span class="comment">// å£°æ˜ä¸ºæŒ‡å‘s1çš„å¼•ç”¨</span></span><br><span class="line">    s.<span class="title function_ invoke__">len</span>()   </span><br><span class="line">&#125;    <span class="comment">// sç¦»å¼€ä½œç”¨åŸŸï¼Œä½†å®ƒæ²¡æœ‰æ‰€æœ‰æƒï¼Œæ²¡æœ‰ä»€ä¹ˆå¤„ç†</span></span><br></pre></td></tr></table></figure>
<p><strong>é€šè¿‡å¼•ç”¨ä¼ é€’å‚æ•°ç»™å‡½æ•°çš„æ–¹æ³•ç§°ä¸ºå€Ÿç”¨</strong>ï¼Œå°±åƒå€Ÿä¸œè¥¿ä¸€æ ·ï¼Œæœ‰å€Ÿæœ‰è¿˜ï¼Œä½†æ˜¯é»˜è®¤è¿˜ç»™åˆ«äººçš„è¿˜æ˜¯åŸæ¥çš„æ ·å­ï¼ˆä¸å¯ä¿®æ”¹ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304192356356.png" alt="image-20230419235559178"></p>
<p><strong>å¼•ç”¨é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼ŒRustä¸å…è®¸æˆ‘ä»¬å»ä¿®æ”¹å¼•ç”¨æŒ‡å‘çš„å€¼</strong></p>
<h2 id="4-å¯å˜å¼•ç”¨"><a class="header-anchor" href="#4-å¯å˜å¼•ç”¨">Â¶</a>4. å¯å˜å¼•ç”¨</h2>
<p>å¦‚æœå®åœ¨éœ€è¦ä¿®æ”¹å¼•ç”¨çš„å†…å®¹ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå½“ç„¶éœ€è¦æå‰å’Œå€Ÿä½ ä¸œè¥¿çš„äººæ‰“å£°æ‹›å‘¼ï¼Œå³ä½¿ç”¨<code>mut</code><strong>å£°æ˜å¯å˜å¼•ç”¨</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">s1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);   <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="title function_ invoke__">change</span>(&amp;<span class="keyword">mut</span> s1);   <span class="comment">// 2</span></span><br><span class="line">    </span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">change</span>(some_string: &amp;<span class="keyword">mut</span> <span class="type">String</span>) &#123;    <span class="comment">// 3</span></span><br><span class="line">    some_string.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;, world&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>éœ€è¦æ³¨æ„çš„ä¿®æ”¹ä¸€å…±æœ‰3å¤„ï¼Œé¦–å…ˆæ˜¯å®šä¹‰å‡½æ•°å‚æ•°çš„æ—¶å€™ï¼Œéœ€è¦å£°æ˜ä¸º<code>&amp;mut</code>ï¼Œè€Œååœ¨ä¼ é€’å‚æ•°çš„æ—¶å€™ä¹Ÿéœ€è¦æ˜¾å¼è¡¨ç¤ºä¸º<code>&amp;mut</code>ï¼ŒåŒæ—¶è¿™ä¸ªå‚æ•°æœ¬èº«è¿˜è¦æ˜¯<code>mut</code>çš„</p>
<p>å¯¹äºç‰¹å®šä½œç”¨åŸŸä¸­çš„ç‰¹å®šæ•°æ®æ¥è¯´ï¼Œ<strong>ä¸€æ¬¡åªèƒ½å£°æ˜ä¸€ä¸ªå¯å˜å¼•ç”¨</strong></p>
<blockquote>
<p>Rusté€šè¿‡è§„èŒƒçº¦æŸé¿å…äº†<strong>æ•°æ®ç«äº‰</strong>é—®é¢˜</p>
<ul>
<li>ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„æŒ‡é’ˆåŒæ—¶è®¿é—®åŒä¸€ç©ºé—´</li>
<li>å…¶ä¸­è‡³å°‘æœ‰ä¸€ä¸ªæŒ‡é’ˆä¼šå‘ç©ºé—´ä¸­å†™å…¥æ•°æ®</li>
<li>æ²¡æœ‰åŒæ­¥æ•°æ®è®¿é—®çš„æœºåˆ¶</li>
</ul>
<p>è¿™äº›æƒ…å½¢éƒ½å¯èƒ½å‘ç”Ÿä¸å¯é¢„çŸ¥çš„è¡Œä¸ºï¼Œä»è€Œå¯¼è‡´å¤æ‚çš„bugï¼ŒRusté€šè¿‡ä»£ç è§„èŒƒçš„çº¦æŸåœ¨<strong>ç¼–è¯‘çš„æ—¶å€™</strong>å°±é˜»æ­¢è¿™ç§å¯èƒ½</p>
</blockquote>
<p>æˆ‘ä»¬<strong>æ— æ³•åŒæ—¶åˆ›å»ºä¸å¯å˜å¼•ç”¨å’Œå¯å˜å¼•ç”¨</strong>ï¼Œå…¶å®è¿™å¾ˆå¥½ç†è§£ï¼Œå¯å˜å¼•ç”¨éšæ„ä¸€æ”¹ï¼Œä¸å¯å˜å¼•ç”¨é‚£é‡Œå°±å‘ç”Ÿäº†çµå¼‚äº‹ä»¶ï¼Œä¸æ˜¯ä¸å¯å˜å—ï¼Œè¿™ä¸ççœ¼è¯´çè¯å‘¢å˜›ï¼Ÿ</p>
<p>ä½†æ˜¯<strong>ä¸å¯å˜å¼•ç”¨å¯ä»¥æœ‰å¤šä¸ª</strong>ï¼Œå› ä¸ºå®ƒä»¬åªæ˜¯è¯»å–å†…å®¹ï¼Œè€Œä¸è¿›è¡Œä¿®æ”¹</p>
<h2 id="5-æ‚¬å‚å¼•ç”¨"><a class="header-anchor" href="#5-æ‚¬å‚å¼•ç”¨">Â¶</a>5. æ‚¬å‚å¼•ç”¨</h2>
<p>æˆ‘ä»¬æœ‰å¾ˆå¤šæ‹¥æœ‰æŒ‡é’ˆæ¦‚å¿µçš„è¯­è¨€ï¼Œæ¯”å¦‚Cã€C++ï¼Œåœ¨ä½¿ç”¨å®ƒä»¬çš„è¿‡ç¨‹ä¸­å¾ˆå®¹æ˜“å‡ºç°ä¸€ç§é”™è¯¯â€”â€”<strong>æ‚¬å‚æŒ‡é’ˆ</strong></p>
<p>è¿™ç±»æŒ‡é’ˆæ›¾ç»æŒ‡å‘æŸå¤„å†…å­˜ï¼Œä½†æ˜¯å¦‚ä»Šå·²ç»è¢«é‡Šæ”¾æˆ–è€…é‡æ–°åˆ†é…ï¼Œå·²ç»ç‰©æ˜¯äººéï¼Œå…¶ä¸Šçš„æ“ä½œä¼šéå¸¸å±é™©</p>
<p>è€Œåœ¨Rustè¯­è¨€ä¸­<strong>ç¼–è¯‘å™¨å¯ä»¥ç¡®ä¿</strong>å¼•ç”¨æ°¸è¿œä¸ä¼šè¿›å…¥è¿™ç§<strong>æ‚¬å‚çŠ¶æ€</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">reference_to_nothing</span> = <span class="title function_ invoke__">dangle</span>();</span><br><span class="line"></span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">dangle</span>() <span class="punctuation">-&gt;</span> &amp;<span class="type">String</span> &#123;     <span class="comment">// dangle()ä¼šè¿”å›æŒ‡å‘æŒ‡å‘Stringçš„å¼•ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    &amp;s   <span class="comment">// sç¦»å¼€ä½œç”¨åŸŸé‡Šæ”¾ï¼Œé‚£ä¹ˆæŒ‡å‘ä»€ä¹ˆå‘¢ï¼Ÿå±é™©</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304202356275.png" alt="image-20230420235557324"></p>
<p>såœ¨å‡½æ•°ç»“æŸæ—¶ç¦»å¼€ä½œç”¨åŸŸï¼Œé‚£ä¹ˆæŒ‡å‘çš„å†…å­˜è¢«é‡Šæ”¾ï¼Œè€Œè¿”å›çš„æ˜¯è¯¥åŒºåŸŸçš„å¼•ç”¨ï¼Œè¿™ä¾¿æ˜¯æ‚¬å‚ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨è¯†åˆ«å¹¶æŠ¥é”™</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">reference_to_nothing</span> = <span class="title function_ invoke__">no_dangle</span>();</span><br><span class="line"></span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">no_dangle</span>() <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;    </span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">    s   <span class="comment">// æ­£å¸¸è¿”å›Stringï¼Œæ‰€æœ‰æƒç§»åŠ¨ï¼Œä½œç”¨åŸŸå¹¶æ²¡æœ‰ä»€ä¹ˆæ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-å¼•ç”¨çš„è§„åˆ™"><a class="header-anchor" href="#6-å¼•ç”¨çš„è§„åˆ™">Â¶</a>6. å¼•ç”¨çš„è§„åˆ™</h2>
<p>ä¸»è¦æ˜¯è¿›è¡Œä¸€äº›æ€»ç»“å’Œå½’çº³ï¼š</p>
<ul>
<li><strong>åœ¨ä»»ä½•ä¸€æ®µç»™å®šçš„æ—¶é—´é‡Œï¼Œåªèƒ½æ‹¥æœ‰ä¸€ä¸ªå¯å˜å¼•ç”¨æˆ–è€…ä»»æ„å¤šä¸ªä¸å¯å˜å¼•ç”¨</strong></li>
<li><strong>å¼•ç”¨æ€»æ˜¯æœ‰æ•ˆçš„</strong></li>
</ul>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆå…«ï¼‰â€”â€” æšä¸¾ä¸æ¨¡å¼åŒ¹é…ï¼ˆä¸Šï¼‰</title>
    <url>/2023/06/01/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E5%85%AB%EF%BC%89%E2%80%94%E2%80%94%20%E6%9E%9A%E4%B8%BE%E4%B8%8E%E6%A8%A1%E5%BC%8F%E5%8C%B9%E9%85%8D/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆå…«ï¼‰â€”â€” æšä¸¾ä¸æ¨¡å¼åŒ¹é…ï¼ˆä¸Šï¼‰</h1>
<h2 id="1-æšä¸¾ç±»å‹"><a class="header-anchor" href="#1-æšä¸¾ç±»å‹">Â¶</a>1. æšä¸¾ç±»å‹</h2>
<p>æšä¸¾ç±»å‹çš„ç‰¹ç‚¹å°±æ˜¯<strong>åˆ—ä¸¾æ‰€æœ‰å¯èƒ½çš„å€¼æ¥å®šä¹‰ä¸€ä¸ªç±»å‹</strong></p>
<p>å°±æ¯”æ–¹è¯´äº¤é€šä¿¡å·ç¯çš„é¢œè‰²ï¼Œæ€»å…±æœ‰çº¢ã€é»„ã€ç»¿3ç§å¯èƒ½ï¼Œé‚£ä¹ˆä½œä¸ºç¯çš„é¢œè‰²è¿™ä¸ªç±»å‹ï¼Œæœ‰3ä¸ªæšä¸¾å˜ä½“ï¼Œåˆ†åˆ«æ˜¯REDï¼ˆçº¢ï¼‰ã€YELLOWï¼ˆé»„ï¼‰ã€GREENï¼ˆç»¿ï¼‰</p>
<h2 id="2-å®šä¹‰æšä¸¾"><a class="header-anchor" href="#2-å®šä¹‰æšä¸¾">Â¶</a>2. å®šä¹‰æšä¸¾</h2>
<p>ä½¿ç”¨<code>enum</code>å…³é”®å­—å®šä¹‰æšä¸¾ç±»å‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Signal</span> &#123;    <span class="comment">// ä½¿ç”¨enumå®šä¹‰æšä¸¾</span></span><br><span class="line">    RED,</span><br><span class="line">    YELLOW,</span><br><span class="line">    GREEN</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¦‚ä¸Šæ‰€ç¤ºï¼ŒSignalå°±æ˜¯æšä¸¾ç±»çš„åç§°ï¼Œå¯¹æ¯”ç€ç»“æ„ä½“çš„å†…å®¹æ¥çœ‹ï¼ŒREDã€YELLOWã€GREENæ˜¯3ä¸ªæˆå‘˜ï¼Œä¸è¿‡åœ¨æšä¸¾ä¸­ï¼Œå®ƒä»¬ç§°ä¸º<strong>å˜ä½“</strong></p>
<p>å¦å¤–ï¼Œè¿™ä¸‰ä¸ªå˜ä½“åŒå±äºSignalè¿™ä¸€ä¸ªç±»å‹ï¼Œçº¢ã€é»„ã€ç»¿éƒ½æ˜¯ç¯çš„é¢œè‰²ï¼Œåªä¸è¿‡å‘ˆç°çš„å½¢å¼ä¸åŒ</p>
<h2 id="3-æšä¸¾å€¼"><a class="header-anchor" href="#3-æšä¸¾å€¼">Â¶</a>3. æšä¸¾å€¼</h2>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">green</span> = Signal::GREEN;</span><br><span class="line"><span class="keyword">let</span> <span class="variable">red</span> = Signal::RED;</span><br></pre></td></tr></table></figure>
<p>æšä¸¾ç±»å’Œå˜ä½“ä¹‹é—´ä½¿ç”¨<code>::</code>åˆ†éš”ï¼Œè¿™é‡Œçš„greenå’Œredç›¸å½“äºæ˜¯å¯¹åº”æšä¸¾å˜ä½“çš„å®ä¾‹äº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202305302346927.png" alt="image-20230530234608821"></p>
<p>æ³¨æ„ï¼Œè¿™ä¸¤ä¸ªå˜é‡å¯¹åº”çš„æ˜¯åŒä¸€ç±»å‹ï¼Œæ­£å¦‚Rustç¼–è¯‘å™¨æ‰€æ¨å¯¼çš„ä¸€æ ·</p>
<p>å› æ­¤ï¼Œå¦‚æœéœ€è¦å®šä¹‰å‡½æ•°å¤„ç†å®ƒä»¬ï¼Œåªéœ€å®šä¹‰Signalç±»å‹çš„å‚æ•°</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">decide</span>(signal: Signal) &#123;</span><br><span class="line">    <span class="comment">// todo </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="title function_ invoke__">decide</span>(green);   <span class="comment">// åŒä¸€å¤„ç†å˜ä½“</span></span><br><span class="line"><span class="title function_ invoke__">decide</span>(red);</span><br></pre></td></tr></table></figure>
<h2 id="4-æšä¸¾vsç»“æ„ä½“"><a class="header-anchor" href="#4-æšä¸¾vsç»“æ„ä½“">Â¶</a>4. æšä¸¾vsç»“æ„ä½“</h2>
<p>é¢å¯¹æ­£ç¡®çš„åœºæ™¯ä½¿ç”¨æ­£ç¡®çš„ç»“æ„æ€»æ˜¯èƒ½å‘æŒ¥æœ€å¤§çš„ä¼˜åŠ¿</p>
<p>æˆ‘ä»¬çŸ¥é“ï¼Œçº¢ç¯åœã€ç»¿ç¯è¡Œã€é»„ç¯æé†’ï¼Œæ­¤æ—¶å¦‚æœæˆ‘ä»¬æƒ³è¦æŠŠç¯çš„é¢œè‰²å’Œå…¶ä»£è¡¨çš„ä¿¡æ¯ä¸€åŒæ‰“åŒ…ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©å‘¢ï¼Ÿ</p>
<p>å¦‚æœä½¿ç”¨ç»“æ„ä½“ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šè¿™æ ·å®šä¹‰</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">SignalInfo</span> &#123;</span><br><span class="line">    color: Signal,    <span class="comment">// ç¯çš„é¢œè‰²æšä¸¾</span></span><br><span class="line">    info: <span class="type">String</span>      <span class="comment">// ä¸ä¹‹å¯¹åº”çš„å«ä¹‰</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">green</span> = SignalInfo &#123;  <span class="comment">// ä»¥ç»¿ç¯ä¸ºä¾‹</span></span><br><span class="line">        color: Signal::GREEN,</span><br><span class="line">        info: <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;è¡Œ&quot;</span>)</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>
<p>ä¼¼ä¹æ²¡æœ‰å¾ˆå¤æ‚ï¼Œé€»è¾‘æ¸…æ™°ï¼Œcolorå­—æ®µæ¥æ”¶é¢œè‰²ï¼Œinfoå­—æ®µæ”¾æç¤ºä¿¡æ¯ï¼Œä½¿ç”¨çš„æ—¶å€™å®ä¾‹åŒ–ç±»å‹</p>
<p>ä½†æ˜¯ï¼Œä½œä¸ºè¯¥é¢†åŸŸçš„éœ¸ä¸»ï¼Œæšä¸¾ä¸¾æ‰‹è¡¨ç¤ºå®ƒæœ‰æ›´å¥½çš„æ–¹æ¡ˆ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">RED</span>(<span class="type">String</span>),  <span class="comment">// ç›´æ¥å…³è”ç±»å‹</span></span><br><span class="line">    <span class="title function_ invoke__">YELLOW</span>(<span class="type">String</span>),</span><br><span class="line">    <span class="title function_ invoke__">GREEN</span>(<span class="type">String</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™å°±å¥½æ¯”ç»“æ„ä½“æ˜¯è·Ÿåˆ«äººå€Ÿè½¦æ”¾ä¸œè¥¿ï¼Œè€Œæšä¸¾æ˜¯ç§å®¶è½¦ï¼Œæœ‰ä¸œè¥¿ç›´æ¥æ‰“åŒ…æ”¾åå¤‡ç®±ï¼Œæ˜æ˜¾æ›´çµæ´»</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">green</span> = Signal::<span class="title function_ invoke__">GREEN</span>(<span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;è¡Œ&quot;</span>));</span><br></pre></td></tr></table></figure>
<p>ç›´è§‚æ„Ÿå—å°±æ˜¯ç®€çŸ­</p>
<p>å¹¶ä¸”ï¼Œæ›´åŠ å¼ºå¤§çš„ä¸€ç‚¹æ˜¯æšä¸¾åé¢å…³è”çš„ç±»å‹å¹¶ä¸éœ€è¦ä¸€æ ·</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">    <span class="title function_ invoke__">RED</span>(<span class="type">bool</span>),</span><br><span class="line">    <span class="title function_ invoke__">YELLOW</span>(<span class="type">String</span>),</span><br><span class="line">    <span class="title function_ invoke__">GREEN</span>(<span class="type">i32</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ç§å®¶è½¦å˜›ï¼Œæƒ³æ€ä¹ˆæ”¾æ˜¯ä½ çš„è‡ªç”±ï¼Œç”¨åˆ«äººçš„è½¦å¯æ˜¯äº‹å…ˆè¦è¯´æ¸…æ¥šçš„ï¼Œä¸´æ—¶å˜å¦å¯ä¸è¡Œ</p>
<h2 id="5-æšä¸¾æ–¹æ³•"><a class="header-anchor" href="#5-æšä¸¾æ–¹æ³•">Â¶</a>5. æšä¸¾æ–¹æ³•</h2>
<p>æšä¸¾çš„æ–¹æ³•å®šä¹‰å…¶å®å’Œç»“æ„ä½“éå¸¸ç›¸ä¼¼ï¼Œéƒ½æ˜¯ä½¿ç”¨<code>impl</code>å…³é”®å­—</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">show</span>(&amp;<span class="keyword">self</span>) &#123;</span><br><span class="line">        <span class="comment">// å…·ä½“é€»è¾‘</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>åŒæ ·åœ°ï¼Œä½¿ç”¨<code>impl</code>åˆ›å»ºä¸€ä¸ªä¸æšä¸¾åŒåçš„å—ï¼Œ<code>&amp;self</code>ä¹Ÿæ˜¯ä»£è¡¨äº†å®ä¾‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">red</span> = Signal::<span class="title function_ invoke__">RED</span>(<span class="literal">true</span>);</span><br><span class="line">red.<span class="title function_ invoke__">show</span>();   <span class="comment">// é€šè¿‡å®ä¾‹è°ƒç”¨</span></span><br></pre></td></tr></table></figure>
<p>ç›¸åº”åœ°ï¼Œå¦‚æœå®šä¹‰å…³è”å‡½æ•°ï¼Œä¹Ÿæ˜¯ä½¿ç”¨æšä¸¾åç§°åŠ ä¸Š<code>::</code>è°ƒç”¨</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">impl</span> <span class="title class_">Signal</span> &#123;</span><br><span class="line">    <span class="keyword">fn</span> <span class="title function_">print</span>() &#123;</span><br><span class="line">		<span class="comment">// å…³è”å‡½æ•°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line">Signal::<span class="title function_ invoke__">print</span>();</span><br></pre></td></tr></table></figure>
<h2 id="6-Option-æšä¸¾"><a class="header-anchor" href="#6-Option-æšä¸¾">Â¶</a>6. Option æšä¸¾</h2>
<p><code>Option</code>æšä¸¾æ˜¯Rustä¸­ä¸€ä¸ªå¾ˆé‡è¦çš„å­˜åœ¨ï¼Œè¿™ç§é‡è¦æ€§éœ€è¦ä»ä¸€ä¸ª<strong>ç©ºå€¼</strong>çš„æ¦‚å¿µè¯´èµ·</p>
<p>ç°ä»£çš„è®¸å¤šç¼–ç¨‹è¯­è¨€éƒ½ä¼šæœ‰ä¸€ä¸ªæ‰€è°“çš„ç©ºå€¼çš„æ¦‚å¿µï¼Œåœ¨Javaä¸­å°±æ˜¯å¤§åé¼é¼çš„<code>null</code>ï¼Œå¹¶ä¸”å¾ˆè‡ªç„¶åœ°å°±ä¼šè”æƒ³åˆ°ä»¤äººå¤´ç–¼çš„<code>NullPointerException</code></p>
<p>æˆ‘ä»¬é€šå¸¸çš„ç¨‹åºï¼Œéƒ½æ˜¯éœ€è¦æœ‰ç‰¹å®šç±»å‹çš„å€¼ï¼Œç”¨ä½œä¹¦å†™ä¸šåŠ¡é€»è¾‘ï¼Œä½†æ˜¯<code>null</code>è¡¨ç¤ºä¸€ç§æ— æ•ˆçš„åœºæ™¯ï¼Œç”¨äºå’Œæ­£ç¡®çš„é€»è¾‘èµ‹å€¼åŒºåˆ«å¼€æ¥ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰åˆå§‹åŒ–æˆ–è€…ä¼ å€¼ä¸åˆæ³•ç­‰ç­‰ï¼Œè¿™ç§<code>null</code>æ˜¯ä¸èƒ½ç›´æ¥æ‹¿æ¥ä½¿ç”¨çš„ï¼Œå°¤å…¶æ˜¯åœ¨å…¶ä¸Šè°ƒç”¨å‡½æ•°ï¼Œç«‹é©¬ä¼šå¯¼è‡´ç¨‹åºå´©æºƒ</p>
<p>åœ¨ä»£ç è¾¾åˆ°ä¸€å®šè§„æ¨¡æ—¶ï¼Œè¿™ç§å¯èƒ½å‡ºç°çš„<code>null</code>ä¼šéå¸ƒç¨‹åºå½“ä¸­ï¼Œä¸çŸ¥ä»€ä¹ˆæ—¶å€™å°±ä¼šè¢«è§¦å‘ï¼Œå³ä½¿ç¼–å†™ä»£ç æ—¶ï¼Œä¸€ç›´æ³¨æ„åˆ¤æ–­ä¹Ÿå¾ˆéš¾ä¿è¯å®‰å…¨ï¼Œäºæ˜¯åæ¥å‡ºç°çš„ä¸€äº›è¯­è¨€é’ˆå¯¹ç©ºå®‰å…¨åšäº†å¾ˆå¤šä¸“é¡¹å¤„ç†ï¼Œæ¯”å¦‚è¯´Kotlinã€TypeScriptç­‰ï¼ŒRustç”šè‡³ç´¢æ€§<strong>ä¸æ”¯æŒç©ºå€¼</strong></p>
<p>ä¸æ”¯æŒç©ºå€¼æ˜¯æŒ‡ä¸ä¼šæ‹¿ç»™ä½ ç”¨ï¼Œä½†æ˜¯<strong>ä¿ç•™äº†ä¸€ä¸ªæ¦‚å¿µ</strong>ï¼Œç”¨ä»¥è¡¨ç¤ºè¿™ç§æ— æ•ˆæˆ–ç¼ºå¤±çš„æƒ…å½¢</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">pub</span> <span class="keyword">enum</span> <span class="title class_">Option</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">/// No value.</span></span><br><span class="line">    <span class="meta">#[lang = <span class="string">&quot;None&quot;</span>]</span></span><br><span class="line">    <span class="meta">#[stable(feature = <span class="string">&quot;rust1&quot;</span>, since = <span class="string">&quot;1.0.0&quot;</span>)]</span></span><br><span class="line">    <span class="literal">None</span>,</span><br><span class="line">    <span class="comment">/// Some value of type `T`.</span></span><br><span class="line">    <span class="meta">#[lang = <span class="string">&quot;Some&quot;</span>]</span></span><br><span class="line">    <span class="meta">#[stable(feature = <span class="string">&quot;rust1&quot;</span>, since = <span class="string">&quot;1.0.0&quot;</span>)]</span></span><br><span class="line">    <span class="title function_ invoke__">Some</span>(<span class="meta">#[stable(feature = <span class="string">&quot;rust1&quot;</span>, since = <span class="string">&quot;1.0.0&quot;</span>)]</span> T),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ ‡å‡†åº“ä¸­å®šä¹‰äº†<code>Option</code>æšä¸¾ï¼Œå®ƒæœ‰ä¸¤ä¸ªæšä¸¾å˜ä½“ï¼š<code>None</code>å’Œ<code>Some</code></p>
<p><code>None</code>è¡¨ç¤ºçš„å°±æ˜¯æ‰€è°“å€¼æ— æ•ˆæˆ–è€…ç¼ºå¤±çš„å«ä¹‰ï¼Œè€Œ<code>Some</code>è¡¨ç¤ºä¸€ä¸ª<code>T</code>çš„ç±»å‹ï¼Œè¿™é‡Œçš„<code>T</code>è¡¨ç¤ºçš„<strong>æ³›å‹</strong>çš„æ¦‚å¿µï¼Œå°±å¦‚åŒJavaçš„æ³›å‹å’ŒC++çš„æ¨¡æ¿ï¼Œæ„å‘³ç€<code>Some</code>å¯ä»¥è¡¨ç¤ºå„ç§ç±»å‹çš„å€¼ï¼Œè¿™ä¹Ÿæ˜¯æ­£å¸¸æƒ…å†µä¸‹æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æœ‰æ•ˆå€¼</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">valid_value</span> = <span class="title function_ invoke__">Some</span>(<span class="string">&quot;æœ‰æ•ˆå€¼&quot;</span>);    <span class="comment">// ç›´æ¥èµ‹å€¼ï¼Œæ¨æ–­å‡ºå¯¹åº”ç±»å‹ä¸ºå­—ç¬¦ä¸²åˆ‡ç‰‡</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">invalid_value</span>: <span class="type">Option</span>&lt;<span class="type">i32</span>&gt; = <span class="literal">None</span>;    <span class="comment">// Noneå¿…é¡»æ˜¾å¼å£°æ˜ç±»å‹</span></span><br></pre></td></tr></table></figure>
<p>å¯ä»¥ç›´æ¥ä½¿ç”¨<code>Some</code>å’Œ<code>None</code>ï¼Œä½†æ˜¯**<code>None</code>å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹**ï¼Œå¦åˆ™ç¼–è¯‘å™¨æ— æ³•æ¨æ–­</p>
<p>å¥½åƒçœ‹èµ·æ¥ï¼Œ<code>None</code>å’Œæ‰€è°“<code>null</code>æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œä½†æ˜¯åˆ«å¿˜äº†ï¼Œ<code>Some</code>å’Œ<code>None</code>å¯¹åº”çš„å¯æ˜¯åŒä¸€ä¸ªæšä¸¾ç±»å‹</p>
<p><code>Option&lt;T&gt;</code>è¡¨æ˜<code>T</code>å¯èƒ½æ— æ•ˆï¼Œä¹Ÿå¯èƒ½æ˜¯<code>T</code>ï¼Œè¿™ä¸¤ç§æƒ…å†µä½ å¿…é¡»éƒ½è¦è€ƒè™‘ï¼Œä¸ç„¶ä½ é€šä¸è¿‡ç¼–è¯‘ï¼Œè¿™å°±å’ŒKotlinçš„å¯ç©ºç±»å‹å·®ä¸å¤š</p>
<p>é€šå¸¸çš„å¤„ç†å¯ä»¥æ­é…ä¸Š<code>match</code>è¡¨è¾¾å¼ä½¿ç”¨</p>
<h2 id="7-æ§åˆ¶æµè¿ç®—ç¬¦-match"><a class="header-anchor" href="#7-æ§åˆ¶æµè¿ç®—ç¬¦-match">Â¶</a>7. æ§åˆ¶æµè¿ç®—ç¬¦ match</h2>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Waste</span> &#123;</span><br><span class="line">    Recyclable,   <span class="comment">// å¯å›æ”¶åƒåœ¾</span></span><br><span class="line">    Other,   <span class="comment">// å…¶ä»–åƒåœ¾</span></span><br><span class="line">    Kitchen,   <span class="comment">// å¨ä½™åƒåœ¾</span></span><br><span class="line">    Hazardous   <span class="comment">// æœ‰å®³åƒåœ¾</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">classify</span>(waste: Waste) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">match</span> waste &#123;</span><br><span class="line">        Waste::Recyclable =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;è“è‰²&quot;</span>),</span><br><span class="line">        Waste::Other =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç°è‰²&quot;</span>),</span><br><span class="line">        Waste::Kitchen =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç»¿è‰²&quot;</span>),</span><br><span class="line">        Waste::Hazardous =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;çº¢è‰²&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>match</code>åé¢è·Ÿä¸€ä¸ªè¡¨è¾¾å¼ï¼Œä¾¿æ˜¯ä¸Šé¢çš„wasteå­—æ®µï¼Œè¿™æ˜¯å¸¦åŒ¹é…çš„æ¡ä»¶ï¼Œæ¥ä¸‹æ¥ä¼šä¾æ¬¡ä¸ä¸‹é¢çš„å„ä¸ªå˜ä½“è¿›è¡ŒåŒ¹é…ï¼Œè¿™äº›å€™é€‰çš„<strong>æ¨¡å¼</strong>é‡‡ç”¨<code>,</code>åˆ†éš”å¼€æ¥ï¼Œå¹¶ä¸”ä½¿ç”¨<code>=&gt;</code>å°†å¯¹åº”çš„å€¼å’Œä»£ç é€»è¾‘å…³è”èµ·æ¥ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“ï¼Œç±»ä¼¼äºå¦‚æœâ€¦é‚£ä¹ˆâ€¦ï¼Œä¸Javaå½“ä¸­çš„å¼€å…³è¯­å¥<code>switch...case</code>æ¥è¿‘</p>
<p>å¦‚æœ<code>=&gt;</code>çš„ä»£ç æœ‰å¤šè¡Œè¯­å¥ï¼Œé‚£ä¹ˆè¿˜éœ€è¦åŠ ä¸Š<code>&#123;&#125;</code></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">classify</span>(waste: Waste) <span class="punctuation">-&gt;</span> <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">match</span> waste &#123;</span><br><span class="line">        Waste::Recyclable =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;è“è‰²&quot;</span>),</span><br><span class="line">        Waste::Other =&gt; &#123;   <span class="comment">// å¤šè¡Œä»£ç ï¼Œä½¿ç”¨&#123;&#125;</span></span><br><span class="line">            <span class="built_in">println!</span>(<span class="string">&quot;ä»”ç»†æƒ³æƒ³ï¼Œä¸è¦ä¹±æ‰”ï¼&quot;</span>);   </span><br><span class="line">            <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç°è‰²&quot;</span>)   <span class="comment">// æœ€åä¸€å¥è¿”å›</span></span><br><span class="line">        &#125;,</span><br><span class="line">        Waste::Kitchen =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;ç»¿è‰²&quot;</span>),</span><br><span class="line">        Waste::Hazardous =&gt; <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;çº¢è‰²&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆå…­ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆä¸‰ï¼‰</title>
    <url>/2023/04/22/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E5%85%AD%EF%BC%89%E2%80%94%E2%80%94%20%E6%89%80%E6%9C%89%E6%9D%83%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆå…­ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆä¸‰ï¼‰</h1>
<h2 id="1-åˆ‡ç‰‡"><a class="header-anchor" href="#1-åˆ‡ç‰‡">Â¶</a>1. åˆ‡ç‰‡</h2>
<p>é™¤å¼•ç”¨å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€ç§<strong>ä¸æŒæœ‰æ‰€æœ‰æƒ</strong>çš„æ•°æ®ç±»å‹â€”â€”<strong>åˆ‡ç‰‡</strong></p>
<p>åˆ‡ç‰‡å…è®¸æˆ‘ä»¬å¼•ç”¨é›†åˆä¸­<strong>æŸä¸€æ®µè¿ç»­çš„å…ƒç´ åºåˆ—</strong></p>
<h2 id="2-å­—ç¬¦ä¸²åˆ‡ç‰‡"><a class="header-anchor" href="#2-å­—ç¬¦ä¸²åˆ‡ç‰‡">Â¶</a>2. å­—ç¬¦ä¸²åˆ‡ç‰‡</h2>
<p>å­—ç¬¦ä¸²åˆ‡ç‰‡æ˜¯æŒ‡å‘Stringå¯¹è±¡ä¸­<strong>æŸä¸ªè¿ç»­éƒ¨åˆ†çš„å¼•ç”¨</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">hello</span> = &amp;s[<span class="number">0</span>..<span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">world</span> = &amp;s[<span class="number">6</span>..<span class="number">11</span>];</span><br></pre></td></tr></table></figure>
<p>åˆ‡ç‰‡çš„å†™æ³•ç±»ä¼¼äºå¼•ç”¨ï¼Œä¸è¿‡ä¸æ˜¯æ•´ä½“ï¼Œè€Œæ˜¯ä¸€æ®µè¿ç»­åŒºåŸŸï¼Œå¯¹åº”å…ƒç´ ç´¢å¼•çš„<strong>å·¦é—­å³å¼€åŒºé—´</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304212345903.png" alt="image-20230421234537818"></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> <span class="variable">hello</span> = &amp;s[..<span class="number">5</span>];  <span class="comment">// [0, 5)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">world</span> = &amp;s[<span class="number">6</span>..];   <span class="comment">// [6, 11)</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">hello_world</span> = &amp;s[..];   <span class="comment">// [0, 11)</span></span><br></pre></td></tr></table></figure>
<p>å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹è¡¨ç¤ºä¸º<code>&amp;str</code></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">match_str</span>(&amp;s);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, result);</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">match_str</span>(parent: &amp;<span class="type">String</span>) <span class="punctuation">-&gt;</span> &amp;<span class="type">str</span> &#123;  <span class="comment">// è¿”å›ç±»å‹ä¸ºåˆ‡ç‰‡</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">bytes</span> = parent.<span class="title function_ invoke__">as_bytes</span>();</span><br><span class="line">    <span class="title function_ invoke__">for</span> (index, &amp;item) <span class="keyword">in</span> bytes.<span class="title function_ invoke__">iter</span>().<span class="title function_ invoke__">enumerate</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> item == <span class="string">b&#x27; &#x27;</span> &#123;   <span class="comment">// åŒ¹é…åˆ°ç©ºæ ¼ï¼Œè¿”å›å‰é¢çš„hello</span></span><br><span class="line">            <span class="keyword">return</span> &amp;parent[<span class="number">0</span>..index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    &amp;parent</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-1-strç±»å‹"><a class="header-anchor" href="#2-1-strç±»å‹">Â¶</a>2.1. <code>&amp;str</code>ç±»å‹</h3>
<p>å­—ç¬¦ä¸²åˆ‡ç‰‡ä½¿å¾—ä»£ç ç¼–å†™æ›´åŠ å®‰å…¨</p>
<p>ç¼–è¯‘å™¨ä¼š<strong>ç¡®ä¿æŒ‡å‘Stringçš„å¼•ç”¨æŒç»­æœ‰æ•ˆ</strong></p>
<p>åœ¨é»˜è®¤çš„æƒ…å†µä¸‹ï¼Œåˆ‡ç‰‡ä¹Ÿæ˜¯<strong>ä¸å¯å˜å¼•ç”¨</strong>ï¼Œå› æ­¤è¿™å°±ä¼šå¸¦æ¥çº¦æŸï¼Œå¯å˜ä¸ä¸å¯å˜çš„äº’æ–¥ï¼Œå°†å…¶ä½œä¸ºä¸å¯å˜æ—¶ï¼Œä»»ä½•ä¿®æ”¹å†…å®¹çš„æ“ä½œï¼Œå¦‚ï¼š<code>clear()</code>ï¼Œéƒ½èƒ½åœ¨ç¼–è¯‘æ—¶è¢«åŠæ—¶å‘ç°</p>
<h3 id="2-2-å­—é¢é‡å°±æ˜¯åˆ‡ç‰‡"><a class="header-anchor" href="#2-2-å­—é¢é‡å°±æ˜¯åˆ‡ç‰‡">Â¶</a>2.2. å­—é¢é‡å°±æ˜¯åˆ‡ç‰‡</h3>
<p>å‰é¢å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡æ—¶éƒ½æ˜¯ä½¿ç”¨<code>String::from()</code>å£°æ˜ï¼Œé‚£ä¹ˆå…¶æœ¬èº«æ˜¯ä»€ä¹ˆç±»å‹å‘¢ï¼Ÿ</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">s</span> = <span class="string">&quot;hello world&quot;</span>;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304221156359.png" alt="image-20230422114458580"></p>
<p>å®é™…ä¸Šæ˜¯<code>&amp;str</code>ï¼Œä¹Ÿå°±æ˜¯<strong>å­—ç¬¦ä¸²åˆ‡ç‰‡ç±»å‹</strong>ï¼Œå¹¶ä¸”è¿™æ˜¯ä¸€ä¸ªä¸å¯å˜å¼•ç”¨</p>
<blockquote>
<p>åœ¨å®šä¹‰å‡½æ•°çš„æ—¶å€™<strong>ä½¿ç”¨å­—ç¬¦ä¸²åˆ‡ç‰‡ä»£æ›¿å­—ç¬¦ä¸²å¼•ç”¨</strong>ä¼šä½¿APIæ›´åŠ <strong>é€šç”¨</strong>ï¼Œå¹¶ä¸”<strong>ä¸ä¼šæŸå¤±ä»»ä½•åŠŸèƒ½</strong></p>
</blockquote>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="keyword">let</span> <span class="variable">s</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello world&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> <span class="variable">result</span> = <span class="title function_ invoke__">match_str</span>(&amp;s);</span><br><span class="line">    <span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, result);</span><br><span class="line">&#125;    </span><br><span class="line"></span><br><span class="line"><span class="keyword">fn</span> <span class="title function_">match_str</span>(parent: &amp;<span class="type">str</span>) <span class="punctuation">-&gt;</span> &amp;<span class="type">str</span> &#123;     <span class="comment">// ä¿®æ”¹å…¥å‚çš„ç±»å‹ä¸ºå­—ç¬¦ä¸²åˆ‡ç‰‡</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">bytes</span> = parent.<span class="title function_ invoke__">as_bytes</span>();</span><br><span class="line">    <span class="title function_ invoke__">for</span> (index, &amp;item) <span class="keyword">in</span> bytes.<span class="title function_ invoke__">iter</span>().<span class="title function_ invoke__">enumerate</span>() &#123;</span><br><span class="line">        <span class="keyword">if</span> item == <span class="string">b&#x27; &#x27;</span> &#123;   <span class="comment">// åŒ¹é…åˆ°ç©ºæ ¼ï¼Œè¿”å›å‰é¢çš„hello</span></span><br><span class="line">            <span class="keyword">return</span> &amp;parent[<span class="number">0</span>..index];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; </span><br><span class="line">    &amp;parent</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="3-å…¶ä»–ç±»å‹çš„åˆ‡ç‰‡"><a class="header-anchor" href="#3-å…¶ä»–ç±»å‹çš„åˆ‡ç‰‡">Â¶</a>3. å…¶ä»–ç±»å‹çš„åˆ‡ç‰‡</h2>
<p>åˆ‡ç‰‡å¹¶éå­—ç¬¦ä¸²ä¸“å±ï¼Œå…¶ä»–ç±»å‹ä¹Ÿå¯ä»¥ä½¿ç”¨åˆ‡ç‰‡ç‰¹æ€§</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> <span class="variable">slice</span> = &amp;a[<span class="number">1</span>..<span class="number">3</span>];   <span class="comment">// æ•°ç»„åˆ‡ç‰‡ &amp;[i32]</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2023/03/05/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a class="header-anchor" href="#Quick-Start">Â¶</a>Quick Start</h2>
<h3 id="Create-a-new-post"><a class="header-anchor" href="#Create-a-new-post">Â¶</a>Create a new post</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a class="header-anchor" href="#Run-server">Â¶</a>Run server</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a class="header-anchor" href="#Generate-static-files">Â¶</a>Generate static files</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a class="header-anchor" href="#Deploy-to-remote-sites">Â¶</a>Deploy to remote sites</h3>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>Rust æ¢ç´¢ï¼ˆå››ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆä¸€ï¼‰</title>
    <url>/2023/04/21/Rust%20%E6%8E%A2%E7%B4%A2%EF%BC%88%E5%9B%9B%EF%BC%89%E2%80%94%E2%80%94%20%E6%89%80%E6%9C%89%E6%9D%83%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Rust æ¢ç´¢ï¼ˆå››ï¼‰â€”â€” æ‰€æœ‰æƒï¼ˆä¸€ï¼‰</h1>
<p>åœ¨Rustå½“ä¸­ï¼Œæœ‰ä¸€ä¸ªéå¸¸ç‹¬ç‰¹çš„å­˜åœ¨â€”â€”<strong>æ‰€æœ‰æƒæœºåˆ¶</strong></p>
<p>Rustæ²¡æœ‰å¦‚åŒJavaã€Pythonç­‰è¯­è¨€çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œä¹Ÿä¸åŒäºC/C++çš„çº¯æ‰‹åŠ¨å†…å­˜æ“ä½œï¼Œè€Œæ˜¯<strong>å¼•å…¥äº†æ‰€æœ‰æƒçš„æ¦‚å¿µä»¥åŠç›¸åº”çš„å·¥å…·æ”¯æŒ</strong>ï¼Œæ¥<strong>ä¿è¯å†…å­˜çš„å®‰å…¨å¯é </strong></p>
<h2 id="1-åˆè¯†æ‰€æœ‰æƒ"><a class="header-anchor" href="#1-åˆè¯†æ‰€æœ‰æƒ">Â¶</a>1. åˆè¯†æ‰€æœ‰æƒ</h2>
<p>å†…å­˜æ˜¯è®¡ç®—æœºå†…ä¸€ç§æœ‰é™çš„èµ„æºï¼Œå› æ­¤å¦‚æœæƒ³è¦ç¼–å†™çš„ç¨‹åºèƒ½å¤ŸæŒç»­é«˜æ•ˆåœ°åœ¨è®¡ç®—æœºä¸Šè¿è¡Œï¼Œé‚£ä¹ˆå¯¹äºå†…å­˜çš„ç®¡ç†æ˜¯ä¸å¯æˆ–ç¼ºçš„</p>
<p>ç¼–ç¨‹è¯­è¨€å‘å±•è‡³ä»Šï¼Œä¸»è¦æœ‰ä¸‰ç§æœ‰ä»£è¡¨æ€§çš„å†…å­˜ç®¡ç†æ–¹å¼ï¼šå…¶ä¸€ï¼Œæ˜¯C/C++é‡‡ç”¨çš„æˆå¯¹çš„<code>malloc</code>å’Œ<code>free</code>æˆ–è€…<code>new</code>å’Œ<code>delete</code>ï¼Œé€šè¿‡è¿™äº›æ¥å£ç›´æ¥æ“ä½œç³»ç»Ÿå†…å­˜çš„ç”³è¯·å’Œé‡Šæ”¾ï¼Œè¿™æ ·åšçš„æ—¶å€™ï¼Œä½ æœ‰æœ€é«˜çš„æƒé™ï¼Œä½†æ˜¯æ¯ä¸€æ­¥ä¹Ÿä¼šå˜å¾—å°¤ä¸ºå…³é”®ï¼Œå…¨éƒ½è¦å¼€å‘è€…è‡ªå·±ç®¡ç†ï¼Œé‚£ä¹ˆæ•ˆç‡å¿…ç„¶æ˜¯ä½çš„ï¼›å…¶äºŒï¼Œä¾¿æ˜¯ä»¥Javaã€Pythonä¸ºä»£è¡¨çš„åƒåœ¾å›æ”¶æœºåˆ¶å¯¹äºå†…å­˜çš„ç®¡ç†ï¼Œé™¤äº†ç¨‹åºçš„ä¸šåŠ¡çº¿ç¨‹å¤–ï¼Œè¿˜ä¼šæœ‰ä¸€ä¸ªåƒåœ¾å›æ”¶çº¿ç¨‹çš„å­˜åœ¨ï¼Œæ ¹æ®æ—¢å®šçš„åƒåœ¾å›æ”¶ç­–ç•¥è‡ªåŠ¨åœ°å›æ”¶å†…å­˜ï¼Œåœ¨ç‰ºç‰²å°‘é‡æ•ˆç‡çš„æƒ…å†µä¸‹ï¼Œæ›´å¥½åœ°ä¿è¯äº†å¼€å‘è€…çš„å¼€å‘æ•ˆç‡ï¼›å…¶ä¸‰ï¼Œä¾¿æ˜¯æ¥ä¸‹æ¥è¦è°ˆåˆ°çš„Rustç‹¬åˆ›çš„æ‰€æœ‰æƒæœºåˆ¶äº†ï¼Œå®ƒé€šè¿‡<strong>åˆ¶å®šæ‰€æœ‰æƒçš„è§„åˆ™æ¥è¿›è¡Œçº¦æŸå’Œæ£€æŸ¥</strong></p>
<blockquote>
<p>æ ˆä¸å †ï¼šåœ¨æ ˆä¸­å­˜å‚¨çš„æ•°æ®éƒ½å¿…é¡»æ‹¥æœ‰ä¸€ä¸ª<strong>å·²çŸ¥ä¸”å›ºå®šçš„å¤§å°</strong>ï¼Œå¦‚æœåœ¨ç¼–è¯‘æœŸæ— æ³•ç¡®å®šå¤§å°ï¼Œé‚£ä¹ˆå°±åªå¥½å°†å®ƒä»¬å­˜åœ¨å †ä¸­</p>
<p>å †åˆ†é…ï¼šè¯·æ±‚ç‰¹å®šå¤§å°çš„ç©ºé—´ï¼Œæ“ä½œç³»ç»Ÿæ ¹æ®è¯·æ±‚æ‰¾åˆ°è¶³å¤Ÿå¤§çš„ç©ºé—´ï¼Œæ ‡è®°ä¸ºå·²ä½¿ç”¨ï¼Œå¹¶<strong>å°†æŒ‡å‘è¿™ç‰‡ç©ºé—´åœ°å€çš„æŒ‡é’ˆè¿”å›</strong>ï¼Œ<strong>æŒ‡é’ˆçš„å¤§å°æ˜¯å›ºå®šçš„ï¼Œå¯åœ¨ç¼–è¯‘æœŸç¡®å®šï¼Œå°±å°†æŒ‡é’ˆå­˜åœ¨æ ˆä¸­</strong></p>
<p>æ ˆä¸Šè®¿é—®æ›´æœ‰æ•ˆç‡ï¼Œçœå»äº†æœç´¢å­˜å‚¨ä½ç½®çš„å·¥ä½œï¼Œåªéœ€åœ¨æ ˆé¡¶æ”¾å…¥æ–°æ•°æ®ï¼›å¹¶ä¸”ï¼Œå †åœ¨åˆ†é…è¶³å¤Ÿå¤§çš„ç©ºé—´ä¹‹åè¿˜éœ€è¿›è¡Œè®°å½•å·¥ä½œåè°ƒåç»­çš„æ“ä½œ</p>
</blockquote>
<h2 id="2-æ‰€æœ‰æƒè§„åˆ™"><a class="header-anchor" href="#2-æ‰€æœ‰æƒè§„åˆ™">Â¶</a>2. æ‰€æœ‰æƒè§„åˆ™</h2>
<ul>
<li><strong>Rustä¸­çš„æ¯ä¸ªå€¼éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„å˜é‡ä½œä¸ºå®ƒçš„æ‰€æœ‰è€…</strong></li>
<li><strong>åœ¨åŒä¸€æ—¶é—´å†…ï¼Œå€¼æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªæ‰€æœ‰è€…</strong></li>
<li><strong>å½“æ‰€æœ‰è€…ç¦»å¼€è‡ªå·±çš„ä½œç”¨åŸŸæ—¶ï¼Œå®ƒæŒæœ‰çš„å€¼å°±ä¼šè¢«é‡Šæ”¾æ‰</strong></li>
</ul>
<h2 id="3-å˜é‡ä½œç”¨åŸŸ"><a class="header-anchor" href="#3-å˜é‡ä½œç”¨åŸŸ">Â¶</a>3. å˜é‡ä½œç”¨åŸŸ</h2>
<p>å˜é‡çš„ä½œç”¨åŸŸæŒ‡çš„å°±æ˜¯<strong>ä¸€ä¸ªå¯¹è±¡åœ¨ç¨‹åºä¸­æœ‰æ•ˆçš„èŒƒå›´</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// æœªå£°æ˜ï¼Œä¸å¯ç”¨</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">name</span> = <span class="string">&quot;é«˜å¯å¼º&quot;</span>;    <span class="comment">// å£°æ˜ï¼Œå¯ç”¨</span></span><br><span class="line">    <span class="comment">// å¯è¿›è¡Œä½¿ç”¨</span></span><br><span class="line">&#125;   <span class="comment">// è¶…å‡ºä½œç”¨åŸŸï¼Œä¸å¯ç”¨</span></span><br></pre></td></tr></table></figure>
<p>ä»å˜é‡å£°æ˜åˆ°æ‰€å¤„ä»£ç å—ç»“æŸï¼Œè¿™æ®µåŒºé—´å†…ä¾¿æ˜¯å˜é‡æœ‰æ•ˆçš„åŒºé—´</p>
<h2 id="4-Stringç±»å‹"><a class="header-anchor" href="#4-Stringç±»å‹">Â¶</a>4. Stringç±»å‹</h2>
<p><strong><code>String</code>ç±»å‹å¯¹åº”çš„æ•°æ®å­˜å‚¨åœ¨å †ä¸Š</strong></p>
<p><strong>å­—ç¬¦ä¸²å­—é¢é‡æ˜¯ä¸å¯å˜çš„</strong>ï¼Œç”±äºå­—ç¬¦ä¸²çš„å€¼æœ‰å¯èƒ½åœ¨ç¼–è¯‘æœŸå¹¶ä¸èƒ½å¤Ÿç¡®å®šä¸‹æ¥ï¼Œå› æ­¤æœ‰äº†<code>String</code>ç±»å‹ï¼Œå®ƒèƒ½å¤Ÿ<strong>åœ¨å †ä¸Šåˆ†é…è‡ªå·±éœ€è¦çš„å­˜å‚¨ç©ºé—´</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªStringçš„å®ä¾‹</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;é£æµªè¶Šå¤§ï¼Œé±¼è¶Šè´µ&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>::</code>è°ƒç”¨<code>String</code>å‘½åç©ºé—´ä¸‹çš„<code>from()</code>å‡½æ•°</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202303112355677.png" alt="image-20230311235556862"></p>
<p>å¯ä»¥çœ‹åˆ°æ³¨é‡Šï¼Œè¿™ä¸ªå‡½æ•°ç”¨äºå°†å­—é¢é‡è½¬æ¢ä¸º<code>String</code>ï¼Œå¹¶ä¸”å°†ç»“æœåˆ†é…åˆ°å †ä¸Š</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="keyword">mut </span><span class="variable">str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;é£æµªè¶Šå¤§ï¼Œé±¼è¶Šè´µ&quot;</span>);   <span class="comment">// å£°æ˜ä¸ºå¯å˜</span></span><br><span class="line"><span class="type">str</span>.<span class="title function_ invoke__">push_str</span>(<span class="string">&quot;!&quot;</span>);   <span class="comment">// å¯å˜çš„åŸºç¡€ä¸Šæ·»åŠ å†…å®¹</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, <span class="type">str</span>);</span><br></pre></td></tr></table></figure>
<p><code>String</code>å¯ä»¥å€ŸåŠ©<code>mut</code>è¢«å£°æ˜ä¸ºå¯å˜å­—ç¬¦ä¸²ï¼Œç„¶åè°ƒç”¨<code>push_str()</code>å‡½æ•°æ·»åŠ ä¸€ä¸ªæ„Ÿå¹å·ï¼Œå®ç°å­—ç¬¦ä¸²çš„æ‹¼æ¥</p>
<p>å­—ç¬¦ä¸²<code>String</code>æ˜¯å¯å˜çš„ï¼Œè€Œå­—ç¬¦ä¸²å­—é¢é‡ä¸æ˜¯ï¼Œè¿™æ˜¯ç”±äºæ­¤äºŒè€…é‡‡ç”¨äº†ä¸åŒçš„<strong>å†…å­˜å¤„ç†æ–¹å¼</strong></p>
<h2 id="5-å†…å­˜ä¸åˆ†é…"><a class="header-anchor" href="#5-å†…å­˜ä¸åˆ†é…">Â¶</a>5. å†…å­˜ä¸åˆ†é…</h2>
<p>å­—ç¬¦ä¸²å­—é¢é‡æˆ‘ä»¬èƒ½å¤Ÿ<strong>åœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šå…¶å†…å®¹</strong>ï¼Œå› è€Œè¿™éƒ¨åˆ†ç¡¬ç¼–ç çš„æ–‡æœ¬ç›´æ¥åµŒå…¥æœ€ç»ˆçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™æ ·è®¿é—®å­—ç¬¦ä¸²å­—é¢é‡ä¼šéå¸¸é«˜æ•ˆï¼Œè¿™æ˜¯ç”±äºå­—ç¬¦ä¸²å­—é¢é‡çš„<strong>ä¸å˜æ€§</strong></p>
<p>å¯¹<code>String</code>ç±»å‹æ¥è¯´ï¼Œéœ€è¦åœ¨è¿è¡Œæ—¶ç”³è¯·ä¸€å—å†…å­˜ï¼Œè¿™é‡Œé€šè¿‡<code>String::from()</code>çš„è°ƒç”¨å‘èµ·è¿™ä¸ªè¯·æ±‚</p>
<p>è€Œåœ¨ä½¿ç”¨å®Œä¹‹åï¼Œéœ€è¦ä»¥æŸç§å½¢å¼å°†è¿™äº›å†…å­˜<strong>å½’è¿˜ç»™æ“ä½œç³»ç»Ÿ</strong>ï¼Œè¿™ä¸ªå¯¹äºä¸åŒçš„ç¼–ç¨‹è¯­è¨€æœ‰ç€ä¸åŒçš„è§£å†³æ–¹å¼ï¼Œæ¯”å¦‚Javaã€Pythonç­‰é‡‡ç”¨çš„æ˜¯<strong>åƒåœ¾å›æ”¶æœºåˆ¶</strong>ï¼Œé€šè¿‡ä¸€ä¸ªåƒåœ¾å›æ”¶ç¨‹åºè¯†åˆ«ä¸å†è¢«ä½¿ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå°†å®ƒä»¬åŠæ—¶é‡Šæ”¾ï¼Œæ­¤è¿‡ç¨‹ä¸éœ€è¦å¼€å‘äººå‘˜å‚ä¸ï¼Œè€ŒC/C++åˆ™æ˜¯ç”±å¼€å‘è€…è¿›è¡Œæ‰‹åŠ¨å¤„ç†ï¼Œé‚£ä¹ˆè¿™å°±éœ€è¦å¼€å‘è€…æŠŠæ¡æ°å½“çš„æ—¶æœºï¼Œé¿å…å‘ç”Ÿéš¾ä»¥é¢„æµ‹çš„é—®é¢˜</p>
<p>å…ˆå‰ä¹Ÿæåˆ°è¿‡ï¼ŒRustæœ‰ä¸€å¥—ä¸åŒçš„æ–¹æ¡ˆï¼š<strong>Rustä¼šåœ¨å˜é‡ç¦»å¼€ä½œç”¨åŸŸåé‡Šæ”¾å…¶æŒæœ‰çš„å†…å­˜</strong></p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">fn</span> <span class="title function_">main</span>() &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªStringçš„å®ä¾‹</span></span><br><span class="line">    <span class="keyword">let</span> <span class="variable">str</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;é£æµªè¶Šå¤§ï¼Œé±¼è¶Šè´µ&quot;</span>);   <span class="comment">// stræœ‰æ•ˆ</span></span><br><span class="line">    <span class="comment">// å¯ä»¥è¿›è¡Œåç»­æ“ä½œ</span></span><br><span class="line">&#125;   <span class="comment">// ä½œç”¨åŸŸç»“æŸï¼Œå˜é‡strå¤±æ•ˆ</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä½œç”¨åŸŸç»“æŸçš„åœ°æ–¹ï¼Œ<code>String</code>ç±»å‹ä¼š<strong>è‡ªåŠ¨è°ƒç”¨</strong>ä¸€ä¸ªåå«<code>drop()</code>çš„<strong>ç‰¹æ®Šå‡½æ•°</strong></p>
<h3 id="5-1-ç§»åŠ¨"><a class="header-anchor" href="#5-1-ç§»åŠ¨">Â¶</a>5.1. ç§»åŠ¨</h3>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">a</span> = <span class="number">2</span>;   <span class="comment">// a -&gt; 2</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">b</span> = a;   <span class="comment">// b -&gt; a</span></span><br></pre></td></tr></table></figure>
<p>åœ¨ä»¥ä¸Šçš„ä»£ç ä¸­ï¼Œ2ç»‘å®šåˆ°å˜é‡aä¸Šï¼Œè¿™ä¸ª2æ˜æ˜¾æ˜¯ä¸ªi32ç±»å‹ï¼Œå› è€Œ<strong>å¤§å°æ˜¯ç¡®å®š</strong>çš„ï¼Œæ‰€ä»¥ä¼šå†åˆ›å»ºä¸€ä¸ªå˜é‡açš„<strong>æ‹·è´</strong>ï¼Œç»‘å®šåˆ°bä¸Šï¼Œè¿™æ ·aå’Œbçš„å€¼éƒ½æ˜¯2ï¼Œè¿™ä¸¤ä¸ªå˜é‡éƒ½è¢«å‹å…¥æ ˆä¸­</p>
<p>ç„¶åï¼Œå†å°†å˜é‡ç±»å‹æ”¹ä¸º<code>String</code>ç±»å‹</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">str1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">str2</span> = str1;</span><br></pre></td></tr></table></figure>
<p>ä¸<code>i32</code>ç±»å‹çš„çœ‹ä¸Šå»å¥½åƒæ²¡ä»€ä¹ˆä¸åŒï¼Œä¹Ÿè®¸ä¹Ÿæ˜¯str2ä½œä¸ºstr1çš„æ‹·è´ï¼Ÿä½†æ˜¯å…¶å®äº‹å®å¹¶éå¦‚æ­¤</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304162250610.png" alt="image-20230416225006258"></p>
<p>ç®€å•è¡¨ç¤ºä¸€ä¸‹Stringçš„å†…å­˜å¸ƒå±€ï¼Œä¸»è¦æ˜¯ç”±3ä¸ªéƒ¨åˆ†ç»„æˆï¼šæŒ‡é’ˆï¼ˆptrï¼‰ã€é•¿åº¦ï¼ˆlenï¼‰ã€å®¹é‡ï¼ˆcapacityï¼‰ï¼Œå¹¶ä¸”è¿™äº›æ•°æ®éƒ½<strong>å­˜å‚¨åœ¨æ ˆå½“ä¸­</strong></p>
<p>å³ä¾§åˆ™æ˜¯è¡¨ç¤ºçš„å­˜å‚¨çš„å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œä½“ç°äº†äºŒè€…ä¹‹é—´çš„ç»‘å®šå…³ç³»</p>
<p>lenç”¨æ¥è®°å½•å½“å‰Stringä¸­ä½¿ç”¨äº†å¤šå°‘å­—èŠ‚å†…å­˜ï¼Œå¯ä»¥çœ‹åˆ°æ˜¯5ï¼›capacityç”¨æ¥è®°å½•Stringå‘æ“ä½œç³»ç»Ÿæ€»å…±è·å–åˆ°çš„å†…å­˜å­—èŠ‚æ•°é‡ï¼Œä¹Ÿæ˜¯5ï¼Œå°½ç®¡æ­¤æ—¶äºŒè€…çš„å€¼ç›¸ç­‰ï¼Œä½†æ˜¯æ˜¯<strong>æœ‰åŒºåˆ«</strong>çš„</p>
<p>å°†str1èµ‹å€¼ç»™str2çš„æ—¶å€™ï¼Œçš„ç¡®æ˜¯å‘ç”Ÿäº†å¤åˆ¶ï¼Œä½†æ˜¯å¤åˆ¶çš„å†…å®¹æ˜¯æ ˆé‡Œçš„ï¼Œå› è€Œå­˜å‚¨åœ¨æ ˆå½“ä¸­çš„æŒ‡é’ˆã€é•¿åº¦ã€å®¹é‡å­—æ®µä¼šåœ¨æ ˆä¸Šå†å­˜åœ¨ä¸€ä»½ï¼ˆè¿™ä»½ä¾¿æ˜¯str2ï¼‰æ‰€å¯¹åº”çš„</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304162300646.png" alt="image-20230416230036998"></p>
<p>æ­¤æ—¶ï¼Œstr1å’Œstr2ä¸­çš„æŒ‡é’ˆå‡æŒ‡å‘ä¸€å—<strong>å †å†…å­˜</strong>ï¼Œè¿™ä¸<strong>æ·±æ‹·è´</strong>çš„ç»“æœæ˜¯ä¸ä¸€æ ·çš„</p>
<p>å¦‚æœæ˜¯æ·±æ‹·è´ï¼Œåˆ™ä¼šè¿åŒæŒ‡å‘çš„å†…å®¹ä¸€å¹¶æ‹·è´ä¸€ä»½</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304162304234.png" alt="image-20230416230422066"></p>
<p>ä½†æ˜¯ï¼Œå¦‚æœæ˜¯æ·±æ‹·è´ï¼Œåœ¨æ•°æ®è¶³å¤Ÿå¤§æ—¶ï¼Œè¿™ç§å¤§ç¯‡å¹…çš„å¤åˆ¶ä¼šå¸¦æ¥å¾ˆå¤§çš„æ€§èƒ½æŸè€—</p>
<p>ç°åœ¨ç”±äºstr1å’Œstr2ä¸¤ä¸ªå˜é‡åŒæ—¶æŒ‡å‘ä¸€å—åŒºåŸŸï¼Œå¦‚æœå…¶ä¸­ä»»æ„ä¸€æ–¹ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼ŒRustä¼šè‡ªåŠ¨å»è°ƒç”¨<code>drop()</code>é‡Šæ”¾å†…å­˜ï¼Œè€Œåè€…å†ç¦»å¼€ä½œç”¨åŸŸæ—¶ï¼Œå°†ä¼šé‡Šæ”¾ä¸€å—å·²è¢«é‡Šæ”¾çš„å†…å­˜ï¼Œè¿™ä¾¿å¼•å‘äº†<strong>äºŒæ¬¡é‡Šæ”¾é—®é¢˜</strong>ï¼Œè¿™å°†ä¼šå¯¼è‡´æ­£åœ¨ä½¿ç”¨çš„æ•°æ®å‘ç”Ÿé—®é¢˜ï¼Œè¿›è€ŒåŸ‹ä¸‹å®‰å…¨éšæ‚£</p>
<p>é‚£ä¹ˆRustå¯¹äºè§£å†³è¿™æ ·çš„é—®é¢˜çš„æ‰‹æ®µå¾ˆå½»åº•ï¼Œé‚£å°±æ˜¯<strong>ä¿ç•™ä¸€ä»½</strong></p>
<p>åœ¨<code>let str2 = str1</code>æ‰§è¡Œåï¼Œstr1è‡ªåŠ¨åºŸå¼ƒï¼Œä¹Ÿå°±ä¸å†è¢«ç¨‹åºä½œä¸ºä¸€ä¸ªæœ‰æ•ˆçš„å˜é‡ï¼Œè‡ªç„¶ä¹Ÿä¸éœ€è¦å¯¹å…¶æ¸…ç†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304162314790.png" alt="image-20230416231454410"></p>
<p>åœ¨è¿™ä¹‹åç»§ç»­ä½¿ç”¨str1å°†ä¼šç¼–è¯‘æŠ¥é”™</p>
<blockquote>
<p><strong>æµ…æ‹·è´å’Œæ·±æ‹·è´</strong>ï¼š</p>
<p>å…¶å®ï¼Œè¿™é‡Œçš„æƒ…å†µä¸æµ…æ‹·è´æœ‰æ‰€åŒºåˆ«ï¼Œæ ˆä¸Šå†…å®¹å¤åˆ¶çš„åŒæ—¶ï¼ŒRuståˆå°†å‰è€…æ— æ•ˆåŒ–ï¼Œå› è€Œæ–°å¢äº†<strong>ç§»åŠ¨</strong>çš„æ¦‚å¿µï¼Œæœ‰ç‚¹ç±»ä¼¼äºstr2æ˜¯str1çš„æ¥ç­äººï¼›è€Œæ·±æ‹·è´ä¾¿æ˜¯å°†æ ˆä¸Šä¸å †ä¸Šçš„æ•°æ®ä¸€å¹¶å¤åˆ¶çš„æ¦‚å¿µ</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202304162333435.png" alt="image-20230416233344579"></p>
<p><strong>Rustæ°¸è¿œä¸ä¼šè‡ªåŠ¨åœ°åˆ›å»ºæ•°æ®çš„æ·±æ‹·è´ï¼Œå› æ­¤ï¼Œä»»ä½•è‡ªåŠ¨åœ°èµ‹å€¼æ“ä½œéƒ½å°†æ˜¯é«˜æ•ˆçš„</strong></p>
<h3 id="5-2-å…‹éš†"><a class="header-anchor" href="#5-2-å…‹éš†">Â¶</a>5.2. å…‹éš†</h3>
<p>å¦‚æœè¯´ä¸€å®šéœ€è¦è¿›è¡Œ<strong>æ·±åº¦æ‹·è´</strong>ï¼Œè€Œä¸æ˜¯ä»…ä»…å¤åˆ¶æ ˆä¸Šçš„æ•°æ®ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨ä¸€ä¸ª<code>clone()</code>æ–¹æ³•</p>
<figure class="highlight rust"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">str1</span> = <span class="type">String</span>::<span class="title function_ invoke__">from</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> <span class="variable">str2</span> = str1.<span class="title function_ invoke__">clone</span>();   <span class="comment">// str1çš„æ·±æ‹·è´</span></span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, str1);</span><br><span class="line"><span class="built_in">println!</span>(<span class="string">&quot;&#123;&#125;&quot;</span>, str2);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡è°ƒç”¨<code>clone()</code>ï¼Œstr2æŠŠstr1æ ˆä¸Šå’Œå †ä¸Šçš„æ•°æ®éƒ½æ‹·è´äº†ä¸€ä»½ï¼Œè€Œè¿™å¯èƒ½ä¼šç›¸å½“è€—èµ„æº</p>
<p>ä½†æ˜¯å¯¹äºé‚£äº›åœ¨ç¼–è¯‘æ—¶å°±å·²ç»ç¡®å®šäº†å¤§å°çš„ç±»å‹ï¼Œæ— è®ºæ˜¯æ™®é€šèµ‹å€¼ï¼ˆæ ˆæ‹·è´ï¼‰æˆ–æ˜¯<code>clone</code>éƒ½<strong>æ²¡æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«</strong>ï¼Œæ€»æ˜¯é«˜æ•ˆçš„</p>
<h2 id=""><a class="header-anchor" href="#">Â¶</a></h2>
]]></content>
      <categories>
        <category>Rust</category>
      </categories>
      <tags>
        <tag>Rust</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆä¸€ï¼‰</title>
    <url>/2023/03/05/%E6%80%8E%E4%B9%88%E5%AD%A6Unity%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆä¸€ï¼‰</h1>
<h2 id="1-åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®"><a class="header-anchor" href="#1-åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®">Â¶</a>1. åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®</h2>
<p>é¦–å…ˆæ‰“å¼€æ–°å»ºé¡¹ç›®çš„é¡µé¢ï¼Œé‡Œé¢ä¼šæœ‰å¾ˆå¤šæ¸¸æˆæ¨¡æ¿å¯ä¾›é€‰æ‹©</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171652306.png" style="zoom: 33%;" />
<p>ç›´æ¥é€‰ç”¨3Dæ¨¡æ¿è¿›è¡Œæ¥ä¸‹æ¥çš„å¼€å‘</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171701337.png" alt="image-20220417170128306" style="zoom: 50%;" />
<p>ç»™é¡¹ç›®èµ·ä¸ªåå­—ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªå­˜æ”¾è·¯å¾„ï¼Œå®Œæˆåç‚¹å‡»â€åˆ›å»ºé¡¹ç›®â€œ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171703111.png" alt="image-20220417170358066"></p>
<p>ç­‰å¾…ä¸€æ®µæ—¶é—´ä¹‹åï¼Œç¼–è¾‘å™¨ä¼šè¢«æ¿€æ´»ï¼Œæ‰“å¼€ä»¥ä¸Šç•Œé¢ï¼Œé¡¹ç›®åˆ›å»ºå®Œæˆ</p>
<h2 id="2-å¸¸ç”¨è®¾ç½®"><a class="header-anchor" href="#2-å¸¸ç”¨è®¾ç½®">Â¶</a>2. å¸¸ç”¨è®¾ç½®</h2>
<p>ä¸€ä¸ªåŠŸèƒ½å¤æ‚çš„å·¥å…·å¾€å¾€åªéœ€è¦ç†Ÿæ‚‰ä¸€äº›å¸¸ç”¨çš„åŠŸèƒ½å°±å¯ä»¥å¾ˆå¥½å¾—è¿›è¡Œè¿ç”¨ï¼Œå…¶ä»–çš„å†…å®¹æ€»æ˜¯èƒ½å¤Ÿåœ¨æ—¥æ—¥å¤ä¸€æ—¥çš„ç§¯ç´¯å’Œä½¿ç”¨ä¸­ä¸æ–­åŠ æ·±å°è±¡ï¼Œé€æ¸å½¢æˆä¸ªäººçš„ä¹ æƒ¯å’Œä½“ç³»</p>
<h3 id="2-1-é¦–é€‰é¡¹"><a class="header-anchor" href="#2-1-é¦–é€‰é¡¹">Â¶</a>2.1. é¦–é€‰é¡¹</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171844852.png" alt="image-20220417184422814" style="zoom:50%;" />
<p>è¿™é‡Œé¢ä¸»è¦åŒ…å«äº†ç¼–è¾‘å™¨å·¥å…·çš„ä¸€äº›å±æ€§è®¾ç½®ï¼Œä¸»è¦ä½“ç°äº†ä¸€äº›ä¸ªäººåå¥½ï¼Œæ¯”å¦‚ï¼šç•Œé¢çš„é…è‰²ã€æ˜¾ç¤ºå†…å®¹ä½¿ç”¨çš„è¯­è¨€ç­‰</p>
<h3 id="2-2-é¡¹ç›®è®¾ç½®"><a class="header-anchor" href="#2-2-é¡¹ç›®è®¾ç½®">Â¶</a>2.2. é¡¹ç›®è®¾ç½®</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171847888.png" alt="image-20220417184715865" style="zoom:40%;" />
<p>è¿™é‡Œçš„è®¾ç½®å†…å®¹å¾€å¾€æ˜¯å…³è”å½“å‰çš„è¿™ä¸ªé¡¹ç›®çš„ï¼Œæ¯”å¦‚ï¼šåœºæ™¯ã€ç‰©ç†ã€è¾“å‡ºè´¨é‡ç­‰</p>
<h3 id="2-3-èµ„æº"><a class="header-anchor" href="#2-3-èµ„æº">Â¶</a>2.3. èµ„æº</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171851628.png" alt="image-20220417185152560" style="zoom:40%;" />
<p>ç”¨å¾—æ¯”è¾ƒå¤šçš„å¯èƒ½æ˜¯ä¸€äº›æ¸¸æˆèµ„æºçš„åˆ›å»ºï¼Œä»¥åŠæ¸¸æˆèµ„æºã€ç´ æçš„å¯¼å…¥å¯¼å‡ºåŠŸèƒ½</p>
<h3 id="2-4-æ¸¸æˆå¯¹è±¡"><a class="header-anchor" href="#2-4-æ¸¸æˆå¯¹è±¡">Â¶</a>2.4. æ¸¸æˆå¯¹è±¡</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171854598.png" alt="image-20220417185450569" style="zoom:50%;" />
<p>æ¸¸æˆå¯¹è±¡æœ€ç»ˆéœ€è¦åœ¨åœºæ™¯ä¸­æ‰®æ¼”è§’è‰²ï¼Œæ ¹æ®å…¶åŠŸèƒ½å’Œå¤–è§‚å¯ä»¥åˆ†ä¸ºå¤šä¸ªç±»å‹ï¼Œä¹Ÿæ˜¯<strong>æœ€éœ€è¦è¢«å…³æ³¨çš„å†…å®¹</strong></p>
<h3 id="2-5-ç»„ä»¶"><a class="header-anchor" href="#2-5-ç»„ä»¶">Â¶</a>2.5. ç»„ä»¶</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171858344.png" alt="image-20220417185801309" style="zoom:50%;" />
<p>ç»„ä»¶è¦ä¾èµ–äºæ¸¸æˆå¯¹è±¡ï¼Œå› æ­¤åªæœ‰åœ¨é€‰å®šç›¸åº”çš„æ¸¸æˆå¯¹è±¡ä¹‹åï¼Œå…¶åŠŸèƒ½æ‰ä¼šå¯ç”¨ï¼Œä¸»è¦ç”¨äºä¸°å¯Œæ¸¸æˆå¯¹è±¡çš„åŠŸèƒ½å’Œç»“æ„</p>
<h3 id="2-6-çª—å£"><a class="header-anchor" href="#2-6-çª—å£">Â¶</a>2.6. çª—å£</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171900877.png" alt="image-20220417190057842" style="zoom:33%;" />
<p>ä¸»è¦åŠŸèƒ½æ˜¯å¯¹äºçª—å£çš„ç®¡ç†ï¼Œè°ƒæ•´å¸ƒå±€ã€åŒ…ç®¡ç†å™¨ä»¥åŠä¸€äº›çª—å£å¯è§æ€§çš„æ§åˆ¶</p>
<h2 id="3-ç•Œé¢åˆ’åˆ†"><a class="header-anchor" href="#3-ç•Œé¢åˆ’åˆ†">Â¶</a>3. ç•Œé¢åˆ’åˆ†</h2>
<h3 id="3-1-è¿è¡Œæ§åˆ¶"><a class="header-anchor" href="#3-1-è¿è¡Œæ§åˆ¶">Â¶</a>3.1. è¿è¡Œæ§åˆ¶</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171908664.png" alt="image-20220417190850621" style="zoom:50%;" />
<p>è¿™ä¸ªç•Œé¢éå¸¸ç®€æ´ï¼Œä¸»è¦å°±æ˜¯æ§åˆ¶æ¸¸æˆçš„è¿è¡Œ</p>
<h3 id="3-2-è§†å£"><a class="header-anchor" href="#3-2-è§†å£">Â¶</a>3.2. è§†å£</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171911649.png" alt="image-20220417191140613" style="zoom: 33%;" />
<p>è¿™ä¸ªåŒºåŸŸå¾€å¾€æ˜¯å æ¯”æœ€å¤§çš„ï¼Œæ¸¸æˆä¸–ç•Œå°±æ˜¯é€šè¿‡è¿™ä¸ªç•Œé¢æ¥è¿›è¡Œå±•ç°çš„ã€‚</p>
<p><code>Scene</code>æ˜¯ç”¨æ¥å‘å¼€å‘è€…å±•ç¤ºæ¸¸æˆçš„æ­å»ºæƒ…å†µï¼Œæ–¹ä¾¿æµè§ˆå’Œå®šä½ï¼›è€Œ<code>Game</code>å±•ç¤ºçš„ç©å®¶çš„è§†è§’ï¼Œç”¨æ¥ç»™ç›®æ ‡ç”¨æˆ·çœ‹çš„</p>
<h3 id="3-3-å±‚çº§é¢æ¿"><a class="header-anchor" href="#3-3-å±‚çº§é¢æ¿">Â¶</a>3.3. å±‚çº§é¢æ¿</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171910917.png" alt="image-20220417191037877" style="zoom:50%;" />
<p>è¿™ä¸ªé¢æ¿çš„å†…å®¹æ˜¯ä¸è§†å£å¯¹åº”çš„ï¼Œæ”¾ç½®åˆ°è§†å£çš„æ¸¸æˆå¯¹è±¡éƒ½ä¼šä»¥åˆ—è¡¨çš„å½¢å¼å±•ç°åœ¨è¿™ä¸ªé¢æ¿ä¸Šï¼Œä¹Ÿå¯ä»¥å¾ˆæ¸…æ™°çœ‹åˆ°å¯¹è±¡é—´çš„å±‚çº§å…³ç³»</p>
<p>åœ¨æ¸¸æˆå¯¹è±¡å¾ˆå¤šã€åœºæ™¯å¾ˆå¤æ‚çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å±‚çº§é¢æ¿æ— ç–‘ä¼šæ›´æœ‰æ•ˆç‡</p>
<h3 id="3-4-é¡¹ç›®é¢æ¿"><a class="header-anchor" href="#3-4-é¡¹ç›®é¢æ¿">Â¶</a>3.4. é¡¹ç›®é¢æ¿</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204171920154.png" alt="image-20220417192043117" style="zoom: 50%;" />
<p>ä¸€ä¸ªæ¸¸æˆä¸‹è½½ä¸‹æ¥ï¼Œåœ¨å®ƒçš„ç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°è®¸å¤šèµ„æºçš„ç›®å½•ï¼Œè¿™äº›ç›®å½•æä¾›çš„æ˜¯ç”¨äºæ”¯æŒæ¸¸æˆçš„ä¸€äº›é™æ€èµ„æºï¼Œå¦‚ï¼šå›¾ç‰‡ã€éŸ³ä¹ã€æ¨¡å‹ç­‰ï¼Œä»¥åŠç¼–å†™è„šæœ¬ï¼Œè§†å£æ‰€å±•ç¤ºçš„å†…å®¹ï¼Œå®é™…ä¸Šä¼šè¢«å­˜æˆåœºæ™¯æ–‡ä»¶ï¼Œä¾ç„¶å±äºé¡¹ç›®ç®¡ç†çš„èŒƒç•´</p>
<p>è¿™äº›å†…å®¹å¼€å‘è€…ä½¿ç”¨é¡¹ç›®é¢æ¿è¿›è¡Œåˆ†ç±»ç®¡ç†ï¼Œä¼šåœ¨å¼€å‘æ—¶æ˜¾å¾—æ¡ç†æ¸…æ™°ï¼Œä¹Ÿèƒ½å¾ˆå¥½åœ°æé«˜å¼€å‘æ•ˆç‡</p>
<h3 id="3-5-æ£€æŸ¥å™¨ï¼ˆå…¶å®æˆ‘è§‰å¾—è¯¦æƒ…æ›´åˆé€‚ï¼‰"><a class="header-anchor" href="#3-5-æ£€æŸ¥å™¨ï¼ˆå…¶å®æˆ‘è§‰å¾—è¯¦æƒ…æ›´åˆé€‚ï¼‰">Â¶</a>3.5. æ£€æŸ¥å™¨ï¼ˆå…¶å®æˆ‘è§‰å¾—è¯¦æƒ…æ›´åˆé€‚ï¼‰</h3>
<img src="/Users/shenzhisheng/Library/Application Support/typora-user-images/image-20220417215337955.png" alt="image-20220417215337955" style="zoom: 33%;" />
<p>å½“é€‰ä¸­ä¸€ä¸ªæ¸¸æˆå¯¹è±¡åï¼Œè¿™ä¸ªé¢æ¿ä¸Šä¼šæµ®ç°å‡ºè¯¥æ¸¸æˆå¯¹è±¡æ‰€æœ‰çš„å±æ€§ï¼Œå¯ä»¥æ–¹ä¾¿åœ°å¯¹äºå±æ€§è¿›è¡Œä¿®æ”¹</p>
<h3 id="3-6-æ§åˆ¶å°"><a class="header-anchor" href="#3-6-æ§åˆ¶å°">Â¶</a>3.6. æ§åˆ¶å°</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172157596.png" alt="image-20220417215710559" style="zoom:33%;" />
<p>è¿™ä¸ªé¢æ¿å¯èƒ½é€šå¸¸çŠ¶æ€ä¸‹å¤„äºéšè—çŠ¶æ€ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡<code>Window</code>æ‰¾åˆ°å®ƒï¼Œæˆ–è€…ä½¿ç”¨<code>shift + command + C</code>å°†å…¶å‘¼å‡º</p>
<p>å®ƒæ˜¾ç¤ºçš„ä¸»è¦æ˜¯ä¸€äº›æ—¥å¿—ä¿¡æ¯ï¼Œåœ¨æ¸¸æˆç”»é¢ä¸­ï¼Œæœ‰äº›é—®é¢˜å¯èƒ½çœ‹ä¸å‡ºæ¥ï¼Œå› æ­¤åœ¨è°ƒè¯•è¿‡ç¨‹ä¸­æ·»åŠ æ—¥å¿—ï¼Œèƒ½å¤Ÿå¯¹äºæ¸¸æˆå„ä¸ªåŠŸèƒ½çš„æ‰§è¡Œæœ‰æ›´åŠ ç»†è‡´çš„æŠŠæ¡ï¼Œä¹Ÿå¯ä»¥åœ¨è¿½è¸ªé—®é¢˜æ—¶ï¼Œå‘æŒ¥å¾ˆå¤§çš„ä½œç”¨</p>
<h2 id="4-æ¸¸æˆç‰©ä½“çš„åˆ›å»ºåŠæ“ä½œ"><a class="header-anchor" href="#4-æ¸¸æˆç‰©ä½“çš„åˆ›å»ºåŠæ“ä½œ">Â¶</a>4. æ¸¸æˆç‰©ä½“çš„åˆ›å»ºåŠæ“ä½œ</h2>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172207047.png" alt="image-20220417220744013" style="zoom:33%;" /><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172212813.png" alt="image-20220417221203769" style="zoom:50%;" /></p>
<p>åˆ›å»ºæ¸¸æˆç‰©ä½“æ—¢å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸­é€‰ä¸­é¡¶éƒ¨çš„<code>Game Object</code>ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨å±‚çº§é¢æ¿ä¸­å³å‡»è¿›è¡Œåˆ›å»ºï¼Œæˆ–è€…ä½¿ç”¨å±‚çº§é¢æ¿é¡¶éƒ¨çš„â€+â€œ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172215037.png" alt="image-20220417221536003" style="zoom:50%;" />
<p>å½“ç„¶ï¼Œä¹Ÿå¯ä»¥å¿«æ·åœ°å€ŸåŠ©å·²æœ‰çš„æ¸¸æˆå¯¹è±¡è¿›è¡Œåˆ›å»ºï¼Œé€‰å®šæ¸¸æˆå¯¹è±¡<code>command + C</code>ã€<code>command + V</code>å¤åˆ¶ç²˜è´´ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨<code>command + D</code>ï¼Œç›´æ¥å¤åˆ¶ç²˜è´´ä¸€èµ·</p>
<h3 id="4-1-å¸¸ç”¨çš„åŸºç¡€æ¨¡å‹å¯¹è±¡"><a class="header-anchor" href="#4-1-å¸¸ç”¨çš„åŸºç¡€æ¨¡å‹å¯¹è±¡">Â¶</a>4.1. å¸¸ç”¨çš„åŸºç¡€æ¨¡å‹å¯¹è±¡</h3>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172240947.png" alt="image-20220417224057899" style="zoom:67%;" /><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172242365.png" alt="image-20220417224237327" style="zoom:33%;" /></p>
<p>æ­£å¥½ä»å·¦åˆ°å³å¯¹åº”æ˜¯è¿™äº›å¯¹è±¡</p>
<blockquote>
<p>æ³¨æ„ï¼šå¹³é¢å’Œå››è¾¹å½¢éƒ½æ˜¯å•é¢çš„ï¼Œä»…æœ‰ä¸€é¢å¯è§ï¼Œå¹¶ä¸”åœ¨æ€§èƒ½æ¶ˆè€—ä¸Šï¼Œå››è¾¹å½¢æ›´å°‘</p>
<p>æ¨¡å‹ç”±ç½‘æ ¼æ„æˆï¼Œè¿™äº›ç½‘æ ¼å…¶å®å°±æ˜¯å›¾å…ƒï¼ˆä¸‰è§’å½¢ï¼‰ï¼Œè¿™æ¶‰åŠç€è‰²å™¨çš„çŸ¥è¯†ï¼Œä½¿ç”¨å›¾å…ƒå°‘ï¼Œç”¨åˆ°çš„ä¸‰è§’å½¢é¡¶ç‚¹å°±å°‘ï¼Œè®¡ç®—çš„å†…å®¹å°±ä¼šå°‘ï¼Œé‚£ä¹ˆåŒç­‰æƒ…å†µä¸‹ï¼Œæ€§èƒ½æ¶ˆè€—å°±ä¼šå°‘ä¸€äº›</p>
</blockquote>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172246931.png" alt="image-20220417224606890" style="zoom:33%;" />
<h3 id="4-2-è§†è§’è°ƒæ•´"><a class="header-anchor" href="#4-2-è§†è§’è°ƒæ•´">Â¶</a>4.2. è§†è§’è°ƒæ•´</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172257155.png" alt="image-20220417225725117" style="zoom: 50%;" />
<p>åœ¨è§†å£ä¸­ç§»åŠ¨é¼ æ ‡ï¼Œå¹¶ä¸”æŒ‰ä½å³é”®æ—¶ï¼Œä¼šå‘ç°é¼ æ ‡å˜æˆâ€çœ¼ç›â€œå›¾æ ‡ï¼Œæ­¤æ—¶å·¥å…·æ å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œç»§ç»­æŒ‰ä½å³é”®å¯ä»¥ä»¥å½“å‰ä½ç½®ä¸ºè½´å¿ƒï¼Œåœ¨åœºæ™¯ä¸­æµè§ˆ</p>
<p>å‰åæ»šåŠ¨é¼ æ ‡ï¼Œå¯ä»¥å°†åœºæ™¯æ‹‰è¿‘æ‹‰è¿œ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204172303817.png" alt="image-20220417230339775" style="zoom:33%;" />
<p>åŒæŒ‡æŒ‰ä½ï¼Œæ¿€æ´»æŠ“æ‰‹å·¥å…·ï¼Œè¿›è¡Œåœºæ™¯æ‹–æ‹½ï¼Œå¦‚æœä½¿ç”¨è¿‡psä¸€ç±»çš„å·¥å…·ï¼Œåº”è¯¥ä¼šå¾ˆç†Ÿæ‚‰</p>
<p>ä»¥ä¸Šå‡ ç§æ“ä½œè¿›è¡Œé…åˆï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„åœ¨åœºæ™¯ä¸­è¿›è¡Œæµè§ˆ</p>
<h3 id="4-3-åæ ‡ç³»"><a class="header-anchor" href="#4-3-åæ ‡ç³»">Â¶</a>4.3. åæ ‡ç³»</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180734034.png" alt="image-20220418073404001" style="zoom: 33%;" />
<p>Unityå†…éƒ¨é‡‡ç”¨çš„æ˜¯å·¦æ‰‹åæ ‡ç³»</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180736904.png" alt="image-20220418073637865" style="zoom:50%;" />
<p>å¦‚åŒè§†å£å³ä¸Šè§’çš„<code>Gizmo</code>æ˜¾ç¤ºçš„ä¸€æ ·</p>
<h4 id="4-3-1-ä¸–ç•Œåæ ‡ç³»"><a class="header-anchor" href="#4-3-1-ä¸–ç•Œåæ ‡ç³»">Â¶</a>4.3.1. ä¸–ç•Œåæ ‡ç³»</h4>
<p>æ‰€æœ‰åœ¨åœºæ™¯ä¸­åˆ›å»ºçš„æ¸¸æˆå¯¹è±¡çš„ä½ç½®éƒ½æ˜¯ç›¸å¯¹äºä¸–ç•Œåæ ‡çš„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180741925.png" alt="image-20220418074120877" style="zoom:50%;" />
<p>åœ¨<code>Inspector</code>é¢æ¿ä¸­å¯ä»¥æŸ¥çœ‹æ¸¸æˆå¯¹è±¡çš„è¯¥å±æ€§</p>
<p><strong>ä¸–ç•Œåæ ‡ç³»æœ¬èº«æ˜¯å›ºå®šä¸å˜çš„</strong></p>
<h4 id="4-3-2-æœ¬åœ°åæ ‡ç³»"><a class="header-anchor" href="#4-3-2-æœ¬åœ°åæ ‡ç³»">Â¶</a>4.3.2. æœ¬åœ°åæ ‡ç³»</h4>
<p>é™¤äº†ä¸–ç•Œåæ ‡ç³»ï¼Œæ¯ä¸ªåˆ›å»ºçš„ç‰©ä½“è¿˜æœ‰ä¸€ä¸ªè‡ªèº«çš„æœ¬åœ°åæ ‡ç³»</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180806042.png" alt="image-20220418080636995" style="zoom:50%;" />
<p>é¦–å…ˆï¼Œå»ºç«‹ä¸€ä¸ªå…³ç³»ï¼Œè®©çƒä½“æˆä¸ºç«‹æ–¹ä½“çš„å­ç‰©ä½“ï¼Œç›´æ¥åœ¨å±‚çº§é¢æ¿ä¸Šå°†çƒä½“æ‹–åŠ¨åˆ°ç«‹æ–¹ä½“ä¸Š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180808036.png" alt="image-20220418080840993" style="zoom:50%;" />
<p>æ­¤æ—¶ï¼Œé€‰ä¸­ç«‹æ–¹ä½“ä¼šåŒæ—¶é€‰ä¸­çƒä½“ï¼Œåä¹‹ä¸å¯ä»¥</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204180809069.png" alt="image-20220418080958020" style="zoom:50%;" />
<p>ç›´æ¥ç§»åŠ¨ç«‹æ–¹ä½“ï¼Œç«‹æ–¹ä½“çš„åæ ‡ä¼šå˜ï¼Œè€Œçƒä½“çš„ç›®æ ‡å§‹ç»ˆä¸å˜ï¼Œå› ä¸ºçƒä½“ç›®å‰çš„å‚è€ƒå¯¹è±¡æ˜¯ç«‹æ–¹ä½“ï¼Œå¤„äºç«‹æ–¹ä½“çš„æœ¬åœ°åæ ‡ç³»ä¸­</p>
<blockquote>
<p>åœ¨ç‰©ä½“æ²¡æœ‰çˆ¶ç‰©ä½“æ—¶ï¼Œæ‰ä¼šä½¿ç”¨ä¸–ç•Œåæ ‡ç³»ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥å°†ä¸–ç•Œçœ‹ä½œæ˜¯ä¸€åˆ‡ç‰©ä½“çš„çˆ¶ç‰©ä½“</p>
</blockquote>
<h4 id="4-3-3-ä¸­å¿ƒå’Œè½´å¿ƒ"><a class="header-anchor" href="#4-3-3-ä¸­å¿ƒå’Œè½´å¿ƒ">Â¶</a>4.3.3. ä¸­å¿ƒå’Œè½´å¿ƒ</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182221194.png" alt="image-20220418222153157" style="zoom:50%;" />
<p>åœ¨å¯ç”¨<strong>ä¸­å¿ƒ</strong>çš„æƒ…å†µä¸‹ï¼Œé€‰ä¸­æœ‰çˆ¶å­çº§å…³ç³»çš„ä¸¤ä¸ªç‰©ä½“ä¸­çš„çˆ¶ç‰©ä½“ï¼Œå…¶ä¸­å¿ƒæ˜¯ç»è¿‡<strong>é‡æ–°è®¡ç®—</strong>çš„ï¼Œå› ä¸ºç³»ç»Ÿä¼šå°†ä¸¤ä¸ªç‰©ä½“å½“åšæ•´ä½“ï¼Œè¿™æ—¶å€™åæ ‡è½´å‡ºç°åœ¨äºŒè€…ä¹‹é—´</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182226704.png" alt="image-20220418222617675" style="zoom: 50%;" />
<p>å†åˆ‡æ¢åˆ°<strong>è½´å¿ƒ</strong>ï¼Œæ­¤æ—¶åæ ‡è½´ä¸­å¿ƒç§»åˆ°äº†çˆ¶ç‰©ä½“çš„ä¸­å¿ƒ</p>
<p>é€‰ä¸­å­ç‰©ä½“çš„åæ ‡è½´ä¸­å¿ƒå¹¶ä¸ä¼šæ”¹å˜</p>
<h4 id="4-3-4-ä¸–ç•Œåæ ‡ä¸æœ¬åœ°åæ ‡åˆ‡æ¢"><a class="header-anchor" href="#4-3-4-ä¸–ç•Œåæ ‡ä¸æœ¬åœ°åæ ‡åˆ‡æ¢">Â¶</a>4.3.4. ä¸–ç•Œåæ ‡ä¸æœ¬åœ°åæ ‡åˆ‡æ¢</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182237504.png" alt="image-20220418223736467" style="zoom:50%;" />
<p>åœ¨åˆ‡æ¢åˆ°ä¸–ç•Œåæ ‡ç³»æ—¶ï¼Œåæ ‡è½´çš„æ–¹å‘ä¸å³ä¸Šè§’çš„<code>Gizmo</code>ä¸€è‡´ï¼Œä½œä¸ºæ•´ä¸ªåœºæ™¯çš„åæ ‡è½´ï¼Œæ‰€æœ‰ç‰©ä½“éƒ½éµå¾ªè¿™ä¸ªè§„åˆ™ï¼Œé€‰ä¸­åä¼šæ˜¾ç¤ºå¯¹åº”æ–¹å‘çš„åæ ‡è½´</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182241256.png" style="zoom: 50%;" />
<p>å³ä½¿è¿›è¡Œæ—‹è½¬ç­‰æ“ä½œï¼Œä¾ç„¶ä¿æŒåŸæ¥çš„æŒ‡å‘</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182249461.png" alt="image-20220418224922417" style="zoom:50%;" />
<p>åˆ‡æ¢åˆ°æœ¬åœ°åæ ‡ç³»ï¼Œç°åœ¨çš„åæ ‡ç³»æ˜¯æ¸¸æˆç‰©ä½“è‡ªå·±çš„ï¼Œä¸å¿…éµå¾ªåŸæ¥çš„è§„åˆ™ï¼Œè·Ÿéšç€ç‰©ä½“çš„å˜åŒ–è€Œå˜åŒ–</p>
<h2 id="5-ç‰©ä½“çš„åŸºæœ¬æ“ä½œ"><a class="header-anchor" href="#5-ç‰©ä½“çš„åŸºæœ¬æ“ä½œ">Â¶</a>5. ç‰©ä½“çš„åŸºæœ¬æ“ä½œ</h2>
<h3 id="5-1-ç§»åŠ¨å·¥å…·"><a class="header-anchor" href="#5-1-ç§»åŠ¨å·¥å…·">Â¶</a>5.1. ç§»åŠ¨å·¥å…·</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182255497.png" alt="image-20220418225511463" style="zoom:50%;" />
<p>å¿«æ·é”®<code>W</code>ï¼Œæ˜¾ç¤ºåæ ‡è½´ï¼Œå¯ä»¥é€‰ä¸­åæ ‡è½´ä»…åœ¨å¯¹åº”çš„æ–¹å‘ä¸Šè¿›è¡Œç§»åŠ¨</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182257257.png" alt="image-20220418225703213" style="zoom:50%;" />
<p>æˆ–è€…é€‰ä¸­ä¸¤ä¸ªè½´ä¹‹é—´çš„æ–¹å½¢ï¼Œä»…åœ¨é€‰å®šçš„å¹³é¢ä¸Šè¿›è¡Œç§»åŠ¨</p>
<h3 id="5-2-æ—‹è½¬å·¥å…·"><a class="header-anchor" href="#5-2-æ—‹è½¬å·¥å…·">Â¶</a>5.2. æ—‹è½¬å·¥å…·</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182302021.png" alt="image-20220418230220951" style="zoom:50%;" />
<p>å¿«æ·é”®<code>E</code>ï¼Œå¯ä»¥é€‰å®šæ–¹å‘è¿›è¡Œæ—‹è½¬</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182306592.png" alt="image-20220418230642555" style="zoom:50%;" />
<p>ä¹Ÿå¯ä»¥åˆ©ç”¨æŸ¥çœ‹å™¨è¿›è¡Œè¾“å…¥ï¼Œæ›´åŠ å®¹æ˜“è·å¾—ç²¾å‡†çš„è§’åº¦</p>
<h3 id="5-3-ç¼©æ”¾å·¥å…·"><a class="header-anchor" href="#5-3-ç¼©æ”¾å·¥å…·">Â¶</a>5.3. ç¼©æ”¾å·¥å…·</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182310642.png" alt="image-20220418231039594" style="zoom:50%;" />
<p>å¿«æ·é”®<code>R</code>ï¼Œå¯ä»¥é€‰å®šè½´è¿›è¡Œç¼©æ”¾ï¼Œé»˜è®¤ä¸ºå€æ•°ä¸º1ï¼Œä¹Ÿå¯ä»¥é€‰ä¸­ä¸­é—´æ•´ä½“è¿›è¡Œç¼©æ”¾</p>
<h3 id="5-4-çŸ©å½¢å·¥å…·"><a class="header-anchor" href="#5-4-çŸ©å½¢å·¥å…·">Â¶</a>5.4. çŸ©å½¢å·¥å…·</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182323620.png" alt="image-20220418232358554" style="zoom:50%;" />
<p>å¿«æ·é”®<code>T</code>ï¼Œä¸»è¦åº”ç”¨äº2Dåœºæ™¯å’Œæ¸¸æˆUIç»˜åˆ¶ä¸Šï¼Œå› ä¸ºè¿™ä¸ªå·¥å…·çš„ä½œç”¨å¯¹è±¡æ˜¯ä¸€ä¸ªå¹³é¢ï¼Œå› æ­¤å°†åœºæ™¯åˆ‡æ¢ä¸º2Dæ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨è¯¥å·¥å…·è¿›è¡Œè°ƒæ•´</p>
<h3 id="5-5-ä¸‰ä½ä¸€ä½“"><a class="header-anchor" href="#5-5-ä¸‰ä½ä¸€ä½“">Â¶</a>5.5. ä¸‰ä½ä¸€ä½“</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204182334884.png" alt="image-20220418232809276" style="zoom:50%;" />
<p>å¿«æ·é”®<code>Y</code>ï¼Œå…¶å®å°±æ˜¯å°†ç§»åŠ¨ã€æ—‹è½¬ã€ç¼©æ”¾çš„åŠŸèƒ½ç»¼åˆåœ¨ä¸€èµ·äº†</p>
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆä¸‰ï¼‰</title>
    <url>/2023/03/05/%E6%80%8E%E4%B9%88%E5%AD%A6Unity%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%89%EF%BC%89/</url>
    <content><![CDATA[<h1>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆä¸‰ï¼‰</h1>
<h1>1. åœ°å½¢ç³»ç»Ÿ</h1>
<p>å¤§å‹çš„3Dæ¸¸æˆå¾€å¾€ç¦»ä¸å¼€ä¸°å¯Œçš„åœ°å½¢ï¼Œå°¤å…¶æ˜¯å¼€æ”¾ä¸–ç•Œç±»å‹ï¼Œä¼šæœ‰ä¸°å¯Œçš„åœ°å½¢ä¾›ç©å®¶è¿›è¡Œæ¢ç´¢</p>
<h3 id="1-1-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#1-1-å‡†å¤‡å·¥ä½œ">Â¶</a>1.1. å‡†å¤‡å·¥ä½œ</h3>
<p>è¿™é‡Œåˆé‡æ–°åˆ›å»ºäº†ä¸€ä¸ª3Dæ¸¸æˆçš„é¡¹ç›®ï¼Œç„¶åå»åˆ°Unityçš„èµ„æºå•†åŸé‡Œå»æœç´¢ä¸€äº›èµ„æº</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204222259829.png" alt="image-20220422225910756" style="zoom: 33%;" />
<p>å…¶å®éœ€è¦çš„å‘¢ä¹Ÿå°±æ˜¯å®˜æ–¹æä¾›çš„è¿™å¥—æ ‡å‡†èµ„æº</p>
<p>ä½¿ç”¨æ–¹é¢æŒ‰ç…§ä¹‹å‰çš„æµç¨‹è¿›è¡Œèµ„æºå¯¼å…¥ï¼Œç„¶åå‹¾é€‰ä¸Šéœ€è¦ç”¨åˆ°çš„èµ„æºç±»å‹ï¼Œè¿›è¡Œç¡®è®¤</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204222306646.png" alt="image-20220422230628587" style="zoom: 33%;" />
<p>è¿™é‡Œä»…ä»…é€‰ä¸­è¿™äº›èµ„æºå½“ä¸­çš„ç¯å¢ƒç±»èµ„æºå°±è¶³å¤Ÿä½¿ç”¨äº†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204222308935.png" alt="image-20220422230837889" style="zoom:50%;" />
<p>æ­¤æ—¶ï¼Œå¯ä»¥ç€æ‰‹åˆ›å»ºåœ°å½¢</p>
<h3 id="1-2-åœ°å½¢åˆ›å»º"><a class="header-anchor" href="#1-2-åœ°å½¢åˆ›å»º">Â¶</a>1.2. åœ°å½¢åˆ›å»º</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232317427.png" alt="image-20220423110230027" style="zoom: 33%;" />
<p>æ¥ä¸‹æ¥åœ¨åœºæ™¯ä¸­åˆ›å»ºåœ°å½¢å¯¹è±¡</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231104312.png" alt="image-20220423110422279" style="zoom:50%;" />
<p>åœºæ™¯ä¸­éšåç”Ÿæˆäº†ä¸€ä¸ªå·¨å¤§çš„å¹³é¢ï¼Œè¿™å°±æ˜¯åœ°å½¢å¯¹è±¡</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232318248.png" alt="image-20220423110554664" style="zoom:33%;" />
<p>ç‚¹å¼€è¯¥å¯¹è±¡çš„å±æ€§ï¼Œå¹¶åˆ‡æ¢åˆ°è®¾ç½®ä¸€æ ï¼Œå¯ä»¥çœ‹åˆ°åœ°å½¢å¯¹è±¡ä¸Šçš„ä¸€äº›å‚æ•°</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232318873.png" alt="image-20220423110641873" style="zoom:50%;" />
<p>å‘ä¸‹æ»šåŠ¨ï¼Œå¯ä»¥æ‰¾åˆ°æœ‰å…³å½“å‰åœ°å½¢å¯¹è±¡å¤§å°çš„ä¿¡æ¯</p>
<p>åˆšåˆšåˆ›å»ºå‡ºæ¥çš„åœ°å½¢å¯¹è±¡çš„é•¿å’Œå®½éƒ½æ˜¯1000ï¼Œé«˜åº¦ä¸º600</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231111522.png" alt="image-20220423111133486" style="zoom:33%;" />
<p>åˆ›å»ºçš„å°ç«‹æ–¹ä½“é»˜è®¤å¤§å°æ˜¯1 * 1ï¼Œå› æ­¤å¯ä»¥å‘ç°åœ°å½¢è¿™ä¸ªå¹³é¢æ˜¯æœ‰å¤šå¤§äº†</p>
<h3 id="1-3-åœ°å½¢ç¼–è¾‘"><a class="header-anchor" href="#1-3-åœ°å½¢ç¼–è¾‘">Â¶</a>1.3. åœ°å½¢ç¼–è¾‘</h3>
<p>å¯¹äºåœ°å½¢çš„ç¼–è¾‘å·¥ä½œä¸»è¦é€šè¿‡è¯¥é¢æ¿å®Œæˆ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231113603.png" alt="image-20220423111341564" style="zoom:50%;" />
<h4 id="1-3-1-åˆ›å»ºç›¸é‚»çš„åœ°å½¢"><a class="header-anchor" href="#1-3-1-åˆ›å»ºç›¸é‚»çš„åœ°å½¢">Â¶</a>1.3.1. åˆ›å»ºç›¸é‚»çš„åœ°å½¢</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231115018.png" alt="image-20220423111555986" style="zoom:50%;" />
<p>ç¬¬ä¸€ä¸ªæŒ‰é’®ç”¨äºåˆ›å»ºç›¸é‚»çš„åœ°å½¢</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231125078.png" alt="image-20220423112551033" style="zoom:50%;" />
<p>é€‰ä¸­åå½“å‰åœ°å½¢çš„å‡ ä¸ªç›¸é‚»åŒºåŸŸé«˜äº®æ˜¾ç¤ºï¼Œç‚¹å‡»å¯ç”¨äºå¿«é€Ÿæ‰©å¼ åœ°å½¢</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231129395.png" alt="image-20220423112910358" style="zoom:50%;" />
<p>æ·»åŠ åï¼Œç›¸é‚»åŒºåŸŸä¹Ÿå¢åŠ äº†ï¼Œæ¯ä¸€æ¬¡æ·»åŠ éƒ½ä¼šä¼´éšç€åœ°å½¢æ–‡ä»¶çš„åˆ›å»º</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232319501.png" alt="image-20220423113152759" style="zoom:33%;" />
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>å¦‚æœè¦åˆ é™¤ï¼ŒAssetsç›®å½•ä¸‹æ·»åŠ çš„åœ°å½¢æ–‡ä»¶ä¸ä¼šåˆ é™¤ï¼Œéœ€è¦æ‰‹åŠ¨æ¸…é™¤</p>
</blockquote>
<h4 id="1-3-2-ç»˜åˆ¶åœ°å½¢"><a class="header-anchor" href="#1-3-2-ç»˜åˆ¶åœ°å½¢">Â¶</a>1.3.2. ç»˜åˆ¶åœ°å½¢</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231133648.png" alt="image-20220423113312606" style="zoom: 50%;" />
<p>ç»˜åˆ¶åœ°å½¢çš„å†…å®¹æ˜¯æœ€ä¸°å¯Œçš„ä¹Ÿæ˜¯æœ€æœ‰è¶£çš„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231137135.png" alt="image-20220423113708096" style="zoom:50%;" />
<h5 id="æŠ¬é«˜æˆ–é™ä½"><a class="header-anchor" href="#æŠ¬é«˜æˆ–é™ä½">Â¶</a>æŠ¬é«˜æˆ–é™ä½</h5>
<p>è¿™ä¸ªç±»å‹ç¬”åˆ·ä¸»è¦ç”¨äºç»˜åˆ¶å±±å³°å’Œç›†åœ°ï¼Œå¤§è‡´å‹¾å‹’å‡ºåœ°å½¢çš„é«˜åº¦ã€è½®å»“</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231139079.png" alt="image-20220423113944040" style="zoom:50%;" />
<p>ç»˜åˆ¶å‰éœ€è¦å‡†å¤‡ä¸€ä¸‹ç¬”åˆ·ï¼Œè¿™é‡Œçš„ç¬”åˆ·æœ‰å‡ ä¸ªå±æ€§</p>
<ul>
<li>ç¬”åˆ·çš„å½¢çŠ¶ï¼šå°±æ˜¯æ¯ä¸€ç¬”ç‚¹ä¸‹å»å½¢çŠ¶ï¼Œé€šå¸¸ç”¨çš„å¤šçš„æ˜¯åœ†å½¢ï¼Œå½“ç„¶ï¼Œè¾¹ç¼˜ä¸€èˆ¬æ¯”è¾ƒæŸ”å’Œï¼Œæ˜¾å¾—æ›´åŠ è‡ªç„¶</li>
<li>ç¬”åˆ·çš„å°ºå¯¸ï¼šä¹Ÿå°±æ˜¯ç¬”å¤´çš„ç²—ç»†ï¼Œç¬”å¤´ç²—çš„å¤„ç†å¤§é¢ç§¯çš„åŒºåŸŸå¡«å……ï¼Œç¬”å¤´ç»†çš„ä¸»è¦ä¾¿äºå‹¾å‹’ç»†èŠ‚</li>
<li>ä¸é€æ˜åº¦ï¼ˆæˆ–è€…å¯ä»¥ç†è§£ä¸ºç¬”åˆ·çš„ç¡¬åº¦ï¼‰ï¼šç¡¬åº¦è¶Šé«˜ï¼Œé«˜åº¦çš„å˜åŒ–è¶Šå‰§çƒˆï¼›ç¡¬åº¦è¶Šä½ï¼Œåˆ™è¶Šå¹³ç¼“</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232323686.png" alt="image-20220423114642055" style="zoom: 50%;" />
<p>å·¦ä¾§çš„ç¬”åˆ·ç¡¬åº¦è¾ƒé«˜ï¼Œæ›´å®¹æ˜“ç»˜åˆ¶å‡ºé™¡å³­çš„åœ°å½¢ï¼Œå³è¾¹çš„æ›´æŸ”å’Œï¼Œå¯ä»¥è¡¨ç°å‡ºå¹³ç¼“çš„å±±å¡</p>
<p>å¦å¤–ï¼Œç¬”åˆ·ç»˜åˆ¶æ—¶åŠ ä¸Š<code>Shift</code>ï¼Œè¡¨ç°å‡ºåœ°å½¢çš„ä¸‹é™</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231151902.png" alt="image-20220423115101874" style="zoom:50%;" />
<h5 id="ç»˜åˆ¶æ´"><a class="header-anchor" href="#ç»˜åˆ¶æ´">Â¶</a>ç»˜åˆ¶æ´</h5>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231153407.png" alt="image-20220423115324364" style="zoom:50%;" />
<p>è¿™ä¸ªåŠŸèƒ½çš„ä¸»è¦ä½œç”¨å°±æ˜¯åœ¨åœ°å½¢ä¸Šå‡¿ä¸€ä¸ªæ´ï¼Œå®é™…ä¸Šå°±æ˜¯åˆ é™¤éƒ¨åˆ†é¢</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231155437.png" alt="image-20220423115505393" style="zoom:50%;" />
<p>ç›´æ¥å»æ‰çš„æ˜¯è¿™å—åœ°å½¢æ¨¡å‹çš„é¢ï¼Œæ˜¾å¾—å¤ªè¿‡çªå…€ï¼Œéœ€è¦å±±æ´ä¹‹ç±»çš„æ¨¡å‹æ”¾ç½®è¿›æ¥è¿›è¡Œå¡«è¡¥å’Œå¹³æ»‘</p>
<h5 id="è®¾ç½®é«˜åº¦"><a class="header-anchor" href="#è®¾ç½®é«˜åº¦">Â¶</a>è®¾ç½®é«˜åº¦</h5>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231901737.png" alt="image-20220423190157690" style="zoom:50%;" />
<p>è¿™é‡Œç›¸å½“äºæ˜¯è®¾ç½®äº†ç»˜åˆ¶çš„é«˜åº¦ä¸Šé™ï¼Œæ¯”å¦‚è¯´æŠŠé«˜åº¦ä¿®æ”¹ä¸º100</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231903730.png" alt="image-20220423190345693" style="zoom:50%;" />
<p>é‚£ä¹ˆåœ¨å½“å‰çš„åœºæ™¯ä¸­ï¼Œæ‰€èƒ½å¤Ÿç»˜åˆ¶çš„æœ€å¤§é«˜åº¦å°±è¢«é™åˆ¶åœ¨äº†100ï¼Œäºæ˜¯å°±äº§ç”Ÿäº†è¿™æ ·ä¸€ä¸ªå¹³å°</p>
<p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½è¿›è¡Œé«˜åº¦é‡‡æ ·ï¼Œåªéœ€è¦åœ¨éœ€è¦å–æ ·çš„é«˜åº¦çš„ä½ç½®ç‚¹å‡»çš„åŒæ—¶æŒ‰ä½<code>Shift</code>ï¼Œå°±èƒ½å¤Ÿè¿›è¡Œé«˜åº¦å–æ ·ï¼Œæ­¤æ—¶é«˜åº¦å°±ä¼šè¢«é‡‡é›†åˆ°Heightçš„ä½ç½®</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231920037.png" alt="image-20220423192040985" style="zoom:50%;" />
<p>å¹¶ä¸”<code>Flatten Tile</code>å±•å¹³çš„åŠŸèƒ½ä¹Ÿè¾ƒä¸ºå¸¸ç”¨ï¼Œå¯ä»¥å°†å½“å‰åœ°å½¢çš„æ•´ä½“å¹³é¢å±•å¹³ï¼Œç„¶åè®¾ç½®åˆ°æŒ‡å®šçš„é«˜åº¦ï¼Œ<code>Flatten All</code>åˆ™å¯ä»¥å½±å“åˆ°å…¶ä»–ç›¸é‚»åœ°å½¢</p>
<p>è¿™ä¸ªæœ€ç»å¸¸ç”¨çš„åœºæ™¯å°±æ˜¯åœ¨åœ°å½¢ç»˜åˆ¶å‰ï¼Œè®¾ç½®æ•´ä½“çš„é«˜åº¦å°±æ¯”è¾ƒæ–¹ä¾¿æŒ–å‘ï¼Œç„¶åè®¾ç½®ä¸€äº›æ± å¡˜ã€æ¹–æ³Šç­‰ä½æ´¼åœ°å¸¦</p>
<h5 id="å¹³æ»‘åœ°å½¢"><a class="header-anchor" href="#å¹³æ»‘åœ°å½¢">Â¶</a>å¹³æ»‘åœ°å½¢</h5>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231929479.png" alt="image-20220423192951432" style="zoom:50%;" />
<p>ä¸»è¦ç”¨æ¥å¯¹äºåœ°å½¢è¿›è¡ŒæŠ›å…‰</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231934279.png" alt="image-20220423193432235" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204231935550.png" alt="image-20220423193536511" style="zoom:50%;" />
<p>åœ¨é¢æ¿ä¸­æœ‰ä¸€ä¸ªå¯ä»¥è°ƒèŠ‚æ¨¡ç³Šæ–¹å‘çš„å±æ€§ï¼Œé è¿‘-1ï¼Œå¯¹äºå±±å°–çš„å‰Šå¼±ä½œç”¨æ˜æ˜¾ï¼Œä¼šå˜ç§ƒï¼Œè€Œé è¿‘1ï¼Œå¯¹äºå±±å°–å‘¨å›´çš„å‰Šå¼±æ›´æ˜æ˜¾ï¼Œå±±å°–ä¼šæ›´å°–</p>
<h5 id="ç»˜åˆ¶çº¹ç†"><a class="header-anchor" href="#ç»˜åˆ¶çº¹ç†">Â¶</a>ç»˜åˆ¶çº¹ç†</h5>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232147045.png" alt="image-20220423214731006" style="zoom: 50%;" />
<p>è¿™ä¸ªè¿‡ç¨‹ç›¸å½“äºæ˜¯ç»™åœ°å½¢ä¸Šè‰²ï¼Œè¿™é‡Œç»™åœ°å½¢ä¸Šè‰²çš„è¿‡ç¨‹æ˜¯é€šè¿‡<strong>åœ°å½¢å±‚çº§</strong>å®Œæˆçš„ï¼Œæ¶‰åŠåˆ°æ ·å¼ã€ä¸Šè‰²å¾€å¾€ç¦»ä¸å¼€å±‚çº§çš„æ¦‚å¿µï¼Œç»˜ç”»çš„å°ä¼™ä¼´åº”è¯¥éƒ½æ·±æœ‰ä½“ä¼š</p>
<p>é¦–å…ˆï¼Œéœ€è¦å¿åˆ›å»ºä¸€ä¸ªå±‚çº§</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232156093.png" alt="image-20220423215643047" style="zoom:50%;" />
<p>æ­¤æ—¶ï¼Œé€‰ä¸­å¹¶æ·»åŠ äº†ä¸€ä¸ªå±‚</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232200373.png" alt="image-20220423220014320" style="zoom:50%;" />
<p>ç„¶åæ•´ä½“åœ°å½¢éƒ½ä¼šè¢«åº”ç”¨ä¸Šè¯¥çº¹ç†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232159842.png" alt="image-20220423215945794" style="zoom:50%;" />
<p>å½“ç„¶ï¼Œé€šå¸¸çš„çº¹ç†å±‚çº§éƒ½ä¸æ˜¯å•å±‚çš„ï¼Œå¾€å¾€ä¼šæœ‰å„ç§å†…å®¹ï¼Œæ¯”å¦‚å¯èƒ½è¿™é‡Œä¼šæœ‰å±±é—´å°é“</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232204421.png" alt="image-20220423220451374" style="zoom: 50%;" />
<p>è¿™ä¸ªæ—¶å€™å°±æ·»åŠ ä¸€ä¸ªå±±é—´å°é“çš„çº¹ç†å±‚çº§ï¼Œç”¨äºç»˜åˆ¶å°è·¯</p>
<blockquote>
<p><strong>æ³¨æ„</strong></p>
<p>è¿™é‡Œçš„å‡ ä¸ªå±‚é—´å¯ä»¥åƒè°ƒè‰²æ¿ä¸€æ ·è¿›è¡Œåˆ‡æ¢ï¼Œä½¿ç”¨ä¸åŒçš„çº¹ç†è¿›è¡Œç»˜åˆ¶</p>
</blockquote>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232320370.png" alt="image-20220423220719636" style="zoom:50%;" />
<h4 id="1-3-3-ç§æ ‘"><a class="header-anchor" href="#1-3-3-ç§æ ‘">Â¶</a>1.3.3. ç§æ ‘</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232214305.png" alt="image-20220423221402260" style="zoom:50%;" />
<p>åˆ‡æ¢åˆ°ç§æ ‘çš„Tabä¸‹ï¼Œç„¶åé€‰æ‹©æ ‘çš„æ¨¡å‹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232219682.png" alt="image-20220423221917635" style="zoom: 50%;" />
<p>è¿™é‡Œä½¿ç”¨èµ„æºåŒ…ä¸‹çš„å†…å®¹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232221866.png" alt="image-20220423222120826" style="zoom:50%;" />
<p>æ­¤æ—¶ï¼Œä¹Ÿæ˜¯å¯ä»¥é€‰æ‹©å¤šç§ç±»å‹è¿›è¡Œåˆ‡æ¢</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232222534.png" alt="image-20220423222242494" style="zoom:50%;" />
<p>åœ¨é¢æ¿çš„ä¸‹æ–¹ä¼šæœ‰å…³äºæ ‘çš„ä¸€äº›å±æ€§å¯ä»¥è°ƒèŠ‚ï¼Œç”±äºè¿™äº›æ ‘æ˜¯é€šè¿‡ç¬”åˆ·è¿›è¡Œç»˜åˆ¶çš„ï¼Œå› æ­¤ç‚¹ä¸€ä¸‹ä¼šç”Ÿæˆå¤šæ£µæ ‘ï¼Œå¯ä»¥é€šè¿‡è°ƒèŠ‚ç¬”åˆ·çš„å¤§å°å’Œæ ‘çš„å¯†åº¦ï¼Œæ§åˆ¶é—´è·å’Œç–å¯†ç¨‹åº¦</p>
<p>æ ‘æœ¨çš„é«˜åº¦ã€æ ‘æœ¨æ—‹è½¬çš„è§’åº¦ã€ä»¥åŠé¢œè‰²å¾€å¾€ç»™å®šä¸€ä¸ªèŒƒå›´ï¼Œç„¶ååœ¨æ­¤èŒƒå›´å†…è¿›è¡Œéšæœºç”Ÿæˆï¼Œè¿™æ ·å¾€å¾€æ˜¾å¾—æ›´åŠ è‡ªç„¶</p>
<p>æ ‘æœ¨çš„å®½é«˜æ¯”å¤šæ•°æƒ…å†µæƒ…å†µæ˜¯é”å®šçš„ï¼Œè¿™å…¶å®ä»£è¡¨ç”Ÿæˆçš„æ ‘åœ¨éšæœºç”Ÿæˆçš„è¿‡ç¨‹ä¸­ä¼´éšç€å°ºå¯¸çš„å˜åŒ–ï¼Œä¾ç„¶æ˜¯è¿›è¡Œç­‰æ¯”ä¾‹çš„ç¼©æ”¾ï¼Œå°†å…¶å–æ¶ˆå¯ä»¥ç”Ÿæˆä¸€äº›å®½é«˜æ¯”æ›´åŠ å¤šæ ·çš„æ ‘æœ¨çš„ç±»å‹ï¼Œè¿™ä¸ªå½“ç„¶è¿˜æ˜¯è§†è‡ªå·±çš„éœ€æ±‚è€Œå®š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232240115.png" alt="image-20220423224030055" style="zoom:50%;" />
<p>è¿™æ ·éå¸¸æ–¹ä¾¿åœ°ç”Ÿæˆäº†ä¸€ä¸ªå°æ ‘æ—</p>
<p>è€Œåœ¨è¿™æ ·çš„åœºæ™¯ä¸­æµè§ˆï¼Œå¯ä»¥ä½¿ç”¨é¼ æ ‡å³é”®æŒ‰ä½ï¼Œç„¶ååˆ©ç”¨<code>WASD</code>åœ¨åœºæ™¯ä¸­è¿›è¡Œç§»åŠ¨ï¼Œå¹¶ä¸”æŒ‰ä½<code>Shift</code>å¯ä»¥è¿›è¡Œç–¾è·‘ï¼Œåœ¨åƒåœ°å½¢è¿™ç§é¢ç§¯æ¯”è¾ƒå¤§çš„æ¨¡å‹ä¸­ä½¿ç”¨ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232246089.png" alt="image-20220423224604032" style="zoom:50%;" />
<p>å¦å¤–è¿˜æœ‰è¿™æ ·ä¸€ä¸ªæŒ‰é’®ï¼Œå¯ä»¥åœ¨å½“å‰çš„åœ°å½¢ç›´æ¥å¼„æ¥å¤§é‡çš„æ ‘ï¼Œè¿™ä¸ªé€šå¸¸ç”¨äºæ£®æ—åœºæ™¯çš„å¿«é€Ÿæ„å»ºï¼Œä¼šå¾ˆæ–¹ä¾¿</p>
<h4 id="1-3-4-ç»˜åˆ¶ç»†èŠ‚"><a class="header-anchor" href="#1-3-4-ç»˜åˆ¶ç»†èŠ‚">Â¶</a>1.3.4. ç»˜åˆ¶ç»†èŠ‚</h4>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232255927.png" alt="image-20220423225500885" style="zoom:50%;" />
<p>å¾€å¾€ç”¨æ¥ç»˜åˆ¶è‰çš®ï¼Œæ¯•ç«Ÿä¹‹å‰çš„çº¹ç†ä»…ä»…æ˜¯ä¸€å¼ å£çº¸</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232257384.png" alt="image-20220423225730343" style="zoom:50%;" />
<p>ç„¶åè¿™é‡Œé€‰æ‹©ä¸€ç§è‰çº¹ç†æ·»åŠ å¹¶ç»˜åˆ¶ï¼Œæ•´ä¸ªè¿‡ç¨‹å’Œæ ‘ä¼¼ä¹åŒºåˆ«ä¸å¤§</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232259258.png" alt="image-20220423225940207" style="zoom:50%;" />
<p>è¿™é‡Œä¸é€æ˜åº¦ä»£è¡¨çš„ä¾ç„¶æ˜¯ç¬”åˆ·çš„ç¡¬åº¦ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸€åˆ·ä¸‹å»çš„è‰çš„ç–å¯†æƒ…å†µï¼Œè€Œåä¸€ä¸ªå±æ€§ç›®æ ‡å¼ºåº¦ï¼Œå®é™…ä¸Šæ˜¯è®¾ç½®äº†ä¸€ä¸ªä¸Šé™ï¼Œæ„å‘³ç€æœ€ç»ˆçš„è‰çš„å¯†åº¦ä¸èƒ½å¤Ÿè¶…è¿‡å¤šå°‘ï¼Œæ¯”å¦‚è¯´æ‹¿ç€ç¬”åˆ·åœ¨åŒä¸€å—åœ°æ–¹åå¤åˆ·ï¼Œä¸ä¼šå¯¼è‡´è¯¥åŒºåŸŸçš„è‰è¿‡äºå¯†ï¼Œå…¶å®è¿™åº”è¯¥æ˜¯è€ƒè™‘åˆ°ä¸€ä¸ªç»˜åˆ¶è¿‡ç¨‹çš„ç®€åŒ–ï¼Œè¿™æ ·å°±å¯ä»¥éšä¾¿æ¶‚ï¼Œä¸ç”¨æ‹…å¿ƒç”»çš„ä¸å‡åŒ€ï¼Œå°±åƒåœ¨PSä¸­åˆ›å»ºæ–°çš„å›¾å±‚ä¸€æ ·ï¼Œä¸ç”¨æ‹…å¿ƒä¼šç”»è„å…¶ä»–éƒ¨åˆ†ï¼Œå¯ä»¥åœ¨è¯¥å›¾å±‚æ”¾è‚†æ¶‚è‰²ä¸€æ ·ï¼Œè¿˜æ˜¯å¾ˆå¥½ç”¨çš„ğŸ˜„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204232320968.png" alt="image-20220423230848664" style="zoom:50%;" />
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆå››ï¼‰</title>
    <url>/2023/03/05/%E6%80%8E%E4%B9%88%E5%AD%A6Unity%E5%BC%80%E5%8F%91%EF%BC%88%E5%9B%9B%EF%BC%89/</url>
    <content><![CDATA[<h1>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆå››ï¼‰</h1>
<h2 id="1-ç»„ä»¶ä»‹ç»"><a class="header-anchor" href="#1-ç»„ä»¶ä»‹ç»">Â¶</a>1. ç»„ä»¶ä»‹ç»</h2>
<p>ç»„ä»¶å¯¹åº”çš„å°±æ˜¯åŠŸèƒ½ï¼Œæ¯ä¸ªæ¸¸æˆç‰©ä½“éƒ½å¯ä»¥çœ‹ä½œæ˜¯ç©ºç‰©ä½“ + è‹¥å¹²ä¸ªå…·æœ‰ç‰¹å®šåŠŸèƒ½çš„ç»„ä»¶</p>
<h3 id="1-1-ç³»ç»Ÿé¢„ç½®ç»„ä»¶"><a class="header-anchor" href="#1-1-ç³»ç»Ÿé¢„ç½®ç»„ä»¶">Â¶</a>1.1. ç³»ç»Ÿé¢„ç½®ç»„ä»¶</h3>
<p>åœ¨ä»»æ„ä¸€ä¸ªæ¸¸æˆç‰©ä½“çš„æ£€æŸ¥å™¨é‡Œï¼Œå¯ä»¥æ‰¾åˆ°â€œæ·»åŠ ç»„ä»¶â€æŒ‰é’®ï¼Œé‡Œé¢çš„ç»„ä»¶å°±æ˜¯ç³»ç»Ÿæä¾›çš„é¢„ç½®ç»„ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204242247221.png" alt="image-20220424224739091" style="zoom:50%;" />
<h3 id="1-2-è‡ªè¡Œç¼–å†™çš„è„šæœ¬ç»„ä»¶"><a class="header-anchor" href="#1-2-è‡ªè¡Œç¼–å†™çš„è„šæœ¬ç»„ä»¶">Â¶</a>1.2. è‡ªè¡Œç¼–å†™çš„è„šæœ¬ç»„ä»¶</h3>
<p>å½“ç³»ç»Ÿæä¾›çš„ç»„ä»¶æ— æ³•æ»¡è¶³éœ€æ±‚æ—¶ï¼Œé€šå¸¸å°±éœ€è¦è‡ªå·±ç¼–å†™<code>C#è„šæœ¬</code>ä½œä¸ºè‡ªå®šä¹‰çš„ç»„ä»¶</p>
<h3 id="1-3-Transformç»„ä»¶"><a class="header-anchor" href="#1-3-Transformç»„ä»¶">Â¶</a>1.3. Transformç»„ä»¶</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204250801890.png" alt="image-20220425080151814" style="zoom:50%;" />
<p>æ— è®ºä»€ä¹ˆæ¸¸æˆå¯¹è±¡ï¼Œåœ¨å‡ºç”Ÿçš„æ—¶å€™éƒ½ä¼šè‡ªå¸¦ä¸€ä¸ª<code>Transform</code>ç»„ä»¶ï¼Œå³ä½¿æ˜¯ç©ºå¯¹è±¡ä¹Ÿæ˜¯å¦‚æ­¤</p>
<p><code>Tansform</code>ç»„ä»¶æè¿°äº†å½“å‰å¯¹è±¡åœ¨åœºæ™¯ä¸­çš„ä½ç½®ä»¥åŠå‘ˆç°çš„å§¿æ€ç­‰å±æ€§</p>
<h2 id="2-æ·»åŠ é¢„ç½®ç»„ä»¶"><a class="header-anchor" href="#2-æ·»åŠ é¢„ç½®ç»„ä»¶">Â¶</a>2. æ·»åŠ é¢„ç½®ç»„ä»¶</h2>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204250817541.png" alt="image-20220425081137453" style="zoom:50%;" /><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204250817909.png" alt="image-20220425081217966" style="zoom: 40%;" /></p>
<p>è¿™ä¸¤å¤„éƒ½å¯ä»¥è¿›è¡Œç»„ä»¶çš„æ·»åŠ </p>
<p>å…ˆå‡†å¤‡ä¸€ä¸ªç©ºç‰©ä½“ï¼Œç„¶ååŠ ä¸Šä¸€ä¸ª<code>Mesh Filter</code></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204250814923.png" alt="image-20220425081419891" style="zoom:50%;" />
<p>è¯¥ç»„ä»¶å¯ä»¥é€‰æ‹©ä¸€ç§ç½‘æ ¼çš„å¤–è§‚ç»™å½“å‰çš„æ¸¸æˆå¯¹è±¡ï¼Œè¿™é‡Œå¯ä»¥é€‰ä¸€ä¸ª<code>Sphere</code></p>
<p>ä½†æ˜¯ï¼Œä»…ä»…é€‰ä¸­ç½‘æ ¼ï¼Œæ²¡æœ‰æ¸²æŸ“å™¨å¹¶ä¸èƒ½å¤Ÿçœ‹è§ï¼Œå› æ­¤ç»§ç»­æ·»åŠ ä¸€ä¸ª<code>Mesh Renderer</code>ç»„ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204250817203.png" alt="image-20220425081711169" style="zoom:50%;" />
<p>è¿™æ ·ï¼Œå°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªç‰©ä½“äº†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292230286.png" alt="image-20220429223038164" style="zoom:33%;" />
<p>ä½†æ˜¯ï¼Œç°åœ¨æ²¡æœ‰ä¸ºå…¶æ·»åŠ æè´¨ï¼Œå› æ­¤çœ‹èµ·æ¥ä¸å…¶ä»–ç›´æ¥åˆ›å»ºçš„çƒåœ¨å¤–è§‚ä¸Šæœ‰äº›ä¸ä¸€æ ·ï¼Œè¿™é‡Œå¯ä»¥ç›´æ¥åˆ›å»ºä¸ªæè´¨åŠ ä¸Š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292232532.png" alt="image-20220429223247506" style="zoom:50%;" />
<p>è¿™é‡Œé€‰æ‹©è¿™ç§é»˜è®¤æè´¨ï¼Œä¸å¹³å¸¸åˆ›å»ºçš„å‡ ä½•ä½“ç”¨çš„æ˜¯åŒæ¬¾</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292234271.png" style="zoom:50%;" />
<p>è¿™æ ·ï¼Œåœ¨å¤–è§‚ä¸ŠåŸºæœ¬æ˜¯ä¿æŒä¸€è‡´äº†</p>
<h2 id="3-ç»„ä»¶çŠ¶æ€æ§åˆ¶"><a class="header-anchor" href="#3-ç»„ä»¶çŠ¶æ€æ§åˆ¶">Â¶</a>3. ç»„ä»¶çŠ¶æ€æ§åˆ¶</h2>
<p>åœ¨ä¸€äº›ç»„ä»¶çš„é¢æ¿ä¸Šï¼Œä¼šæœ‰è¿™ç§å¤é€‰æ¡†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292236553.png" alt="image-20220429223618505" style="zoom:50%;" />
<p>ç”¨æ¥è®¾ç½®å½“å‰ç»„ä»¶çš„<strong>å¯ç”¨æˆ–ç¦ç”¨</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292237235.png" alt="image-20220429223754185" style="zoom:50%;" />
<p>å¹¶ä¸”åœ¨æ¸¸æˆç‰©ä½“ä¸Šä¹Ÿæœ‰ä¸€ä¸ªå¤é€‰æ¡†ï¼Œç”¨äº<strong>è¡¨ç¤ºæ•´ä¸ªæ¸¸æˆç‰©ä½“çš„å¯ç”¨å’Œç¦ç”¨</strong>ï¼Œç»„ä»¶å½“ç„¶æ˜¯éš¶å±äºå¯¹åº”çš„æ¸¸æˆç‰©ä½“çš„</p>
<p>ä¸€æ—¦ç¦ç”¨ï¼Œæ¸¸æˆç‰©ä½“ä¼šè¢«ç½®ç°ï¼Œå¹¶ä¸”æ¶ˆå¤±åœ¨åœºæ™¯å½“ä¸­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292240970.png" alt="image-20220429224025924" style="zoom:50%;" />
<p>ç”±äºè¢«ç¦ç”¨ï¼Œå¤„äºä¸€ç§ä¸å¯é€‰ä¸­çš„çŠ¶æ€ä¸‹</p>
<h2 id="4-ç»„ä»¶çš„å¤åˆ¶ç²˜è´´"><a class="header-anchor" href="#4-ç»„ä»¶çš„å¤åˆ¶ç²˜è´´">Â¶</a>4. ç»„ä»¶çš„å¤åˆ¶ç²˜è´´</h2>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292246223.png" alt="image-20220429224628173" style="zoom:50%;" />
<p>å¯ä»¥é€šè¿‡å¤åˆ¶ç»„ä»¶ç»„ä»¶ä»ä¸€ä¸ªç‰©ä½“å¤åˆ¶åˆ°å¦ä¸€ä¸ªç‰©ä½“ä¸Š</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292251794.png" alt="image-20220429225109751" style="zoom:50%;" />
<p>ç„¶ååœ¨å¦ä¸€ä¸ªç‰©ä½“ä¸Šå°†ç»„ä»¶ç²˜è´´ä¸ºæ–°ç»„ä»¶ï¼Œè¿™æ ·ä¼šå°†å¤åˆ¶çš„ç»„ä»¶ä½œä¸ºä¸€ä¸ªæ–°çš„ç»„ä»¶æ·»åŠ åˆ°è¯¥ç‰©ä½“ä¸Š</p>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œå¦‚æœåœ¨åŸæ¥çš„ç‰©ä½“çš„ç»„ä»¶ä¸Šæ›´æ–°äº†å‚æ•°çš„å€¼ï¼Œæƒ³è¦å°†è¿™äº›å‚æ•°çš„å€¼æ›´æ–°çš„ç°åœ¨ç‰©ä½“å¯¹åº”çš„é‚£ä¸ªç»„ä»¶ä¸Šï¼Œå¯ä»¥åŒæ ·æ‰§è¡Œç»„ä»¶çš„å¤åˆ¶æ“ä½œï¼Œåªæ˜¯ç²˜è´´çš„æ­¥éª¤æœ‰æ‰€ä¸åŒ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292256809.png" alt="image-20220429225659762" style="zoom: 50%;" />
<p>åœ¨åˆ¤æ–­å‡ºç»„ä»¶ç›¸åŒçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥<strong>æ— éœ€å†åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶</strong>ï¼Œåªæ˜¯å°†ç»„ä»¶å¯¹åº”çš„å‚æ•°çš„å€¼æ›´æ–°çš„å½“å‰çš„ç»„ä»¶ä¸­</p>
<h2 id="5-æ·»åŠ è„šæœ¬ç»„ä»¶"><a class="header-anchor" href="#5-æ·»åŠ è„šæœ¬ç»„ä»¶">Â¶</a>5. æ·»åŠ è„šæœ¬ç»„ä»¶</h2>
<p>åˆ›å»ºè„šæœ¬ç»„ä»¶å¾€å¾€æ˜¯ç”±äºç³»ç»Ÿçš„ç»„ä»¶æ— æ³•æ»¡è¶³ä¸šåŠ¡çš„éœ€æ±‚ï¼Œåˆ›å»ºæ–¹å¼ä¹Ÿå¾ˆç®€å•</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292306640.png" alt="image-20220429230615612" style="zoom: 33%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292305344.png" alt="image-20220429230454215" style="zoom:50%;" />
<p>éƒ½å¯ä»¥ç›´æ¥æ–°å»ºæˆ–æ·»åŠ ä¸€ä¸ªè„šæœ¬ç»„ä»¶</p>
<p>åˆ›å»ºå®Œè„šæœ¬æ–‡ä»¶ä¹‹åå¯ä»¥åŒå‡»å…³è”ä¸€ä¸‹ï¼Œè¿™ä¸ªæ—¶å€™ä¼šè°ƒèµ·<code>Visual Studio</code>ï¼Œæ‰“å¼€å¯¹åº”çš„ç±»</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204292312892.png" alt="image-20220429231233829" style="zoom: 33%;" />
<blockquote>
<p>ç±»çš„åç§°è¦ç¡®ä¿ä¸è„šæœ¬æ–‡ä»¶çš„åç§°ä¸€è‡´ï¼Œå¦åˆ™ä¼šå‡ºé—®é¢˜ï¼Œåœ¨å¤–éƒ¨ä¿®æ”¹.csæ–‡ä»¶çš„åç§°æ—¶ï¼Œé‡Œé¢çš„ç±»åå¹¶ä¸ä¼šè·Ÿç€å˜ï¼Œå› æ­¤ä¸€å®šè¦æ³¨æ„**.csæ–‡ä»¶çš„åç§°éœ€è¦ä¸ç±»çš„åç§°ä¸€è‡´**</p>
</blockquote>
<h2 id="6-è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸ"><a class="header-anchor" href="#6-è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸ">Â¶</a>6. è„šæœ¬çš„ç”Ÿå‘½å‘¨æœŸ</h2>
<p>ç»ˆäºå¯ä»¥çœ‹ä»£ç äº†ï¼Œç›´æ¥æ‰“å¼€ä¹‹å‰çš„è„šæœ¬ç»„ä»¶å¯¹åº”çš„.csè„šæœ¬</p>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Hello</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update is called once per frame</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Update</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»¥ä¸Šæœ‰ä¸¤ä¸ªæœ€ä¸ºå¸¸ç”¨çš„å£°æ˜å‘¨æœŸæ–¹æ³•<code>Start()</code>å’Œ<code>Update()</code></p>
<p>ä¸ºäº†äº†è§£å…¶è°ƒç”¨ï¼Œéœ€è¦ä½¿ç”¨<code>Debug.Log()</code>æ–¹æ³•è¿›è¡Œæ—¥å¿—çš„è¾“å‡ºï¼Œåœ¨æ§åˆ¶å°ä¸Šæ‰“å°è°ƒè¯•ä¿¡æ¯ï¼Œä»¥æ­¤äº†è§£å£°æ˜å‘¨æœŸçš„è°ƒç”¨</p>
<h3 id="6-1-æ¦‚è§ˆ"><a class="header-anchor" href="#6-1-æ¦‚è§ˆ">Â¶</a>6.1. æ¦‚è§ˆ</h3>
<h4 id="Awake"><a class="header-anchor" href="#Awake">Â¶</a>Awake()</h4>
<figure class="highlight c#"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Awake</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    Debug.Log(<span class="string">&quot;Awake&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®é™…ä¸Šï¼Œ<code>Awake()</code>åœ¨ç”Ÿå‘½å‘¨æœŸä¸­ä¼šæ˜¯<strong>æœ€æ—©è¢«è°ƒç”¨çš„</strong>ï¼Œåƒæ˜¯åˆšåˆšå‡ºç”Ÿã€è‹é†’è¿‡æ¥ï¼Œå¹¶ä¸”ç”Ÿå‘½å‘¨æœŸå½“ä¸­<strong>ä»…è°ƒç”¨ä¸€æ¬¡</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301733210.png" alt="image-20220430173308088" style="zoom:50%;" />
<p>å¯ä»¥çœ‹åˆ°ï¼Œæ§åˆ¶å°ä¸­çš„æ‰“å°ä¿¡æ¯ï¼Œ<code>Awake()å…ˆäºStart()</code>è¾“å‡º</p>
<h4 id="OnEnable"><a class="header-anchor" href="#OnEnable">Â¶</a>OnEnable()</h4>
<p>ç»„ä»¶æ¿€æ´»åè°ƒç”¨ä¸€æ¬¡ï¼Œå¦‚æœç»„ä»¶å¤„äºå¯ç”¨ï¼Œåœ¨<code>Awake()</code>ä¹‹åä¼šè¢«è°ƒç”¨</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301752428.png" alt="image-20220430174958558" style="zoom:50%;" />
<p>ç”±äºå½“å‰çš„ç»„ä»¶å·²è¢«å¯ç”¨ï¼Œå› æ­¤åœ¨<code>Awake()</code>å’Œ<code>Start()</code>ä¹‹é—´æ’å…¥äº†<code>OnEnable()</code></p>
<h4 id="Start"><a class="header-anchor" href="#Start">Â¶</a>Start()</h4>
<p>åœ¨<code>OnEnable()</code>ä¹‹åè°ƒç”¨ï¼Œç”Ÿå‘½å‘¨æœŸä¸­<strong>åªè°ƒç”¨ä¸€æ¬¡</strong>ï¼Œé€šå¸¸å¤„ç†åˆå§‹åŒ–ç›¸å…³çš„æ“ä½œï¼Œä¼šåœ¨æ›´æ–°å‰è¢«è°ƒç”¨</p>
<h4 id="FixedUpdate"><a class="header-anchor" href="#FixedUpdate">Â¶</a>FixedUpdate()</h4>
<p>ä»¥å›ºå®šçš„æ—¶é—´é—´éš”è¿›è¡Œåˆ·æ–°ï¼Œè¿™ä¸ªé—´éš”å¯ä»¥åœ¨é¡¹ç›®è®¾ç½®ä¸­æ‰¾åˆ°</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301814342.png" alt="image-20220430181429298" style="zoom: 33%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301816573.png" alt="image-20220430181600540" style="zoom:50%;" />
<p>æ›´æ–°æ‰€å¤„çš„é˜¶æ®µæ˜¯åœ¨<code>Start()</code>ä¹‹åï¼Œæ¯éš”0.02sæ›´æ–°ä¸€æ¬¡ï¼Œè¿™ç§æ›´æ–°æ— å…³æ€§èƒ½ï¼Œåªæ˜¯<strong>å›ºå®šçš„æ—¶é—´é—´éš”</strong></p>
<h4 id="Update-å’ŒLateUpdate"><a class="header-anchor" href="#Update-å’ŒLateUpdate">Â¶</a>Update()å’ŒLateUpdate()</h4>
<p>è¿™ä¸¤ä¸ªæ–¹æ³•æ€»æ˜¯æ†ç»‘åœ¨ä¸€èµ·ï¼Œä¸æ€§èƒ½æœ‰å…³ï¼Œæ¯ä¸€å¸§è°ƒç”¨ä¸€æ¬¡ï¼Œæ—¶é—´é—´éš”é€šå¸¸ä¸ç­‰</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301849243.png" alt="image-20220430184932193" style="zoom:50%;" />
<p>å¯ä»¥å…³æ³¨åˆ°ï¼Œ<code>Update()</code>å’Œ<code>LateUpdate()</code>è°ƒç”¨äº†ç›¸åŒçš„æ¬¡æ•°ï¼Œ<code>LateUpdate()</code>æ€»æ˜¯è·Ÿåœ¨<code>Update()</code>çš„åé¢</p>
<h4 id="OnDisable"><a class="header-anchor" href="#OnDisable">Â¶</a>OnDisable()</h4>
<p>è¯¥çŠ¶æ€ä¸<code>OnEnable()</code>æ­£å¥½ç›¸åï¼Œä»£è¡¨ç»„ä»¶çš„ç¦ç”¨ï¼Œç»„ä»¶æ”¹å˜ç¦ç”¨çŠ¶æ€ä¹Ÿä¼šè§¦å‘<code>onEnale()</code>å’Œ<code>onDisable()</code>ä¹‹é—´çš„åˆ‡æ¢</p>
<h4 id="OnDestroy"><a class="header-anchor" href="#OnDestroy">Â¶</a>OnDestroy()</h4>
<p>ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸä¸­è°ƒç”¨çš„æœ€åä¸€ä¸ªæ–¹æ³•ï¼Œä»£è¡¨ç»„ä»·ç”Ÿå‘½çš„ç»ˆç»“</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204301936795.png" alt="image-20220430193619744" style="zoom:50%;" />
<p>å°†æ¸¸æˆç‰©ä½“ä»åœºæ™¯ä¸­åˆ é™¤ï¼Œä¾æ¬¡è§¦å‘<code>OnDisable()</code>å’Œ<code>OnDestroy()</code></p>
<h3 id="6-2-å¤šä¸ªè„šæœ¬çš„åœºæ™¯"><a class="header-anchor" href="#6-2-å¤šä¸ªè„šæœ¬çš„åœºæ™¯">Â¶</a>6.2. å¤šä¸ªè„šæœ¬çš„åœºæ™¯</h3>
<p>å¦‚æœæœ‰å¤šä¸ªè„šæœ¬åœ¨ç»„ä»¶ä¸Šï¼Œè¿™ä¸ªæ—¶å€™å¦‚æœéœ€è¦æ§åˆ¶æ‰§è¡Œçš„é¡ºåºåº”è¯¥æ€æ ·åšå‘¢ï¼Ÿ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302209466.png" alt="image-20220430220915425" style="zoom:50%;" />
<p>è¿™ä¸¤ä¸ªè„šæœ¬åªåšä¸€ä»¶äº‹ï¼šæ‰“å°ç”Ÿå‘½å‘¨æœŸï¼Œå¯ä»¥å‘ç°åœ¨ç¬¬ä¸€ä¸ªè„šæœ¬<code>onEnable()</code>ç»“æŸåï¼Œç¬¬äºŒä¸ªè„šæœ¬æ‰å¼€å§‹ï¼Œä½†æ˜¯å¯ä»¥å‘ç°ï¼Œéƒ½æ˜¯æ‰€æœ‰è„šæœ¬çš„<code>Awake()</code>ç»“æŸåï¼Œæ‰ä¼šå›è°ƒ<code>Start()</code>ï¼Œè„šæœ¬æ ¹æ®ç±»å‹å›è°ƒï¼Œå¯ä»¥è€ƒè™‘é€šè¿‡è¿™ä¸ªæ¥æ§åˆ¶é¡ºåº</p>
<p>é™¤æ­¤ä»¥å¤–ï¼Œå¦‚æœæƒ³è¦æ›´åŠ æœ‰æ¡ç†åœ°æ§åˆ¶è„šæœ¬çš„é¡ºåºï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©é¡¹ç›®è®¾ç½®é‡Œé¢çš„åŠŸèƒ½å¯¹æ‰§è¡Œé¡ºåºè¿›è¡Œæ§åˆ¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302220929.png" alt="image-20220430222007877" style="zoom:50%;" />
<p>å°†éœ€è¦æ§åˆ¶é¡ºåºçš„è„šæœ¬æ”¾å…¥å…¶ä¸­ï¼Œå³è¾¹æ•°å­—å°çš„å°±å…ˆæ‰§è¡Œï¼Œä¹Ÿå¯ç›´æ¥è¿›è¡Œæ‹–æ‹½ï¼Œä¸Šé¢çš„æ€»ä¼šæ˜¯æ•°å­—å°çš„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302234968.png" alt="image-20220430223443918" style="zoom:50%;" />
<p>ç„¶ååº”ç”¨å˜æ›´ï¼Œå°±èƒ½å¤ŸæŒ‰ç…§è®¾ç½®çš„é¡ºåºè¿›è¡Œæ‰§è¡Œ</p>
<h2 id="7-æ ‡è®°"><a class="header-anchor" href="#7-æ ‡è®°">Â¶</a>7. æ ‡è®°</h2>
<h3 id="7-1-åç§°æ ‡è®°"><a class="header-anchor" href="#7-1-åç§°æ ‡è®°">Â¶</a>7.1. åç§°æ ‡è®°</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302252391.png" alt="image-20220430225257342" style="zoom: 50%;" />
<p>é€šè¿‡è®¾ç½®æ ‡è®°ï¼Œæ–¹ä¾¿æ‰¾åˆ°ç‰©ä½“æˆ–åˆ†ç±»ï¼Œæ•ˆæœå°±åƒæ˜¯è¶…å¸‚è´§æ¶ä¸Šçš„å•†å“ä¸€æ ·</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302254673.png" alt="image-20220430225404622" style="zoom:50%;" />
<h3 id="7-2-æ ‡ç­¾"><a class="header-anchor" href="#7-2-æ ‡ç­¾">Â¶</a>7.2. æ ‡ç­¾</h3>
<p>ä¸»è¦ç”¨ä½œæ¸¸æˆç‰©ä½“çš„æ ‡è¯†ç¬¦ï¼Œå¯ä»¥æ–¹ä¾¿è„šæœ¬å¯¹æ¸¸æˆç‰©ä½“è¿›è¡Œè·å–ä»¥åŠåˆ¤æ–­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302257590.png" alt="image-20220430225712550" style="zoom:50%;" />
<p>ä¹Ÿå¯ä»¥æ·»åŠ å„ç§è‡ªå®šä¹‰çš„æ ‡ç­¾ï¼Œæ ‡ç­¾ä¸ä¸€å®šå”¯ä¸€ï¼Œä¹Ÿå¯èƒ½è¡¨ç¤ºä¸€ç±»å¯¹è±¡</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302300636.png" alt="image-20220430230002583" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302300191.png" alt="image-20220430230054148" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302301100.png" alt="image-20220430230131048" style="zoom:50%;" />
<h3 id="7-3-å›¾å±‚"><a class="header-anchor" href="#7-3-å›¾å±‚">Â¶</a>7.3. å›¾å±‚</h3>
<p>ç›¸è¾ƒäºæ ‡ç­¾ï¼Œå›¾å±‚ç›¸å½“äºç›´æ¥å°†æ¸¸æˆç‰©ä½“è¿›è¡Œ<strong>åˆ†ç»„</strong>ï¼ˆé€šå¸¸æ˜¯æ¯”è¾ƒé‡è¦çš„ç±»å‹ï¼‰</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302303965.png" alt="image-20220430230353924" style="zoom:50%;" />
<p>å¯ä»¥æ·»åŠ å›¾å±‚è¿›è¡Œæ¸¸æˆå¯¹è±¡åˆ†ç»„ï¼Œå‰å‡ å±‚ä¸€èˆ¬æ˜¯ç³»ç»Ÿä½¿ç”¨çš„ï¼Œé€šå¸¸åœ¨Layer6å¼€å§‹æ·»åŠ ï¼Œå¹¶ä¸”æœ€å¤šåˆ°Layer31</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302304802.png" alt="image-20220430230450759" style="zoom: 33%;" />
<p>åœ¨æ·»åŠ å®Œå›¾å±‚åï¼Œå¯ä»¥å°†éœ€è¦åˆ†åˆ°ä¸€èµ·çš„æ¸¸æˆå¯¹è±¡å¡åˆ°å¯¹åº”çš„å±‚ä¸­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302311975.png" alt="image-20220430231133906" style="zoom:50%;" />
<p>å›¾å±‚çš„ä¸€ä¸ªå¸¸ç”¨çš„åœºæ™¯åœ¨æ‘„åƒæœºå¯¹äºå†…å®¹çš„è¿‡æ»¤æ–¹é¢</p>
<img src="/Users/shenzhisheng/Library/Application Support/typora-user-images/image-20220430231252034.png" alt="image-20220430231252034" style="zoom:50%;" />
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œ<code>Culling Mask</code>æ˜¯Everythingï¼Œè¿™æ ·ä¼šæŠŠæ‰€æœ‰åœºæ™¯æ‹æ‘„åˆ°å…¶ä¸­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302318557.png" alt="image-20220430231827519" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302319083.png" alt="image-20220430231921038" style="zoom:50%;" />
<p>ä½†æ˜¯è¿™ä¸ªæ—¶å€™å¯¹äºå…¶ä¸­çš„å›¾å±‚è¿›è¡Œå–æ¶ˆé€‰æ‹©ï¼Œå¯¹åº”çš„æ¸¸æˆç‰©ä½“å°±ä¸ä¼šå‡ºç°åœ¨æ‘„åƒæœºçš„è§†é‡å½“ä¸­äº†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204302318181.png" alt="image-20220430231803129" style="zoom:50%;" />
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆäºŒï¼‰</title>
    <url>/2023/03/05/%E6%80%8E%E4%B9%88%E5%AD%A6Unity%E5%BC%80%E5%8F%91%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1>æ€ä¹ˆå­¦Unityå¼€å‘ï¼ˆäºŒï¼‰</h1>
<h2 id="1-èµ„æº"><a class="header-anchor" href="#1-èµ„æº">Â¶</a>1. èµ„æº</h2>
<p><code>Assets</code>ç›®å½•çš„æ–‡ä»¶å¯¹åº”å…³ç³»ï¼Œä¸æ–‡ä»¶æµè§ˆå™¨æ‰“å¼€çš„å†…å®¹æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œè¿™é‡Œå­˜æ”¾ç€æ•´ä¸ªæ¸¸æˆä¼šç”¨åˆ°çš„æ‰€æœ‰èµ„æº</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202240982.png" alt="image-20220420224006873" style="zoom: 50%;" />
<h3 id="1-1-å¯¼å…¥å¯¼å‡ºèµ„æº"><a class="header-anchor" href="#1-1-å¯¼å…¥å¯¼å‡ºèµ„æº">Â¶</a>1.1. å¯¼å…¥å¯¼å‡ºèµ„æº</h3>
<p>åœ¨<code>Assets</code>ä¸­é€‰ä¸­æ‰€æœ‰éœ€è¦å¯¼å‡ºçš„èµ„æºï¼Œå³é”®<code>Export Package</code></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202249388.png" alt="image-20220420224902345" style="zoom: 50%;" />
<p>å†æ¬¡ç¡®è®¤ä¸€ä¸‹å†…å®¹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202254549.png" alt="image-20220420225454508" style="zoom:50%;" />
<p>é€‰æ‹©åç§°ä»¥åŠå¯¼å‡ºçš„è·¯å¾„ï¼Œä¼šç”Ÿæˆå¦‚ä¸‹æ–‡ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202259377.png" alt="image-20220420225945340" style="zoom: 33%;" />
<p>å…ˆæŠŠèµ„æºæ–‡ä»¶å¤¹ä¸­åŸæ¥çš„æ–‡ä»¶åˆ äº†ï¼Œå¦åˆ™ç³»ç»Ÿæ£€æµ‹åˆ°å·²æœ‰æ˜¯ä¸ä¼šå†å¯¼çš„</p>
<p>ç„¶ååŒå‡»åˆšåˆšå¯¼å‡ºçš„æ–‡ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202302026.png" alt="image-20220420230253999" style="zoom: 33%;" />
<p>ç„¶åé€‰æ‹©æ–‡ä»¶ï¼Œå¯¼å…¥èµ„æº</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202304067.png" alt="image-20220420230415021" style="zoom:50%;" />
<p>é€šè¿‡å¯¼å…¥çš„æ–¹å¼ï¼Œè¿™äº›èµ„æºåˆå›æ¥äº†</p>
<h2 id="2-æè´¨æ¦‚è§ˆ"><a class="header-anchor" href="#2-æè´¨æ¦‚è§ˆ">Â¶</a>2. æè´¨æ¦‚è§ˆ</h2>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202320600.png" alt="image-20220420232048563" style="zoom:33%;" />
<p>é€‰ä¸­åœºæ™¯ä¸­çš„æŸä¸ªæ¸¸æˆå¯¹è±¡ï¼Œå¯ä»¥åœ¨<code>Inspector</code>é¢æ¿ä¸­çœ‹åˆ°å…¶å¯¹åº”çš„æè´¨</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204202322365.png" alt="image-20220420232217327" style="zoom:50%;" />
<p>é»˜è®¤æè´¨ä¸å¥½ä¿®æ”¹ï¼Œå› æ­¤å†åˆ›å»ºä¸€ä¸ªæ–°çš„æè´¨</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204210758820.png" alt="image-20220421075826776" style="zoom: 50%;" />
<p><code>Assets</code>ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæè´¨æ–‡ä»¶å¤¹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204210800676.png" alt="image-20220421080044642" style="zoom: 33%;" />
<p>ç›´æ¥å³å‡»ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æè´¨</p>
<p>â€‹	<img src="/Users/shenzhisheng/Library/Application Support/typora-user-images/image-20220421080243721.png" alt="image-20220421080243721" style="zoom:50%;" /></p>
<p>åˆ›å»ºå®Œæˆåå¯ä»¥è°ƒèŠ‚é¢œè‰²ï¼Œåœ¨å¤–ä¾§çš„è‰²ç¯ä¸Šè°ƒèŠ‚è‰²ç›¸ï¼Œç„¶åå†åœ¨å†…éƒ¨çš„æ–¹æ¡†ä¸­è°ƒèŠ‚æ˜æš—å’Œé¥±å’Œåº¦</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204210804023.png" alt="image-20220421080450997" style="zoom:50%;" />
<p>æ˜¾ç¤ºåœ¨åœºæ™¯ä¸­çš„ç‰©ä½“å®é™…ä¸Šéƒ½æ˜¯ç½‘æ ¼ä½“ï¼Œé€šè¿‡æè´¨ä¸ºå…¶ç€è‰²ï¼Œè€Œè´Ÿè´£ç€è‰²å·¥ä½œçš„ä¾¿æ˜¯<strong>ç€è‰²å™¨</strong></p>
<p>ä¹‹åå¯ä»¥é€šè¿‡ç¼–å†™è„šæœ¬ç¼–å†™è‡ªå·±çš„ç€è‰²å™¨</p>
<h2 id="3-å­¦ä¹ ä½¿ç”¨èµ„æºå•†åº—"><a class="header-anchor" href="#3-å­¦ä¹ ä½¿ç”¨èµ„æºå•†åº—">Â¶</a>3. å­¦ä¹ ä½¿ç”¨èµ„æºå•†åº—</h2>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212245790.png" style="zoom:50%;" />
<p><code>Asset Store</code>å°±æ˜¯Unityç»å¸¸ä¼šç”¨åˆ°çš„èµ„æºå•†åº—</p>
<p><a href="https://assetstore.unity.com">èµ„æºå•†åº—ï¼ˆhttps://assetstore.unity.comï¼‰</a></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212253500.png" alt="image-20220421225359456" style="zoom:67%;" />
<p>ä¸çŸ¥æ€ä¹ˆçš„ï¼Œçœ¼å‰ä¸€äº®</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212300160.png" alt="image-20220421230026115" style="zoom:50%;" />
<p>ç„¶åå†åœ¨ç™½å«–èµ„æºä¸­æ‰¾ä¸€ä¸ªå–œæ¬¢çš„ï¼Œæ¯”æ–¹è¯´è¿™ä¸ª</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212303902.png" alt="image-20220421230349862" style="zoom:50%;" />
<p>ç‚¹å‡»è¿›åˆ°è¯¦æƒ…é¡µ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212307306.png" alt="image-20220421230728264" style="zoom:67%;" />
<p>é€‰æ‹©â€æ·»åŠ è‡³æˆ‘çš„èµ„æºâ€ï¼Œä¸€ä¼šå„¿å°±å¯ä»¥å»åŒ…ç®¡ç†å™¨æ‰¾å®ƒäº†</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212313421.png" alt="image-20220421231319385" style="zoom:50%;" />
<p>æ‰¾åˆ°åˆšåˆšå•†åŸä¸‹é¢çš„åŒ…ç®¡ç†å™¨</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212314507.png" alt="image-20220421231434465" style="zoom:50%;" />
<p>æ‰“å¼€åé€‰æ‹©<code>My Assets</code>å°±å¯ä»¥æ‰¾åˆ°ä»å•†åŸæ·»åŠ çš„å„ç§èµ„æºï¼Œå¯ä»¥çœ‹åˆ°åˆšåˆšæ·»åŠ çš„èµ„æº</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212316437.png" alt="image-20220421231659402" style="zoom: 33%;" />
<p>ç„¶åç‚¹å‡»å³ä¸‹è§’è¿›è¡Œä¸‹è½½</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212326403.png" alt="image-20220421232615339" style="zoom:50%;" />
<p>ä¸‹è½½å®Œæˆåï¼Œå¯å°†èµ„æºå¯¼å…¥åˆ°é¡¹ç›®ä¸­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202204212327356.png" alt="image-20220421232746314" style="zoom: 33%;" />
<p>å‹¾é€‰éœ€è¦çš„å†…å®¹ï¼Œå¯¼å…¥çš„éƒ¨åˆ†å’Œä¹‹å‰ä¸€æ ·ï¼Œå°±ä¸é‡å¤æ“ä½œäº†</p>
]]></content>
      <categories>
        <category>Unity</category>
      </categories>
      <tags>
        <tag>æ¸¸æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æœºå™¨å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
    <url>/2023/06/02/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>æœºå™¨å­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1>
<p>åœ¨æ²¹ç®¡çœ‹äº† Andrew Ng çš„è¯¾ï¼Œå‘ç°çœŸæ­£çš„ä¸“å®¶å°±æ˜¯èƒ½å¤Ÿå°†æ™¦æ¶©éš¾æ‡‚çš„çŸ¥è¯†ç»“åˆç”Ÿæ´»çš„è¶£äº‹è®²å¾—æœ‰æ»‹æœ‰å‘³ï¼Œä¸æ¯«æ²¡æœ‰å¹³æ—¶å¬è¯¾çš„é‚£ç§å›°ä¹æ„Ÿï¼Œå› æ­¤æœ‰ç‚¹åƒè¿½å‰§ä¸€æ ·ä¸€è¿çœ‹äº†å¥½å‡ èŠ‚ï¼Œå£é½¿æ¸…æ¥šï¼ŒèŠ‚å¥ä¹ŸæŠŠæ¡å¾—å½“ï¼Œå°½ç®¡ä¸€èŠ‚åªå‡ åˆ†é’Ÿï¼Œä½†ç¡®å®æ˜¯å°†çŸ¥è¯†ç‚¹è®²æ¸…æ¥šäº†ï¼Œå¹²è´§æ»¡æ»¡ï¼Œåœ¨æ­¤æ•´ç†äº†ä¸€äº›æˆ‘ä¸ªäººå­¦ä¹ çš„ç¬”è®°å’Œæ€è€ƒ</p>
<h2 id="1-ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ "><a class="header-anchor" href="#1-ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ ">Â¶</a>1. ä»€ä¹ˆæ˜¯æœºå™¨å­¦ä¹ </h2>
<p>ä¸¤ç§ä¸»è¦çš„æœºå™¨å­¦ä¹ ï¼š</p>
<ul>
<li>ç›‘ç£å­¦ä¹ ï¼ˆsupervised learningï¼‰</li>
<li>æ— ç›‘ç£å­¦ä¹ ï¼ˆunsupervised learningï¼‰</li>
</ul>
<p><strong>ç›‘ç£å­¦ä¹ </strong>åœ¨ç°å®ä¸­çš„åº”ç”¨å¾ˆå¹¿æ³›</p>
<p>å¢å¼ºå­¦ä¹ ï¼ˆreinforcement learningï¼‰ï¼šå¦ä¸€ç§æœºå™¨å­¦ä¹ ç®—æ³•</p>
<blockquote>
<p>äº†è§£å¦‚ä½•è¿ç”¨å·¥å…·æ‰æ˜¯æœ€é‡è¦çš„</p>
</blockquote>
<h2 id="2-ç›‘ç£å­¦ä¹ "><a class="header-anchor" href="#2-ç›‘ç£å­¦ä¹ ">Â¶</a>2. ç›‘ç£å­¦ä¹ </h2>
<p>x -&gt; y</p>
<p>input -&gt; output label</p>
<p>ä»ç»™å®šçš„æ­£ç¡®ç­”æ¡ˆä¸­å­¦ä¹ ï¼ˆå³ç»™å®šxçš„æ­£ç¡®æ ‡ç­¾yï¼‰</p>
<p>ç®—æ³•é€šè¿‡å¯¹äºæ­£ç¡®çš„xã€yæ­é…å­¦ä¹ ï¼Œæœ€ç»ˆåœ¨åªè¾“å…¥xçš„æ—¶å€™ï¼Œå¯¹äºè¾“å‡ºyè¿›è¡Œé¢„æµ‹</p>
<table>
<thead>
<tr>
<th>Input(X)</th>
<th>Outout(Y)</th>
<th>Application</th>
</tr>
</thead>
<tbody>
<tr>
<td>email</td>
<td>spam?(0/1)</td>
<td>åƒåœ¾é‚®ä»¶è¿‡æ»¤å™¨</td>
</tr>
<tr>
<td>audio</td>
<td>text transcripts</td>
<td>è¯­éŸ³è¯†åˆ«</td>
</tr>
<tr>
<td>English</td>
<td>Spanish</td>
<td>æœºå™¨ç¿»è¯‘</td>
</tr>
<tr>
<td>adï¼Œuser info</td>
<td>click?(0/1)</td>
<td>åœ¨çº¿å¹¿å‘Š</td>
</tr>
<tr>
<td>imageï¼Œradar info</td>
<td>position of other cars</td>
<td>è‡ªåŠ¨é©¾é©¶æ±½è½¦</td>
</tr>
<tr>
<td>image of phone</td>
<td>defect?(0/1)</td>
<td>ç›®è§†æ£€æŸ¥</td>
</tr>
</tbody>
</table>
<p>ä¸»è¦ç®—æ³•ç±»å‹ï¼š</p>
<p>â‘ å›å½’ç®—æ³•(Regression)ï¼šä»æ— é™å¯èƒ½ä¸­è¿›è¡Œé¢„æµ‹ï¼ˆe.g. æˆ¿ä»·é¢„æµ‹ï¼‰</p>
<p>â‘¡åˆ†ç±»ç®—æ³•(Classification)ï¼š<mark>æœ‰é™ç§å¯èƒ½</mark>ï¼ˆe.g. ä¹³è…ºè‚¿ç˜¤é¢„æµ‹ï¼‰</p>
<h2 id="3-æ— ç›‘ç£å­¦ä¹ "><a class="header-anchor" href="#3-æ— ç›‘ç£å­¦ä¹ ">Â¶</a>3. æ— ç›‘ç£å­¦ä¹ </h2>
<p>ç»™å®šxçš„æ—¶å€™æ²¡æœ‰æ·»åŠ æ ‡ç­¾çš„yï¼Œå¯¹äºç»™å®šçš„æ•°æ®é›†ï¼Œä½¿ç”¨ç®—æ³•æ‰¾å‡ºå…¶ä¸­çš„ç‰¹ç‚¹æˆ–ç»“æ„ï¼Œè€Œä¸æ˜¯æ ‡è®°æ­£ç¡®çš„ç­”æ¡ˆ</p>
<p>ä½¿ç”¨ç®—æ³•å¯¹äºæœªè¢«æ ‡è®°çš„æ•°æ®åˆ†æˆç°‡ï¼ˆe.g. è°·æ­Œæ–°é—»ï¼ŒåŸºå› åˆ†ç±»ï¼Œå®¢æˆ·åˆ†ç±»ï¼‰</p>
<p><strong>èšç±»ç®—æ³•</strong>(Clustering)</p>
<p><strong>å¼‚å¸¸æ£€æµ‹</strong>(Anomaly detection)ï¼šæ‰¾åˆ°å¼‚å¸¸çš„ç‚¹</p>
<p><strong>é™ç»´</strong>(Dimensionality reduction)</p>
<h2 id="4-Jupyter-Notebooks"><a class="header-anchor" href="#4-Jupyter-Notebooks">Â¶</a>4. Jupyter Notebooks</h2>
<p>å½“å‰æµè¡Œçš„æ•°æ®ç§‘å­¦ä»¥åŠæœºå™¨å­¦ä¹ çš„å·¥å…·ï¼Œå¯ä»¥é…åˆä¸ŠNumpyã€Matplotlibç­‰å†…å®¹è¿›è¡Œæ•°æ®åˆ†æ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007835.png" alt="image-20230610195329309" style="zoom:50%;" />
<p>ä¸¤ç§<strong>Cell</strong>ï¼ŒåŒ…æ‹¬<strong>Markdown Cell</strong>å’Œ<strong>Code Cell</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007194.png" alt="image-20230610195512678"></p>
<h2 id="5-çº¿æ€§å›å½’"><a class="header-anchor" href="#5-çº¿æ€§å›å½’">Â¶</a>5. çº¿æ€§å›å½’</h2>
<p>çº¿æ€§å›å½’æ¨¡å‹</p>
<p>ç®€å•äº†è§£å¯ä»¥ä½¿ç”¨çº¿æ€§å›å½’å¤„ç†çš„é—®é¢˜</p>
<p>ä¾‹ï¼šæ ¹æ®æˆ¿å±‹çš„å¤§å°é¢„æµ‹æˆ¿å±‹çš„ä»·æ ¼</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102008960.png" alt="image-20230604225532002"></p>
<p>æ ¹æ®æ•°æ®ç”»å‡ºä¸€æ¡ç›´çº¿</p>
<p>è¿™æ˜¯ä¸€ç§<strong>ç›‘ç£å­¦ä¹ </strong>çš„æ¨¡å‹ï¼Œäº‹å…ˆç»™å‡ºçš„æ•°æ®é›†æ˜¯æ­£ç¡®çš„ç­”æ¡ˆï¼Œå³æˆå¯¹çš„xã€y</p>
<p><strong>å›å½’æ¨¡å‹</strong>æ˜¯ç”¨æ¥é¢„æµ‹æ•°å­—çš„ç›‘ç£å­¦ä¹ æ¨¡å‹ï¼Œå¤„ç†<strong>é¢„æµ‹å…·ä½“æ•°å€¼</strong>çš„<strong>å›å½’é—®é¢˜</strong></p>
<p>çº¿æ€§å›å½’æ¨¡å‹åªæ˜¯å›å½’æ¨¡å‹çš„ä¸€ç§</p>
<p>å¦ä¸€ç§æœ€å¸¸è§çš„<strong>ç›‘ç£å­¦ä¹ æ¨¡å‹</strong>æ˜¯<strong>åˆ†ç±»æ¨¡å‹</strong>ï¼Œç”¨äº<strong>é¢„æµ‹åˆ†ç±»å’Œç¦»æ•£åˆ†ç±»</strong></p>
<p><strong>å›å½’å’Œåˆ†ç±»æœ€å¤§çš„åŒºåˆ«</strong>åœ¨äºåˆ†ç±»åªä¼šæœ‰å°‘é‡çš„å¯èƒ½è¾“å‡ºç»“æœï¼Œè€Œå›å½’å¯èƒ½æœ‰æ— ç©·å¤šç§ç»“æœ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102008402.png" alt="image-20230604231046520"></p>
<p><strong>è®­ç»ƒé›†</strong>ï¼ˆtraining setï¼‰ï¼šç”¨äºè®­ç»ƒæ¨¡å‹çš„æ•°æ®é›†</p>
<p>é¦–å…ˆé€šè¿‡è¾“å…¥çš„è®­ç»ƒé›†è®­ç»ƒæ¨¡å‹ï¼Œç„¶åæ¨¡å‹æ ¹æ®ç‰¹å®šçš„å€¼è¿›è¡Œé¢„æµ‹</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ä»£è¡¨è¾“å…¥å˜é‡ï¼Œç§°ä¸º<strong>ç‰¹å¾</strong>(feature)æˆ–è€…<strong>è¾“å…¥ç‰¹å¾</strong> æ¯”å¦‚2104</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ä»£è¡¨è¾“å‡ºå˜é‡ï¼Œç§°ä¸º<strong>ç›®æ ‡</strong>  æ¯”å¦‚400</p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>ä»£è¡¨<strong>è®­ç»ƒæ ·æœ¬çš„æ€»æ•°</strong> è¿™é‡Œå°±æ˜¯47</p>
<p>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>)è¡¨ç¤ºä¸€ä¸ª<strong>å•ç‹¬çš„è®­ç»ƒæ ·æœ¬</strong>ï¼Œæ¯”å¦‚è¿™é‡Œçš„(2104, 400)</p>
<p>(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">x^{(i)}, y^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>)è¡¨ç¤º<strong>ç¬¬iä¸ªè®­ç»ƒæ ·æœ¬</strong></p>
<p>æ¯”å¦‚(2104, 400)å¯ä»¥è¡¨ç¤ºä¸º (<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">x^{(1)}, y^{(1)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>),1ä»£è¡¨çš„å…¶å®å°±æ˜¯è®­ç»ƒé›†çš„è¡Œ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102008242.png" alt="image-20230604233341600" style="zoom:50%;" />
<p>åœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œè®­ç»ƒé›†åŒ…å«è¾“å…¥çš„ç‰¹å¾ä»¥åŠè¾“å‡ºçš„ç›®æ ‡ï¼ˆæ­£ç¡®çš„ç»“æœï¼‰ï¼Œè¿™äº›ç”¨æ¥å–‚ç»™è®­ç»ƒç®—æ³•</p>
<p>ç„¶åè®­ç»ƒç®—æ³•äº§ç”Ÿä¸€ä¸ªå‡½æ•°ï¼Œä½¿ç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>è¡¨ç¤ºï¼Œå®ƒçš„èŒè´£æ˜¯é€šè¿‡è¾“å…¥ä¸€ä¸ªæ–°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œç„¶åé¢„æµ‹æˆ–è€…ä¼°è®¡ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.865em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> ï¼Œè¿™ä¸ªä»£è¡¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>çš„<strong>ä¼°è®¡å€¼æˆ–è€…é¢„æµ‹å€¼</strong></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>å°±è¢«ç§°ä¸º<strong>æ¨¡å‹</strong>ï¼ˆmodelï¼‰ï¼ŒXè¢«ç§°ä¸º<strong>è¾“å…¥ç‰¹å¾</strong>ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ä»£è¡¨çœŸå®çš„ç›®æ ‡ï¼Œç›´åˆ°çœŸæ­£å‘ç”Ÿæ‰ä¼šçŸ¥é“</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102008164.png" alt="image-20230607222641821" style="zoom:50%;" />
<p><strong>å…³é”®é—®é¢˜ï¼šæ€æ ·è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>?</strong></p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f_{w, b}(x) = wx + b
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>è¾“å…¥ä¸åŒçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œæ ¹æ®<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>çš„å–å€¼ï¼Œè¾“å‡ºä¸€äº›<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>çš„é¢„æµ‹å€¼</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306072234876.png" alt="image-20230607223450301" style="zoom:50%;" />
<p>å½“å‰è¿™ç§æ¥æ”¶<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>çš„è¡¨è¾¾ï¼Œä¹Ÿè¢«ç§°ä¸º<strong>å•å˜é‡çº¿æ€§å›å½’</strong>ï¼ˆunivariate linear regressionï¼‰</p>
<h2 id="6-æˆæœ¬å‡½æ•°ï¼ˆcost-functionï¼‰"><a class="header-anchor" href="#6-æˆæœ¬å‡½æ•°ï¼ˆcost-functionï¼‰">Â¶</a>6. æˆæœ¬å‡½æ•°ï¼ˆcost functionï¼‰</h2>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mi>x</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f_{w, b}(x) = wx + b
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>å¯¹äºè¿™ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>è€Œè¨€ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>å¯ä»¥ç§°ä¸ºè¯¥æ¨¡å‹çš„<strong>å‚æ•°</strong>ï¼ˆparameterï¼‰</p>
<p>é‚£ä¹ˆï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ç©¶ç«Ÿæ‰®æ¼”äº†ä»€ä¹ˆè§’è‰²ï¼Ÿ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306082244434.png" alt="image-20230608224404174" style="zoom:50%;" />
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306082248864.png" alt="image-20230608224828740"></p>
<p>å¯¹äºè®­ç»ƒé›†è€Œè¨€ï¼Œé‡Œé¢çš„ä»»æ„æ•°æ®å¯ä»¥ä½¿ç”¨(<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo separator="true">,</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">x^{(i)}, y^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>)è¡¨ç¤ºï¼Œé‚£ä¹ˆå¯ä»¥å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>è¿›è¡Œè½¬åŒ–</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\widehat{y}^{(i)} = f_{w, b}(x^{(i)})
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.1324em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.2241em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p>
<p>é€šè¿‡æ¨¡å‹ï¼Œæˆ‘ä»¬æƒ³è¦è¾“å…¥å…·ä½“çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œç»™å‡ºç›®æ ‡<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>çš„é¢„æµ‹å€¼ï¼Œå¹¶ä¸”ä½¿å…¶å°½å¯èƒ½æ¥è¿‘<strong>çœŸå®å€¼</strong></p>
<p>å¯¹äº<strong>çº¿æ€§å›å½’</strong>æ¥è¯´ï¼Œå¯ä»¥å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>è¿›ä¸€æ­¥è¡¨è¿°ä¸ºï¼š</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f_{w, b}(x^{(i)}) = wx^{(i)} + b
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.2241em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0213em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span></span></p>
<p>æ€æ ·æ‰¾åˆ°åˆé€‚çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ï¼Ÿè¿™å°±éœ€è¦æˆ‘ä»¬æ„é€ <strong>æˆæœ¬å‡½æ•°</strong>äº†</p>
<h3 id="æˆæœ¬å‡½æ•°çš„æ„é€ "><a class="header-anchor" href="#æˆæœ¬å‡½æ•°çš„æ„é€ ">Â¶</a>æˆæœ¬å‡½æ•°çš„æ„é€ </h3>
<ul>
<li>
<p>é¦–å…ˆï¼Œç”¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat{y}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.865em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span> - <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span>ï¼Œè¿™æ˜¯æ±‚å¾—é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„<strong>è¯¯å·®</strong></p>
</li>
<li>
<p>ç„¶åï¼Œå°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ï¼ˆ</mtext><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover><mo>âˆ’</mo><mi>y</mi><msup><mtext>ï¼‰</mtext><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">ï¼ˆ\widehat{y}- yï¼‰^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0085em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mord"><span class="mord cjk_fallback">ï¼‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span>çš„ç»“æœæ±‚å‡ºï¼Œè¿™å…¶å®æ˜¯<strong>æ–¹å·®</strong></p>
</li>
<li>
<p>ç„¶åè€ƒè™‘åˆ°è¦æ±‚æ¯ä¸€ç»„è®­ç»ƒæ ·æœ¬çš„æ–¹å·®ï¼Œé‚£ä¹ˆéœ€è¦é…åˆ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">(i)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">i</span><span class="mclose">)</span></span></span></span>è¿›è¡Œè¡¨ç¤º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>ï¼ˆ</mtext><msup><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ’</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><msup><mtext>ï¼‰</mtext><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">ï¼ˆ\widehat{y}^{(i)}- y^{(i)}ï¼‰^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord cjk_fallback">ï¼ˆ</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mord"><span class="mord cjk_fallback">ï¼‰</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
</li>
<li>
<p>æœ€ç»ˆæˆ‘ä»¬å°†æ‰€æœ‰çš„è®­ç»ƒæ ·æœ¬çš„æ–¹å·®æ±‚å’Œï¼Œå¹¶ä¸”ä¸ºäº†æ•°æ®ä¸ä¼šå¢é•¿è¿‡å¿«ï¼Œå†ä¹˜ä¸Š<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><mi>m</mi></mfrac></mstyle></mrow><annotation encoding="application/x-tex">\dfrac{1}{m}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.0074em;vertical-align:-0.686em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œä¸ºäº†åé¢è®¡ç®—æ›´ç®€ä¾¿ï¼Œå†é™¤ä»¥2</p>
</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>m</mi></mrow></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mo stretchy="false">(</mo><msup><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo>âˆ’</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">J(w, b) = \dfrac{1}{2m}\sum\limits_{i=1}^m(\widehat{y}^{(i)}- y^{(i)})^2
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span>æ˜¯è®­ç»ƒæ ·æœ¬çš„æ•°é‡</p>
<p>ä»¥ä¸Šä¾¿æ˜¯<strong>æˆæœ¬å‡½æ•°çš„å…¬å¼</strong></p>
<p>æˆ‘ä»¬å¯ä»¥å†å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\widehat{y}^{(i)}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0824em;vertical-align:-0.1944em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>æ›¿æ¢ä¸€ä¸‹</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><mn>1</mn><mrow><mn>2</mn><mi>m</mi></mrow></mfrac><munderover><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></munderover><mo stretchy="false">(</mo><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>âˆ’</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">                        J(w, b) = \dfrac{1}{2m}\sum\limits_{i=1}^m(f_{w, b}(x^{(i)})- y^{(i)})^2								
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">âˆ‘</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8641em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></p>
<h3 id="æˆæœ¬å‡½æ•°çš„æ¢ç´¢"><a class="header-anchor" href="#æˆæœ¬å‡½æ•°çš„æ¢ç´¢">Â¶</a>æˆæœ¬å‡½æ•°çš„æ¢ç´¢</h3>
<p>æˆ‘ä»¬çš„ä¸»è¦ç›®çš„å°±æ˜¯ä½¿å¾—è¯¯å·®å°½å¯èƒ½çš„å°</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><munder><mrow><mi>min</mi><mo>â¡</mo></mrow><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></munder><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\min_{w, b} J(w, b)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.6382em;vertical-align:-0.8882em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6679em;"><span style="top:-2.3479em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop">min</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.8882em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span></p>
<p>æ¥ä¸‹æ¥ï¼Œå…ˆä»ç®€å•çš„çº¿æ€§å›å½’å¼€å§‹äº†è§£</p>
<p>è®©b = 0ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>w</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>w</mi><mi>x</mi></mrow><annotation encoding="application/x-tex">f_w(x)=wx</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal">x</span></span></span></span></p>
<p>è¿™æ ·ï¼Œæˆ‘ä»¬çš„æˆæœ¬å‡½æ•°å¯ä»¥å†™æˆ   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo><mo>=</mo><mstyle displaystyle="true" scriptlevel="0"><mfrac><mn>1</mn><mrow><mn>2</mn><mi>m</mi></mrow></mfrac></mstyle><msubsup><mo>âˆ‘</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>m</mi></msubsup><mo stretchy="false">(</mo><msub><mi>f</mi><mi>w</mi></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><mo stretchy="false">)</mo><mo>âˆ’</mo><msup><mi>y</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">J(w) = \dfrac{1}{2m}\sum\limits_{i=1}^m(f_w(x^{(i)})- y^{(i)})^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.3291em;vertical-align:-0.9777em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3214em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathnormal">m</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3514em;"><span style="top:-2.1223em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span><span class="mop op-symbol small-op">âˆ‘</span></span></span><span style="top:-3.95em;margin-left:0em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">m</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9777em;"><span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1.138em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.888em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009159.png" alt="image-20230609223919653"></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009635.png" alt="image-20230609224808706" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009390.png" alt="image-20230609232529414" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009672.png" alt="image-20230609233221593" style="zoom:50%;" />
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>çš„å€¼å–å†³äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ï¼Œå› ä¸ºåœ¨<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>å½“ä¸­ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>æ˜¯ä¸€ä¸ªç¡®å®šä¸‹æ¥çš„å€¼ï¼Œè€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>ä¼šå˜åŒ–ï¼Œå¯¹åº”è¾“å…¥çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>æœ‰ä¸€ä¸ª<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>f</mi></mrow><annotation encoding="application/x-tex">f</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span></span></span></span>ä¸ä¹‹å¯¹åº”ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent="true"><mi>y</mi><mo stretchy="true">^</mo></mover></mrow><annotation encoding="application/x-tex">\widehat y</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.865em;vertical-align:-0.1944em;"></span><span class="mord accent"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.6706em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span><span class="svg-align" style="width:calc(100% - 0.1111em);margin-left:0.1111em;top:-3.4306em;"><span class="pstrut" style="height:3em;"></span><span style="height:0.24em;"><svg xmlns="http://www.w3.org/2000/svg" width='100%' height='0.24em' viewBox='0 0 1062 239' preserveAspectRatio='none'><path d='M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z'/></svg></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.1944em;"><span></span></span></span></span></span></span></span></span></p>
<p>è€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>çš„å€¼å–å†³äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span></p>
<p>ä»¥ä¸Šæè¿°çš„ä¾¿æ˜¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mi>w</mi></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_w(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ä¸<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>ä¹‹é—´çš„è”ç³»</p>
<h3 id="æˆæœ¬å‡½æ•°å¯è§†åŒ–"><a class="header-anchor" href="#æˆæœ¬å‡½æ•°å¯è§†åŒ–">Â¶</a>æˆæœ¬å‡½æ•°å¯è§†åŒ–</h3>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102010020.png" alt="image-20230610093951691"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009846.png" alt="image-20230610094344549"></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>çš„å½¢çŠ¶åƒä¸€ä¸ªè¶…çº§ç¢—ï¼Œæ ¹æ®ç»™å®šçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å˜åŒ–ï¼Œå› æ­¤æœ‰<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ä¸¤ä¸ªè½´ï¼Œä½“ç°çš„æ˜¯ä¸€ä¸ªä¸‰ç»´çš„å›¾å½¢</p>
<p>å¯ä»¥å°†<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>çš„å€¼çœ‹åšæ˜¯é«˜åº¦ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è¡¨ç¤ºä¸º<strong>ç­‰é«˜çº¿</strong>ï¼Œåœ¨åŒä¸€æ¡çº¿ä¸Šçš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>å€¼æ˜¯ç›¸ç­‰çš„</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009723.png" alt="image-20230610095027176"></p>
<p>å…¶å®ï¼Œå¦‚æœéœ€è¦æ±‚æœ€å°çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>ï¼Œå…¶å®å–å¾—å°±æ˜¯<strong>ç­‰é«˜çº¿çš„ä¸­å¿ƒ</strong>ï¼Œå¯¹åº”åˆ°3Dçš„è¶…çº§ç¢—ä¸Šï¼Œå…¶å®å°±æ˜¯ç¢—çš„åº•éƒ¨</p>
<h3 id="å¯è§†åŒ–æ¡ˆä¾‹"><a class="header-anchor" href="#å¯è§†åŒ–æ¡ˆä¾‹">Â¶</a>å¯è§†åŒ–æ¡ˆä¾‹</h3>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009211.png" alt="image-20230610100028179"></p>
<h2 id="7-æ¢¯åº¦ä¸‹é™"><a class="header-anchor" href="#7-æ¢¯åº¦ä¸‹é™">Â¶</a>7. æ¢¯åº¦ä¸‹é™</h2>
<p>æ¢¯åº¦ä¸‹é™ç®—æ³•å¯ä»¥ç”¨äºå°†ä»»ä½•çš„å‡½æ•°æœ€å°åŒ–ï¼Œè€Œä¸ä»…ä»…æ˜¯çº¿æ€§å›å½’çš„æˆæœ¬å‡½æ•°</p>
<p>æˆ‘ä»¬çš„ä¸»è¦ç›®æ ‡æ˜¯è·å–<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>çš„æœ€å°å€¼</p>
<p>åšæ³•ï¼š</p>
<ul>
<li>
<p>é¦–å…ˆè®¾ç½®åˆè¯†çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>ï¼ˆæ¯”å¦‚è¯´æŠŠå®ƒä»¬éƒ½è®¾ç½®æˆ0ï¼‰</p>
</li>
<li>
<p>æŒç»­æ›´æ¢<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>æ¥å‡å°<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w, b)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span>çš„å€¼ï¼ŒçŸ¥é“æˆ‘ä»¬è¾¾åˆ°æˆ–è€…æ¥è¿‘æœ€å°å€¼ï¼ˆå› ä¸ºå¯èƒ½ä¸æ­¢ä¸€ä¸ªæœ€å°å€¼ï¼‰</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009913.png" alt="image-20230610134416362"></p>
</li>
</ul>
<p>å¯ä»¥æƒ³è±¡ä½ äººç«™åœ¨å±±é¡¶çš„æŸå¤„ï¼Œè¿™å°±æ˜¯ä½ é€‰å®šçš„åˆå§‹ç‚¹ï¼Œç„¶åä½ éœ€è¦é€‰æ‹©ä¸€æ¡ä¸‹å±±æœ€å¿«çš„è·¯</p>
<p>è¿™ä¸ªæ—¶å€™ä½ åŸåœ°æ—‹è½¬ä¸€åœˆï¼Œæ‰¾åˆ°ä¸€ä¸ªæ–¹å‘(æœ€é™¡å³­)ï¼Œç„¶åè¿ˆä¸€æ­¥ï¼Œå†é‡å¤è½¬ä¸€åœˆï¼Œæ‰¾æœ€é™¡å³­çš„æ–¹å‘ï¼Œç„¶åä¸€æ­¥æ­¥èµ°åˆ°ä¸€ä¸ªä½è°·</p>
<p>ä½†æ˜¯ï¼Œå¦‚æœä½ å¼€å§‹çš„ä½ç½®ä¸åŒï¼Œä½ å¯èƒ½ä¼šæ²¿ç€å¦ä¸€ä¸ªæ–¹å‘èµ°è¿›å¦ä¸€ä¸ªä½è°·ï¼Œå¹¶ä¸”æ— æ³•å‘ç°å…¶ä»–çš„ä½è°·ï¼Œé‚£ä¹ˆè¿™æ˜¯æ¢¯åº¦ä¸‹é™ç®—æ³•çš„ä¸€ä¸ªç‰¹ç‚¹</p>
<p>è€Œè¿™äº›ä½è°·è¢«ç§°ä¸º<strong>å±€éƒ¨æœ€å°å€¼</strong>ï¼ˆlocal minimaï¼‰</p>
<h3 id="å®ç°æ¢¯åº¦ä¸‹é™"><a class="header-anchor" href="#å®ç°æ¢¯åº¦ä¸‹é™">Â¶</a>å®ç°æ¢¯åº¦ä¸‹é™</h3>
<p>é€’æ¨å¼ï¼ˆ<code>=</code>è¡¨ç¤ºèµ‹å€¼ï¼‰</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>w</mi><mo>=</mo><mi>w</mi><mo>âˆ’</mo><mi>Î±</mi><mfrac><mi mathvariant="normal">âˆ‚</mi><mrow><mi mathvariant="normal">âˆ‚</mi><mi>w</mi></mrow></mfrac><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">w = w - \alpha\frac{ \partial}{ \partial w } J(w, b)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span></p>
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>è¡¨ç¤º<strong>å­¦ä¹ ç‡</strong>ï¼ˆlearning rateï¼‰ï¼Œé€šå¸¸æ˜¯ä¸€ä¸ª0~1ä¹‹å®¶çš„æ­£æ•°ï¼Œç”¨äºæ§åˆ¶ä¸‹å±±çš„æ­¥ä¼çš„å¤§å°</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>b</mi><mo>=</mo><mi>b</mi><mo>âˆ’</mo><mi>Î±</mi><mfrac><mi mathvariant="normal">âˆ‚</mi><mrow><mi mathvariant="normal">âˆ‚</mi><mi>b</mi></mrow></mfrac><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">b = b - \alpha\frac{ \partial}{ \partial b } J(w, b)
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">b</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">âˆ’</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:2.0574em;vertical-align:-0.686em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mathnormal">b</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009088.png" alt="image-20230610145035726" style="zoom: 50%;" />
<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>æ˜¯åŒæ—¶æ›´æ–°çš„ï¼Œå› æ­¤åœ¨ç»™<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>èµ‹å€¼æ—¶ï¼ŒäºŒè€…éœ€è¦éƒ½è¢«æ›´æ–°</p>
<h3 id="æ¢¯åº¦ä¸‹é™çš„å¯¼æ•°"><a class="header-anchor" href="#æ¢¯åº¦ä¸‹é™çš„å¯¼æ•°">Â¶</a>æ¢¯åº¦ä¸‹é™çš„å¯¼æ•°</h3>
<p>ç®€åŒ–ä¸€ä¸‹ï¼Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi></mrow><annotation encoding="application/x-tex">J</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span></span></span></span>åªå’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>ç›¸å…³</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009003.png" alt="image-20230610171924743" style="zoom:50%;" />
<p>åœ¨æŸä¸ªç‚¹åšä¸€æ¡åˆ‡çº¿ï¼Œé‚£ä¹ˆè®¡ç®—è¿™ä¸ªç‚¹çš„æ­£å¼¦ï¼Œæˆ–è€…è¯´æ–œç‡ï¼Œä¾¿æ˜¯å¯¼æ•°çš„æ•°å€¼äº†</p>
<p>åœ¨ä¸Šå›¾çš„æ–¹å‘ä¸Šï¼Œæ–œç‡ä¸ºæ­£ï¼Œå› è€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å‡å»ä¸€ä¸ªæ­£å€¼ä¼šä¸æ–­å˜å°</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009664.png" alt="image-20230610172442256" style="zoom:50%;" />
<p>åœ¨è¿™ä¸ªä¾‹å­é‡Œé¢ï¼Œå–å¦ä¸€ä¸ªç‚¹ï¼Œæ­¤æ—¶æ–œç‡ä¸ºè´Ÿï¼Œå› è€Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>ä¼šä¸æ–­å¢å¤§</p>
<h3 id="æ¢¯åº¦ä¸‹é™çš„å­¦ä¹ ç‡"><a class="header-anchor" href="#æ¢¯åº¦ä¸‹é™çš„å­¦ä¹ ç‡">Â¶</a>æ¢¯åº¦ä¸‹é™çš„å­¦ä¹ ç‡</h3>
<p>ä¾ç„¶æ²¿ç”¨å…ˆå‰ç®€åŒ–çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>ï¼Œ ç°åœ¨æˆ‘ä»¬è€ƒè™‘å¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>å¾ˆå°ä¼šå‘ç”Ÿä»€ä¹ˆ</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009742.png" alt="image-20230610173531068" style="zoom: 67%;" />
<p>å€ŸåŠ©<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>å’Œ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>å…³ç³»çš„æ›²çº¿ï¼Œå¦‚æœé€‰å®šæŸä¸ªç‚¹ï¼Œç„¶åä¸€ç‚¹ç‚¹ï¼Œè¿ˆç€å©´å„¿çš„æ­¥ä¼ï¼Œæ…¢æ…¢åœ°ä¸‹é™ï¼Œé‚£ä¹ˆå½“ç„¶æœ€ç»ˆæ˜¯å¯ä»¥åˆ°è¾¾è°·åº•çš„ï¼Œä½†æ˜¯è¿™å´è¦è€—è´¹ç›¸å½“é•¿çš„æ—¶é—´</p>
<p>æ¢å¥è¯è¯´ï¼Œ<strong>æ¢¯åº¦çš„ä¸‹é™éå¸¸ç¼“æ…¢</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009069.png" alt="image-20230610174110028" style="zoom:67%;" />
<p>ä½†æ˜¯å¦‚æœ<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Î±</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.0037em;">Î±</span></span></span></span>å–å€¼å¤ªå¤§ï¼Œæœ‰å¯èƒ½å¯¼è‡´ä¸€æ­¥è·¨è¿‡æœ€å°å€¼ï¼Œè¿™åè€Œä¼šæ›´ç³Ÿ</p>
<p>é€šè¿‡åˆ¤æ–­å¯¼æ•°ä¸º0ï¼Œå¯ä»¥æ‰¾å‡ºå±€éƒ¨æœ€å°å€¼ç‚¹</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102009843.png" alt="image-20230610174528922" style="zoom:50%;" />
<p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>åˆ°è¾¾è¿™ç§ç‚¹æ—¶ï¼Œå¯¼æ•°ä¸º0ï¼Œå› æ­¤<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi></mrow><annotation encoding="application/x-tex">w</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span></span></span></span>çš„å€¼ä¸å†å˜åŒ–</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007695.png" alt="image-20230610174901038" style="zoom:50%;" />
<p>ä½¿ç”¨å›ºå®šçš„å­¦ä¹ ç‡ï¼Œå½“<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>J</mi><mo stretchy="false">(</mo><mi>w</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">J(w)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mclose">)</span></span></span></span>è¶Šæ¥è¶Šæ¥è¿‘æœ€å°å€¼çš„æ—¶å€™ï¼Œæ–œç‡ä¼šè¶Šæ¥è¶Šå°ï¼Œæ­¥å­ä¹Ÿä¼šè¶Šæ¥è¶Šå°</p>
<p>å› æ­¤ï¼Œå¯ä»¥åœ¨ä¿æŒå­¦ä¹ ç‡ä¸å˜çš„æƒ…å†µä¸‹ï¼Œé€æ¸æ¥è¿‘æœ€å°å€¼</p>
<h3 id="çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™"><a class="header-anchor" href="#çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™">Â¶</a>çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007652.png" alt="image-20230610192814999" style="zoom:50%;" />
<p>æ ¹æ®å…ˆå‰æ€»ç»“çš„é€’æ¨å¼ï¼Œå°†åŸå§‹çš„<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>f</mi><mrow><mi>w</mi><mo separator="true">,</mo><mi>b</mi></mrow></msub><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">f_{w,b}(x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1076em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mpunct mtight">,</span><span class="mord mathnormal mtight">b</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span>ä»£å…¥è¿›è¡ŒåŒ–ç®€</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007061.png" alt="image-20230610193730759" style="zoom:50%;" />
<p>ç”±äºçº¿æ€§å›å½’çš„æˆæœ¬å‡½æ•°æ˜¯ä¸€ä¸ª<strong>å‡¸å‡½æ•°</strong>ï¼Œå› æ­¤çš„å®ƒçš„å½¢çŠ¶æ˜¯ç¢—çŠ¶çš„ï¼Œ<strong>åªä¼šæœ‰ä¸€ä¸ªå…¨å±€æœ€å°å€¼</strong></p>
<p>å› æ­¤ï¼Œåªè¦å­¦ä¹ ç‡é€‰æ‹©æ°å½“ï¼Œæ€»æ˜¯èƒ½å¤Ÿæ‰¾åˆ°å®ƒçš„æœ€å°å€¼</p>
<h3 id="åº”ç”¨æ¢¯åº¦ä¸‹é™"><a class="header-anchor" href="#åº”ç”¨æ¢¯åº¦ä¸‹é™">Â¶</a>åº”ç”¨æ¢¯åº¦ä¸‹é™</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306102007702.png" alt="image-20230610194432187" style="zoom:50%;" />
<p><strong>æ‰¹æ¢¯åº¦ä¸‹é™</strong>ï¼šæ¢¯åº¦ä¸‹é™ä¸­çš„æ¯ä¸€æ­¥éƒ½éœ€è¦æ£€æŸ¥æ‰€æœ‰çš„æ ·æœ¬ï¼Œè€Œä¸æ˜¯æ ·æœ¬çš„å­é›†</p>
]]></content>
      <categories>
        <category>äººå·¥æ™ºèƒ½</category>
      </categories>
      <tags>
        <tag>äººå·¥æ™ºèƒ½</tag>
      </tags>
  </entry>
  <entry>
    <title>è§†å›¾ç»‘å®š</title>
    <url>/2023/03/05/%E8%A7%86%E5%9B%BE%E7%BB%91%E5%AE%9A/</url>
    <content><![CDATA[<h1>ViewBinding</h1>
<h2 id="1-å‡†å¤‡å·¥ä½œ"><a class="header-anchor" href="#1-å‡†å¤‡å·¥ä½œ">Â¶</a>1. å‡†å¤‡å·¥ä½œ</h2>
<p>é¦–å…ˆéœ€è¦åœ¨æ¨¡å—ä¸­å¯ç”¨â€œè§†å›¾ç»‘å®šâ€ï¼Œåœ¨æ¨¡å—å¯¹åº”çš„<code>build.gradle</code>ä¸­æ·»åŠ é…ç½®</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    compileSdk <span class="number">32</span></span><br><span class="line"></span><br><span class="line">    viewBinding &#123;</span><br><span class="line">        enabled = <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>ç„¶åé¡¹ç›®å°±ä¸‹è½½äº†å¯¹åº”ä¾èµ–</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/WechatIMG9.png" alt="WechatIMG9"></p>
<p>å¯ç”¨å®Œæˆåï¼Œç³»ç»Ÿä¼šä¸ºè¯¥æ¨¡å—ä¸‹çš„æ‰€æœ‰å¸ƒå±€XMLæ–‡ä»¶ç”Ÿæˆä¸€ä¸ª<strong>ä¸ä¹‹å¯¹åº”çš„ç»‘å®šç±»</strong></p>
<br/>
<h2 id="2-ç»‘å®šç±»"><a class="header-anchor" href="#2-ç»‘å®šç±»">Â¶</a>2. ç»‘å®šç±»</h2>
<p>å¸ƒå±€XMLä¸­ä¼šæœ‰ä¸€äº›ç»„ä»¶è®¾ç½®idå±æ€§ï¼Œè¿™äº›å±æ€§åœ¨å¯¹åº”çš„ç»‘å®šç±»ä¸­å¯ä»¥ç›´æ¥é€šè¿‡idæ¥è·å–ï¼Œè¿™äº›æ§ä»¶ç›¸å½“äºç±»çš„æˆå‘˜ï¼Œæ ¹ç»„ä»¶å’Œå…¶ä»–æœ‰idçš„ç»„ä»¶çš„å¼•ç”¨éƒ½åŒ…å«å…¶å®ä¾‹ä¹‹ä¸­</p>
<br/>
<h3 id="2-1-å‘½åæ–¹å¼"><a class="header-anchor" href="#2-1-å‘½åæ–¹å¼">Â¶</a>2.1. å‘½åæ–¹å¼</h3>
<p>ç»‘å®šç±»ä¼šä»¥â€œBindingâ€ç»“å°¾ï¼Œé‡‡ç”¨å¤§é©¼å³°</p>
<h3 id="2-2-æ ¹è§†å›¾"><a class="header-anchor" href="#2-2-æ ¹è§†å›¾">Â¶</a>2.2. æ ¹è§†å›¾</h3>
<p>å¯ä»¥é€šè¿‡<code>getRoot()</code>è·å–å¯¹äºå¸ƒå±€æ–‡ä»¶ä¸­æ ¹è§†å›¾çš„å¼•ç”¨</p>
<br/>
<h2 id="3-ä½¿ç”¨"><a class="header-anchor" href="#3-ä½¿ç”¨">Â¶</a>3. ä½¿ç”¨</h2>
<h3 id="3-1-Activityä¸­"><a class="header-anchor" href="#3-1-Activityä¸­">Â¶</a>3.1. Activityä¸­</h3>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: ActivityMainBinding</span><br><span class="line"></span><br><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        <span class="comment">// è°ƒç”¨ç»‘å®šç±»çš„inflateé™æ€æ–¹æ³•ï¼Œå¯¹è±¡å®ä¾‹åŒ–</span></span><br><span class="line">        binding = ActivityMainBinding.inflate(layoutInflater)</span><br><span class="line">        <span class="comment">// è·å–æ ¹å¸ƒå±€</span></span><br><span class="line">        <span class="keyword">val</span> view = binding.root</span><br><span class="line">        setContentView(view)</span><br><span class="line">    &#125;    </span><br></pre></td></tr></table></figure>
<p>ç„¶åå°±å¯ä»¥é€šè¿‡ç»‘å®šç±»çš„å®ä¾‹å»æ“ä½œå¸ƒå±€æ–‡ä»¶</p>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line">binding.run &#123;</span><br><span class="line">            ivLogo.setImageResource(R.drawable.ic_launcher_background)</span><br><span class="line">            tvContent.setText(R.string.app_name)</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-2-Fragmentä¸­"><a class="header-anchor" href="#3-2-Fragmentä¸­">Â¶</a>3.2. Fragmentä¸­</h3>
<figure class="highlight kotlin"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> binding: FragmentBlankBinding</span><br><span class="line"></span><br><span class="line"> <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreateView</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        inflater: <span class="type">LayoutInflater</span>, container: <span class="type">ViewGroup</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        savedInstanceState: <span class="type">Bundle</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: View &#123;</span><br><span class="line">        binding = FragmentBlankBinding.inflate(inflater, container, <span class="literal">false</span>)</span><br><span class="line">        <span class="keyword">return</span> binding.root</span><br><span class="line">    &#125;   </span><br></pre></td></tr></table></figure>
<p>åŒæ ·å¾—åˆ°äº†å¸ƒå±€æ–‡ä»¶ç»‘å®šç±»çš„å®ä¾‹ï¼Œç„¶åå¯ä»¥ä½¿ç”¨å…¶ä¸­çš„å¼•ç”¨å»æ“ä½œå¸ƒå±€ä¸­çš„ç»„ä»¶</p>
<p><strong>åœ¨Fragmentä¸­ï¼Œç”±äºå…¶è§†å›¾çš„ç”Ÿå‘½å‘¨æœŸçŸ­äºFragmentè‡ªèº«çš„ç”Ÿå‘½å‘¨æœŸï¼Œå› æ­¤éœ€è¦åœ¨<code>onDestroyView()</code>ä¸­æ¸…é™¤å¯¹ç»‘å®šç±»å®ä¾‹çš„å¼•ç”¨</strong></p>
]]></content>
      <categories>
        <category>Android</category>
      </categories>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼â€”â€”å…­å¤§åŸåˆ™</title>
    <url>/2023/03/05/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E2%80%94%E2%80%94%E5%85%AD%E5%A4%A7%E5%8E%9F%E5%88%99/</url>
    <content><![CDATA[<h1>è®¾è®¡æ¨¡å¼â€”â€”å…­å¤§åŸåˆ™</h1>
<h2 id="1-å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle-Responsibility-Principleï¼ŒSRPï¼‰"><a class="header-anchor" href="#1-å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle-Responsibility-Principleï¼ŒSRPï¼‰">Â¶</a>1. å•ä¸€èŒè´£åŸåˆ™ï¼ˆSingle Responsibility Principleï¼ŒSRPï¼‰</h2>
<blockquote>
<p>å®šä¹‰ï¼šå°±ä¸€ä¸ªç±»è€Œè¨€ï¼Œåº”è¯¥<strong>ä»…æœ‰ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŸå› </strong></p>
</blockquote>
<p>ç¨‹åºæœ€ç»ˆæœŸæœ›å®ç°çš„æ˜¯<strong>é«˜å†…èšï¼Œä½è€¦åˆ</strong>ï¼Œè€Œå†…èšå°±ä½“ç°åœ¨è¿™é‡Œ</p>
<p>å°±åƒä¸€ä¸ªå›¢ä½“ä¸€æ ·ï¼Œæ—¢ç„¶èµ‹äºˆäº†å®ƒå§“åï¼Œé‚£ä¹ˆå‚ä¸è€…ä»¬å°±éƒ½æœ‰ç€ç›¸ä¼¼çš„ç‰¹å¾ï¼Œå¹¶ä¸”å†…éƒ¨çš„è®¾æ–½éƒ½æ˜¯ä¸ºæ­¤è€ŒæœåŠ¡çš„</p>
<p>æ‹¿è¶³çƒä¿±ä¹éƒ¨ä¸¾ä¸ªä¾‹å­ï¼Œå…¶å®å¯ä»¥æŠŠå®ƒå½“æˆæ˜¯ä¸€ä¸ªç±»ï¼Œé‚£ä¹ˆé‡Œé¢çš„äººï¼Œå¯ä»¥çœ‹åšæ˜¯ç±»çš„æˆå‘˜ï¼Œæ¯”å¦‚ï¼šçƒå‘˜ã€æ•™ç»ƒã€é˜ŸåŒ»ã€å¸æœº</p>
<p>è€Œå„ç§è®¾æ–½ä¹Ÿæ˜¯å›´ç€çƒé˜Ÿå·¥ä½œï¼Œå¯ä»¥æŠŠå®ƒä»¬å½“åšæ˜¯ç±»çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šçƒåœºé›†ä½“è®­ç»ƒã€å¥èº«æˆ¿å¼ºåŒ–é”»ç‚¼ã€æ›´è¡£å®¤å†²æ¾¡è¿™äº›éƒ½æ˜¯ä¸ºè¿™ä¸ªæ•´ä½“æœåŠ¡ï¼Œä¸è¶³çƒä¿±ä¹éƒ¨è¿™ä¸ªé›†ä½“ç´§å¯†ç›¸å…³</p>
<p>å› æ­¤ï¼Œåœ¨<strong>ä»£ç å±‚é¢ä¸Šçš„è¡¨ç°</strong>å°±æ˜¯ï¼šè¿™ä¸ªç±»æœ‰ç€<strong>ç›¸å…³æ€§å¾ˆé«˜çš„å‡½æ•°ï¼ˆMethodï¼‰ä»¥åŠæ•°æ®ï¼ˆFieldï¼‰</strong></p>
<p>ç„¶è€Œ<strong>ç›¸å…³æ€§è¿™ä¸€ç‚¹å…¶å®ç•Œé™å¾ˆæ¨¡ç³Š</strong>ï¼Œå› æ­¤è¿™å¾€å¾€å°±ä¾èµ–äºå¼€å‘è€…è‡ªèº«ç†è§£å’Œå·¥ä½œç»éªŒäº†ï¼ˆï¼‰</p>
<h2 id="2-å¼€é—­åŸåˆ™ï¼ˆOpen-Close-Principleï¼ŒOCPï¼‰"><a class="header-anchor" href="#2-å¼€é—­åŸåˆ™ï¼ˆOpen-Close-Principleï¼ŒOCPï¼‰">Â¶</a>2. å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼ŒOCPï¼‰</h2>
<p>è¿™æ˜¯Javaä¸–ç•Œé‡Œ<strong>æœ€åŸºç¡€</strong>çš„è®¾è®¡åŸåˆ™</p>
<blockquote>
<p>å®šä¹‰ï¼šè½¯ä»¶ä¸­çš„å¯¹è±¡ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”å¯¹äºæ‰©å±•å¼€æ”¾ï¼Œä½†æ˜¯å¯¹äºä¿®æ”¹æ˜¯å°é—­çš„</p>
</blockquote>
<p>æˆ‘è®¤ä¸ºï¼Œè¿™å¯ä»¥ç†è§£æˆå¯¹ç°æœ‰çš„é€»è¾‘ä»£ç çš„ä¸€ç§ä¿æŠ¤ï¼Œå› ä¸ºç°æœ‰åŠŸèƒ½æ˜¯ç¨³å®šçš„ï¼ŒåæœŸçš„ä¿®æ”¹åº”å½“å°½é‡é¿å…å¼•å…¥æ–°çš„é—®é¢˜</p>
<p>å½“ç„¶ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šï¼Œè¿™ä¹Ÿæ˜¾å¾—è¾ƒä¸ºç†æƒ³åŒ–ï¼Œå®é™…çš„å¼€å‘è¿‡ç¨‹å´éš¾å…ä¼šå› äº§å“å¿«é€Ÿè¿­ä»£ä¸å˜æ›´éœ€è¦ä¿®æ”¹åŸæœ‰å†…å®¹</p>
<p>å› æ­¤ï¼Œåœ¨ä»£ç å±‚é¢ä¸ºé¿å…å¼•å…¥æ›´å¤šçš„é—®é¢˜ï¼Œå¯ä»¥å°½é‡é€‰æ‹©æ‰©å±•ï¼Œä¹Ÿæ–¹ä¾¿ä»–äººå¯¹å·²æœ‰å†…å®¹è¿›è¡Œå®ç°</p>
<h2 id="3-é‡Œå¼æ›¿æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Pricipleï¼ŒLSPï¼‰"><a class="header-anchor" href="#3-é‡Œå¼æ›¿æ¢åŸåˆ™ï¼ˆLiskov-Substitution-Pricipleï¼ŒLSPï¼‰">Â¶</a>3. é‡Œå¼æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Pricipleï¼ŒLSPï¼‰</h2>
<blockquote>
<p>å®šä¹‰ï¼šæ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡</p>
</blockquote>
<p>é‡Œæ°æ›¿æ¢åŸåˆ™ä¸»è¦å°±æ˜¯ä¾èµ–äºé¢å‘å¯¹è±¡è¯­è¨€ä¸‰å¤§ç‰¹æ€§ä¸­çš„<strong>ç»§æ‰¿ä¸å¤šæ€</strong></p>
<p>ç®€å•ç‚¹è¯´ï¼Œå°±æ˜¯çˆ¶ç±»å‡ºç°çš„åœ°æ–¹ç»Ÿç»Ÿå¯ä»¥ä½¿ç”¨å…¶å­ç±»è¿›è¡Œæ›¿ä»£ï¼Œå¹¶ä¸”èƒ½å¤Ÿæ­£å¸¸å·¥ä½œ</p>
<p>æœ‰ç‚¹å‰äººæ ½æ ‘ï¼Œåäººä¹˜å‡‰çš„æ„å‘³</p>
<p>è€Œé‡Œæ°æ›¿æ¢åŸåˆ™çš„æ ¸å¿ƒåˆ™æ˜¯<strong>æŠ½è±¡</strong></p>
<p>ä»…ä»…éœ€è¦å¯¹åº”çš„å¯¹è±¡æœ€ä½é™åº¦å•Šæ»¡è¶³å®ƒçš„èŒè´£ï¼ˆæ¥å£æˆ–æŠ½è±¡ç±»çš„å®šä¹‰ï¼‰</p>
<p><strong>ä¼˜ç‚¹ï¼š</strong></p>
<ul>
<li>ä»£ç é‡ç”¨ï¼Œå‡å°‘åˆ›å»ºç±»çš„æˆæœ¬ï¼Œæ¯ä¸ªå­ç±»éƒ½æ‹¥æœ‰çˆ¶ç±»çš„æ–¹æ³•å’Œå±æ€§</li>
<li>å­ç±»æ»¡è¶³ä¸çˆ¶ç±»çš„å…±æ€§ï¼ŒåŒæ—¶åˆæ‹¥æœ‰è‡ªèº«çš„ä¸ªæ€§</li>
<li>æé«˜äº†ä»£ç çš„å¯æ‰©å±•æ€§</li>
</ul>
<p><strong>ç¼ºç‚¹ï¼š</strong></p>
<ul>
<li>ç»§æ‰¿æ˜¯ä¾µå…¥æ€§çš„ï¼Œåªè¦ç»§æ‰¿å°±å¿…é¡»æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</li>
<li>å­ç±»ä»£ç å¯èƒ½å†—ä½™ï¼Œçµæ´»æ€§ä¸‹é™ï¼Œå› ä¸ºä¸å¯é¿å…åœ°æ‹¥æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•</li>
</ul>
<p>é‡Œæ°æ¥å£æ›¿æ¢åŸåˆ™å¾€å¾€å’Œå¼€é—­åŸåˆ™ç´§å¯†ç›¸å…³ï¼Œå¾ˆå¥½åœ°æ”¯æŒå¤–éƒ¨è‡ªå®šä¹‰çš„æ“ä½œ</p>
<h2 id="4-ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼ŒDIPï¼‰"><a class="header-anchor" href="#4-ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence-Inversion-Principleï¼ŒDIPï¼‰">Â¶</a>4. ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDependence Inversion Principleï¼ŒDIPï¼‰</h2>
<blockquote>
<p>å®šä¹‰ï¼šä¾èµ–å€’ç½®åŸåˆ™ä½“ç°çš„æ˜¯ä¸€ç§ç‰¹å®šçš„<strong>è§£è€¦æ–¹å¼</strong>ï¼Œä½¿å¾—é«˜å±‚æ¨¡å—ä¸ä¾èµ–äºåº•å±‚æ¨¡å—çš„å®ç°ç»†èŠ‚</p>
</blockquote>
<p>å®šä¹‰çœ‹ä¸Šå»å¾ˆæ¨¡ç³Šï¼Œå› æ­¤éœ€è¦æ ¹æ®å®é™…åœºæ™¯è¿›è¡Œåˆ†è§£</p>
<p>é¦–å…ˆï¼Œæœ‰ä»¥ä¸‹å…³é”®ç‚¹éœ€è¦æ³¨æ„ï¼š</p>
<ul>
<li>é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–äºä½å±‚æ¨¡å—ï¼ŒäºŒè€…åº”è¯¥éƒ½ä¾èµ–äº<strong>æŠ½è±¡</strong></li>
<li>æŠ½è±¡ä¸ä¾èµ–ç»†èŠ‚</li>
<li>ç»†èŠ‚åº”å½“ä¾èµ–æŠ½è±¡</li>
</ul>
<p>å¦‚æœä»Javaè¯­è¨€çš„è§’åº¦è¿›è¡Œç†è§£ï¼ŒæŠ½è±¡æ— éå°±æ˜¯ä»¥<strong>æ¥å£æˆ–è€…æŠ½è±¡ç±»çš„å½¢å¼</strong>è¿›è¡Œä½“ç°çš„ï¼Œä¸»è¦ç›®çš„æ˜¯<strong>æ˜ç¡®èŒè´£</strong></p>
<p>æ‰€è°“<strong>æŠ½è±¡æ­£æ˜¯ä»£è¡¨äº†ä¸€ç§å½¢å¼ä¸Šçš„ä¸œè¥¿ï¼Œéœ€è¦éµå®ˆ</strong></p>
<p>å¦ä¸€æ–¹é¢ï¼Œç»†èŠ‚ä½“ç°çš„æ˜¯<strong>æ¥å£çš„å®ç°ç±»æˆ–è€…æ˜¯æŠ½è±¡ç±»çš„å®ä½“å­ç±»</strong>ï¼Œå®ƒä»¬åœ¨<strong>éµå®ˆå½¢å¼çš„åŸºç¡€ä¸Š</strong>çœŸæ­£åœ°å»<strong>å±¥è¡Œè‡ªå·±çš„èŒè´£</strong></p>
<p>è¿™æ ·ï¼Œåä¸¤æ¡å°±å¾ˆæ¸…æ™°äº†</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220702122051298.png" alt="image-20220702122051298"></p>
<p>å†ä¸¾ä¸ªä¾‹å­ï¼Œäººç±»å¯ä»¥è®¤ä¸ºæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œå¦‚æœç®€å•ç‚¹è¿›è¡Œå®šä¹‰ï¼Œå¯ä»¥åªæœ‰åå­—ã€å¹´é¾„ï¼Œèƒ½åƒèƒ½ç¡ï¼Œè¿™é‡Œç”¨äº†æŠ½è±¡ç±»è¿›è¡Œè¡¨ç¤º</p>
<p>è€Œç¨‹åºå‘˜ï¼Œä¾èµ–äººç±»çš„èº«ä»½ï¼ˆå¯¹äºPeopleæŠ½è±¡ç±»è¿›è¡Œå®ç°ï¼‰ï¼Œé¦–å…ˆå±¥è¡Œäº†äººç±»èŒè´£ï¼Œæ‹¥æœ‰åƒã€ç¡çš„ä¼ ç»Ÿè‰ºèƒ½ï¼ˆä»çˆ¶ç±»ç»§æ‰¿è€Œæ¥ï¼‰ï¼Œè¿˜ä¼šæ•²ä»£ç ï¼Œå¹¶ä¸”è¿˜æœ‰è´¦æˆ·ï¼ˆå¦å¤–åŠ çš„ï¼‰</p>
<p>ç¨‹åºå‘˜å¯¹äºåƒå’Œç¡<strong>æœ‰å®å®åœ¨åœ¨çš„è¡ŒåŠ¨ï¼Œè€Œéåªæ˜¯æ ‡ç­¾</strong>ï¼šæŠ¢æ¶ˆè´¹åˆ¸ç‚¹å¤–å–åƒï¼ŒåŠå¤œå›å®¶å€’å¤´å°±ç¡ï¼ˆè¿™ä¾¿æ˜¯å¯¹äºç»†èŠ‚çš„æè¿°ï¼‰</p>
<p>è€Œå¯¹äºç¬¬ä¸€ç‚¹ï¼Œé¦–å…ˆè¦æ³¨æ„<strong>é«˜å±‚æ¬¡æ¨¡å—å’Œä½å±‚æ¬¡æ¨¡å—çš„å«ä¹‰</strong></p>
<p>å½“ä¸€ä¸ªé¡¹ç›®å¢é•¿åˆ°ä¸€å®šçš„é‡çº§ï¼Œå¾€å¾€ä¼šå¯¹äºå…¶åŠŸèƒ½è¿›è¡Œæ‹†åˆ†ï¼Œä»¥æ˜ç¡®ä»£ç çš„èŒè´£ï¼Œä¹Ÿæ–¹ä¾¿ä¸šåŠ¡çš„æ‰©å±•å’Œæ¢³ç†é€»è¾‘ï¼Œå‡å°‘é—®é¢˜</p>
<p>é€šå¸¸ä¼šå°†å…·ä½“ä¸šåŠ¡ä»£ç ï¼Œæ ¹æ®å…¶å®ç°çš„ä¸šåŠ¡åŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼Œæ¯”å¦‚è¯´ç½‘ç»œæ¨¡å—ã€å³æ—¶é€šä¿¡æ¨¡å—ã€é€šç”¨å·¥å…·æ¨¡å—ã€çº¿ä¸Šè¯¾ç¨‹æ¨¡å—ç­‰</p>
<p>è¶Šä½äºä¸‹å±‚çš„æ¨¡å—å…¶æœ¬èº«çš„ç‹¬ç«‹ç¨‹åº¦è¶Šé«˜ï¼Œæ¯”å¦‚é€šç”¨å·¥å…·æ¨¡å—ï¼Œå®ƒä»¬ä½œä¸º<strong>åŠŸèƒ½å®ç°ç«¯</strong>ï¼Œç»™å…¶ä»–æ¨¡å—è°ƒç”¨ï¼Œå°±åƒå¹³æ—¶åŠŸèƒ½ä¸å¥½å®ç°æ—¶ä¸Šgithubæ‰¾åŒ…ä¸€æ ·ï¼Œåªéœ€è¦å…³æ³¨éœ€è¦ç”¨åˆ°çš„æ–¹æ³•ï¼Œå› ä¸ºå…·ä½“çš„åŠŸèƒ½ä¸‹å±‚å·²ç»å®ç°äº†ï¼ˆå·¥å…·å·²ç»æœ‰äº†ï¼Œçœ‹ä½ ä¸Šå±‚æ€ä¹ˆç”¨ï¼‰</p>
<p>è€Œ<strong>ä¸Šå±‚ä¸ä¸‹å±‚çš„å…³ç³»å¾€å¾€æ˜¯ç›¸å¯¹çš„</strong>ï¼Œå› ä¸ºä½ æ˜¯ç”¨ä¸œè¥¿çš„äººï¼Œä½ çš„åœ°ä½é«˜ä¸€äº›ï¼Œä½†æ˜¯æ›´ä¸Šå±‚è¿˜ä¼šæœ‰äººç­‰å¾…ç€ä½ æä¾›æœåŠ¡</p>
<p>å› æ­¤ï¼Œä¸Šå±‚ç›¸<strong>å¯¹äºä½å±‚æ¬¡æ˜¯è°ƒç”¨æ–¹</strong></p>
<p>ç°åœ¨äºŒè€…éƒ½ä¾èµ–äºæŠ½è±¡çš„æ„æ€ï¼Œå¦‚æœç”¨Javaè¯­è¨€ç†è§£ï¼Œé‚£ä¹ˆåº”è¯¥å°±æ˜¯<strong>äºŒè€…é€šè¿‡æ¥å£æˆ–æŠ½è±¡ç±»è¿›è¡Œäº¤äº’ï¼Œè€Œä¸æ˜¯ç›´æ¥è¿›è¡Œè°ƒç”¨</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/image-20220702224416704.png" alt="image-20220702224416704"></p>
<p>åŸå…ˆé«˜å±‚ç›´æ¥è°ƒç”¨ä½å±‚ï¼Œè¿™å°±ä¸å¾—ä¸è®©ä¸Šå±‚æ¯æ¬¡éƒ½äº²è‡ªå‡ºé©¬ï¼ˆä¸Šå±‚ä¸»åŠ¨ä¾èµ–ï¼‰</p>
<p>è€Œç°åœ¨ï¼Œä¸Šå±‚ç»™äº†æ ‡å‡†ï¼Œéœ€è¦äººåŠäº‹ï¼Œä¸‹çº§ç›´æ¥æŒ‰æ ‡å‡†å¯¹å·å…¥åº§ï¼Œæ‰€è°“å…³æ³¨ç»“æœï¼ˆä¸Šå±‚æä¾›æ ‡å‡†ï¼Œä¸‹å±‚å®ç°æ ‡å‡†ï¼‰</p>
<p>å®ç°<strong>é¢å‘æ¥å£ç¼–ç¨‹</strong></p>
<h2 id="5-æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface-Segregation-Principleï¼ŒISPï¼‰"><a class="header-anchor" href="#5-æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface-Segregation-Principleï¼ŒISPï¼‰">Â¶</a>5. æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principleï¼ŒISPï¼‰</h2>
<blockquote>
<p>å®šä¹‰ï¼šç±»é—´çš„ä¾èµ–å…³ç³»åº”è¯¥å»ºç«‹åœ¨æœ€å°çš„æ¥å£ä¸Š</p>
</blockquote>
<p>è¯¥åŸåˆ™ä¹Ÿä»…ä»…å›´ç»•<strong>æŠ½è±¡</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºæŸä¸€ç±»æ“ä½œè¿›è¡Œè°ƒç”¨ï¼Œé‚£ä¹ˆå–èƒ½å¤Ÿé€‚é…æ›´å¤šçš„æ¥å£ï¼Œä½œä¸ºå‚æ•°</p>
<p>è¿™æ ·ï¼Œå…¶ä»–å®ç°è¯¥æ¥å£çš„ç±»å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œéµå¾ª<strong>é‡Œæ°æ›¿æ¢åŸåˆ™</strong>ï¼Œè€Œæ— éœ€å…³æ³¨å†…éƒ¨çš„ç»†èŠ‚</p>
<p>æ¥å£éš”ç¦»çš„ç›®çš„æ˜¯<strong>ä½¿ç³»ç»Ÿè§£å¼€è€¦åˆï¼Œä»è€Œå®¹æ˜“é‡æ„ã€æ›´æ”¹å’Œé‡æ–°éƒ¨ç½²</strong></p>
<p>åœ¨Androidä¸­ï¼ŒContextç»å¸¸ä¼šè¢«ç”¨åˆ°ï¼Œè€ŒActivityå’ŒFragmentç­‰éƒ½æ˜¯å¯¹äºContextçš„æŸç§å®ç°ï¼Œå› æ­¤åœ¨è®¾è®¡æ–¹æ³•çš„æ—¶å€™ï¼Œå¦‚æœéœ€è¦å¥½çš„å…¼å®¹æ€§ï¼Œå¹¶ä¸”Activityå’ŒFragmentçš„ä½œç”¨å¯ä»¥ç”¨Contextæ›¿ä»£çš„è¯ï¼Œé‚£ä¹ˆå°±æŠŠContextç±»å‹ä½œä¸ºå‚æ•°ï¼Œå› ä¸ºå®ƒæ˜¯æ›´é«˜å±‚æ¬¡çš„æŠ½è±¡ï¼Œèƒ½å¤Ÿåº”ç”¨æ›´å¤šçš„åœºæ™¯ï¼Œè€Œæ— éœ€ä¸ºæ¯ä¸ªç±»å‹å•ç‹¬è€ƒè™‘</p>
<p>å°±åƒä½ å»å…¬å¸æˆ–å¥èº«æˆ¿ä¸€æ ·ï¼Œé—¨ç¦å¹¶ä¸å…³æ³¨ä½ æ˜¯è°ï¼Œç”·çš„è¿˜æ˜¯å¥³çš„ï¼Œåªå…³æ³¨ä½ æœ‰æ²¡æœ‰å¡æˆ–è€…å½•å…¥äººè„¸ï¼Œå› ä¸ºå¯¹äºé—¨ç¦æ¥è®²ï¼Œè°æ¥éƒ½ä¸€æ ·ï¼Œæ²¡æœ‰å¿…è¦é‡èº«å®šåˆ¶</p>
<h2 id="6-è¿ªç±³ç‰¹åŸåˆ™ï¼ˆLaw-of-Demeterï¼ŒLODï¼‰"><a class="header-anchor" href="#6-è¿ªç±³ç‰¹åŸåˆ™ï¼ˆLaw-of-Demeterï¼ŒLODï¼‰">Â¶</a>6. è¿ªç±³ç‰¹åŸåˆ™ï¼ˆLaw of Demeterï¼ŒLODï¼‰</h2>
<blockquote>
<p>å®šä¹‰ï¼šä¸€ä¸ªå¯¹è±¡åº”è¯¥å¯¹å…¶ä»–å¯¹è±¡æœ‰æœ€å°‘çš„äº†è§£</p>
</blockquote>
<p>å…¶å®è¿™é‡Œä¸»è¦ä½“ç°å‡ºçš„è¿˜æ˜¯ä¸€ç§æŠ½è±¡ä¸è§£è€¦æ€æƒ³</p>
<p>ç±»ä¸ç±»ä¹‹é—´ä¸å¯é¿å…åœ°ä¼šæœ‰å¼•ç”¨ï¼Œä½†æ˜¯åªä¿ç•™å¿…è¦çš„å¼•ç”¨</p>
<p>è¿™å°±åƒæ‰‹æœºé‡Œä¸‹è½½Appä¸€æ ·ï¼Œåªä¿ç•™æˆ‘ä»¬å¹³æ—¶éœ€è¦ç”¨çš„ï¼Œå…¶ä»–ä¸æ€ä¹ˆç”¨çš„å¯ä»¥åˆ æ‰ï¼Œè¿™æ ·æ‰èƒ½ä¿æŒç³»ç»Ÿæ•´æ´å¹²å‡€ã€æ˜“äºç®¡ç†</p>
<p>å¹¶ä¸”ï¼Œè®©ä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹ï¼Œæˆ‘ä»¬åªæ˜¯åº”ç”¨çš„ç”¨æˆ·ï¼ŒåŠŸèƒ½çš„å†…éƒ¨å®ç°ä¸å…³æ³¨ï¼Œè¿™ä¾¿æ˜¯ä¸€å±‚æŠ½è±¡ï¼Œå›åˆ°äº†ä¹‹å‰çš„ä¾èµ–å€’ç½®åŸåˆ™</p>
<p>ä¹Ÿå¯ä»¥çœ‹å¾—å‡ºï¼Œ6å¤§åŸåˆ™é—´å…¶å®ä¹Ÿæ˜¯ç´§å¯†å…³è”çš„</p>
]]></content>
      <categories>
        <category>è®¾è®¡æ¨¡å¼</category>
      </categories>
  </entry>
  <entry>
    <title>Reactæ–°èµ·ç‚¹ï¼ˆä¸€ï¼‰</title>
    <url>/2023/06/24/React%E6%96%B0%E8%B5%B7%E7%82%B9%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Reactæ–°èµ·ç‚¹ï¼ˆä¸€ï¼‰</h1>
<h2 id="1-ç®€ä»‹"><a class="header-anchor" href="#1-ç®€ä»‹">Â¶</a>1. ç®€ä»‹</h2>
<p>Reactæ˜¯ä¸€ä¸ª<strong>JavaScriptåº“</strong>ï¼Œç”¨äºæ„å»ºäº¤äº’å¼ç½‘ç«™ï¼Œå¹¶ä¸”èƒ½å¤Ÿå¿«æ·åˆ›å»º<strong>SPAï¼ˆSingle Page Appï¼‰</strong></p>
<h2 id="2-èµ·æ­¥"><a class="header-anchor" href="#2-èµ·æ­¥">Â¶</a>2. èµ·æ­¥</h2>
<p>ä½¿ç”¨å‘½ä»¤åˆ›å»ºé¡¹ç›®</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">npx create-react-app little-blog</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241736840.png" alt=""></p>
<p>åœ¨é¡¹ç›®ç›®å½•ä¸­æ‰¾åˆ°<code>package.json</code>æ–‡ä»¶ï¼Œä½¿ç”¨å…¶ä¸­çš„<code>start</code>è„šæœ¬è¿›è¡Œé¢„è§ˆ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242321267.png" alt=""></p>
<p>åœ¨ç»ˆç«¯ä¸­è¾“å…¥<code>npm run start</code>ä¹‹æ‰§è¡Œè¯¥è„šæœ¬</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242321382.png" alt=""></p>
<p><strong>node_moudles</strong>/ç›®å½•ä¸‹çš„å†…å®¹é€šå¸¸æ˜¯é¡¹ç›®æ‰€éœ€çš„ä¾èµ–ï¼Œå¦‚æœ<code>clone</code>çš„é¡¹ç›®ä¸­æ²¡æœ‰ï¼Œå¯ä»¥é€šè¿‡è¿è¡Œ<code>npm install</code>ï¼Œä½¿ç³»ç»Ÿæ ¹æ®é¡¹ç›®å½“ä¸­çš„<code>package.json</code>æ–‡ä»¶ä¸‹è½½</p>
<h2 id="3-React-ç»„ä»¶"><a class="header-anchor" href="#3-React-ç»„ä»¶">Â¶</a>3. React ç»„ä»¶</h2>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<p>ç›®å‰åœ¨<code>index.js</code>å½“ä¸­åªæœ‰<code>App</code>è¿™ä¸ªç»„ä»¶</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">className</span>=<span class="string">&quot;App-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&#123;logo&#125;</span> <span class="attr">className</span>=<span class="string">&quot;App-logo&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;logo&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          Edit <span class="tag">&lt;<span class="name">code</span>&gt;</span>src/App.js<span class="tag">&lt;/<span class="name">code</span>&gt;</span> and save to reload.</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">className</span>=<span class="string">&quot;App-link&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">href</span>=<span class="string">&quot;https://reactjs.org&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">rel</span>=<span class="string">&quot;noopener noreferrer&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        &gt;</span></span></span><br><span class="line"><span class="language-xml">          Learn React</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯¹åº”äº<code>App</code>ç»„ä»¶çš„ä»£ç ä¾¿æ˜¯è¿™ä¸ª<code>App()</code>ï¼Œå…¶è¿”å›çš„ç±»ä¼¼äºHTMLçš„ç»“æ„è¢«ç§°ä¸º<strong>jsx</strong>ï¼Œæœ€ç»ˆé€šè¿‡<strong>babel</strong>å°†jsxç¼–å†™çš„å†…å®¹è½¬æ¢ä¸ºå¯¹åº”çš„HTML</p>
<p>jsxä¸HTMLæœ€å¤§çš„åŒºåˆ«åœ¨äºæ·»åŠ <code>class</code>åˆ°å…ƒç´ çš„æ–¹å¼ï¼Œåœ¨jsxå½“ä¸­ï¼Œä½¿ç”¨<code>className</code>å±æ€§ï¼Œå› ä¸º<code>class</code>è¢«JavaScriptä½¿ç”¨äº†ï¼Œåœ¨jsxè¢«è½¬æ¢ä¸ºHTMLæ—¶ï¼Œ<code>className</code>å±æ€§ä¼šè¢«è½¬ä¸º<code>class</code></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242321466.png" alt="image-20230604153452459" style="zoom:50%;" />
<p>å¦å¤–ï¼Œç”±äºå½“å‰ä½¿ç”¨çš„æ˜¯18çš„ç‰ˆæœ¬ï¼Œä¸éœ€è¦åœ¨jsæ–‡ä»¶é¡¶éƒ¨å¯¼å…¥<code>react</code>ï¼Œå¦‚æœä½äº17ç‰ˆæœ¬å¯èƒ½éœ€è¦æ˜¾å¼<code>import</code></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242321547.png" alt="image-20230604153638848" style="zoom:67%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242322954.png" alt="image-20230604153742013" style="zoom:67%;" />
<p>æ¥ä¸‹æ¥ï¼Œæ¸…ç†æ‰<code>&lt;div&gt;</code>é‡Œé¢çš„å†…å®¹ï¼Œè‡ªå·±è¿›è¡Œå†…å®¹çš„ç¼–å†™</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      &#123;/* æ·»åŠ å†…å®¹ */&#125;</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ–°èµ·ç‚¹<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242322682.png" alt="image-20230604154523196" style="zoom:50%;" />
<p>æ·»åŠ ä¸€ä¸ªæ ‡é¢˜ï¼Œç„¶åä¿å­˜ä¿®æ”¹ï¼Œè¿›è¡Œé¡µé¢çš„æœ¬åœ°é¢„è§ˆ</p>
<h2 id="4-åŠ¨æ€å€¼"><a class="header-anchor" href="#4-åŠ¨æ€å€¼">Â¶</a>4. åŠ¨æ€å€¼</h2>
<p>ä½¿ç”¨<code>&#123;&#125;</code>åœ¨jsxçš„æ¨¡æ¿ä¸­å¯ä»¥è¾“å‡ºjså®šä¹‰çš„å†…å®¹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> title = <span class="string">&#x27;Welcome to My New Blog!&#x27;</span>;   <span class="comment">// å®šä¹‰</span></span><br><span class="line">  <span class="keyword">const</span> likes = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span>   </span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>   // å¯¹åº”jsçš„å¸¸é‡</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç‚¹èµï¼š&#123;likes&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>jså®šä¹‰çš„å„ç§ç±»å‹åœ¨è¾“å‡ºæ—¶reactéƒ½ä¼šè½¬æ¢ä¸º<code>string</code>ï¼Œå¸ƒå°”å’Œå¯¹è±¡é™¤å¤–</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242322926.png" alt="image-20230604161148796" style="zoom:50%;" />
<p>ä½¿ç”¨<code>&#123;&#125;</code>åœ¨æ ‡ç­¾çš„<strong>å±æ€§</strong>ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨åŠ¨æ€å€¼ï¼Œä»¥ä¾¿äºé€»è¾‘çš„éœ€è¦è¿›è¡ŒåŠ¨æ€çš„ä¿®æ”¹</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> title = <span class="string">&#x27;Welcome to My New Blog!&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> likes = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">const</span> link = <span class="string">&quot;https://wwww.baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç‚¹èµï¼š&#123; likes &#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span> <span class="attr">link</span> &#125;&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span>   </span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242323130.png" alt="image-20230604161441209" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242323669.png" alt="image-20230604161521049" style="zoom:67%;" />
<h2 id="5-å¤šä¸ªç»„ä»¶ç»„åˆ"><a class="header-anchor" href="#5-å¤šä¸ªç»„ä»¶ç»„åˆ">Â¶</a>5. å¤šä¸ªç»„ä»¶ç»„åˆ</h2>
<p><code>app.js</code>é»˜è®¤æƒ…å†µä¸‹åœ¨ç»„ä»¶æ ‘çš„æœ€é¡¶ç«¯ï¼Œä½œä¸º<strong>æ ¹ç»„ä»¶</strong></p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242323722.png" alt="image-20230604165000605" style="zoom:50%;" />
<p>åˆ›å»ºå¦ä¸€ä¸ªç»„ä»¶Navbarï¼Œæ–°å»ºä¸€ä¸ªNavbar.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Navbar</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">className</span>=<span class="string">&quot;navbar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Little Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;links&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                |</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/new&quot;</span>&gt;</span>New<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Navbar</span>;</span><br></pre></td></tr></table></figure>
<p>ç¼–å†™å®Œæˆåï¼Œå°†ç»„ä»¶å¼•å…¥åˆ°App.jsï¼ŒåµŒå…¥åˆ°åŸæœ¬çš„jsxæ¨¡æ¿å½“ä¸­</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Navbar</span> <span class="keyword">from</span> <span class="string">&#x27;./Navbar&#x27;</span>;    <span class="comment">// åœ¨é¡¶éƒ¨å¼•å…¥ç»„ä»¶</span></span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> title = <span class="string">&#x27;Welcome to My New Blog!&#x27;</span>;</span><br><span class="line">  <span class="keyword">const</span> likes = <span class="number">100</span>;</span><br><span class="line">  <span class="keyword">const</span> link = <span class="string">&quot;https://wwww.baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Navbar</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123; title &#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç‚¹èµï¼š&#123; likes &#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;</span> <span class="attr">link</span> &#125;&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>&lt;Navbar /&gt;</code>ä½¿ç”¨ç»„ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242324213.png" alt="image-20230604170305857" style="zoom:50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242324118.png" alt="image-20230604170352720" style="zoom:50%;" />
<p>æ¥ä¸‹æ¥ï¼ŒæŠŠåŸæ¥<code>&lt;App /&gt;</code>å½“ä¸­çš„å†…å®¹å†æŠ½å‡ºæ¥ï¼Œç”¨<code>&lt;Home /&gt;</code>æ›¿æ¢ï¼Œå†åˆ›å»ºä¸€ä¸ªHome.js</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Home</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> title = <span class="string">&#x27;Welcome to My New Blog!&#x27;</span>;</span><br><span class="line">    <span class="keyword">const</span> likes = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">const</span> link = <span class="string">&quot;https://wwww.baidu.com&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;home&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;title&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>ç‚¹èµï¼š&#123;likes&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&#123;link&#125;</span>&gt;</span>ç™¾åº¦<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Home</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&#x27;./Home&#x27;</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">App</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Navbar</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#x27;content&#x27;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Home</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æŒ‰ç…§åŒæ ·çš„æ­¥éª¤å°†<code>&lt;Home /&gt;</code>åŠ å…¥ï¼Œæ›¿æ¢åŸæ¥<code>&lt;div&gt;</code>å½“ä¸­çš„å†…å®¹ï¼Œä½¿ç”¨<code>&lt;div&gt;</code>å°†é¡µé¢åˆ’åˆ†ä¸€ä¸ªä¸ªç»„ä»¶</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306242324716.png" alt="image-20230604171937781" style="zoom:50%;" />
<h2 id="6-å¢åŠ æ ·å¼"><a class="header-anchor" href="#6-å¢åŠ æ ·å¼">Â¶</a>6. å¢åŠ æ ·å¼</h2>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306232303255.png" alt="image-20230623230319187"></p>
<p><code>App.js</code>æœ¬èº«å¼•å…¥ä¸€ä¸ªCSSæ ·å¼æ–‡ä»¶ï¼Œå¹¶ä¸”è¿™ä»½åº”ç”¨äºæ ¹ç»„ä»¶çš„æ ·å¼æ–‡ä»¶ä¼šä½œç”¨äºæ‰€æœ‰ç»„ä»¶ï¼Œå› ä¸ºReactä¼šæŠŠæ‰€æœ‰çš„æ ·å¼åŠ å…¥åˆ°ç½‘é¡µæ–‡ä»¶çš„<code>&lt;head&gt;</code>å½“ä¸­</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306232306408.png" alt="image-20230623230644354" style="zoom: 50%;" />
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306232308132.png" alt="image-20230623230843075" style="zoom:67%;" />
<p>æµè§ˆå™¨æ˜¾ç¤ºçš„<code>&lt;head&gt;</code>å½“ä¸­çš„æ ·å¼ä¸<code>App.css</code>å½“ä¸­çš„æ ·å¼æ­£å¥½å¯¹åº”</p>
<p>æˆ‘ä»¬éœ€è¦ä¸ºç»„ä»¶è®¾ç½®å„è‡ªçš„æ ·å¼ï¼Œå› æ­¤å…ˆå°†<code>App.css</code>æ–‡ä»¶åˆ é™¤ï¼Œä½¿ç”¨<code>index.css</code>åŠ å…¥ä¸€äº›åŸºç¡€çš„æ ·å¼</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@import</span> url(//fonts.googleapis.com/css?family=<span class="attribute">Quicksand</span>:<span class="number">400</span>,<span class="number">700</span>);</span><br><span class="line"></span><br><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">&quot;Quicksand&quot;</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#333</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">#f2f2f2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#7d7dd9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> <span class="selector-class">.links</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">margin-left</span>: <span class="number">16px</span>;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.navbar</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#7d7dd9</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">600px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">40px</span> auto;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241128200.png" alt="image-20230624112831140" style="zoom: 67%;" />
<p>å¦‚æœæƒ³è¦ä½¿ç”¨<strong>å†…è”æ ·å¼è¡¨</strong>ï¼Œå¯ä»¥æ·»åŠ åœ¨ç»„ä»¶ä¸­æ·»åŠ <code>&#123;&#125;</code></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">Navbar</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">className</span>=<span class="string">&quot;navbar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Little Blog<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;links&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span>&gt;</span>Home<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">                |</span></span><br><span class="line"><span class="language-xml">                <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/new&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">color:</span> &#x27;#<span class="attr">ff0000</span>&#x27;,</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                    <span class="attr">fontFamily:</span> &quot;<span class="attr">monospace</span>&quot;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">                &#125;&#125;&gt;</span>New<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†…è”æ ·å¼è¡¨ä½¿ç”¨çš„æ˜¯<code>style</code>å±æ€§ï¼Œé€šè¿‡<code>&#123;&#125;</code>åœ¨åé¢åŠ å…¥JSXè¯­æ³•ä¸­çš„å€¼ï¼Œè€Œé‡Œé¢å¦ä¸€å±‚<code>&#123;&#125;</code>ä»£è¡¨è¿™ä¸ªæ ·å¼å†…å®¹æ˜¯ä¸€ä¸ªJSå¯¹è±¡ï¼Œå› ä¸ºCSSæ ·å¼æœ¬èº«æ˜¯<strong>é”®å€¼å¯¹</strong>çš„å½¢å¼ï¼Œå±æ€§çš„åç§°ä¾¿æ˜¯keyï¼Œè€Œå±æ€§çš„å€¼å°±æ˜¯å¯¹åº”çš„value</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241140039.png" alt="image-20230624114008979" style="zoom:80%;" />
<h2 id="7-æ·»åŠ ç‚¹å‡»äº‹ä»¶"><a class="header-anchor" href="#7-æ·»åŠ ç‚¹å‡»äº‹ä»¶">Â¶</a>7. æ·»åŠ ç‚¹å‡»äº‹ä»¶</h2>
<p>å…ˆåœ¨é¡µé¢ä¸Šæ·»åŠ ä¸€ä¸ªæŒ‰é’®ï¼Œä½¿ç”¨<code>&lt;button&gt;</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241353290.png" alt="image-20230624135302214"></p>
<p>æ¥ä¸‹æ¥å®šä¹‰ä¸€ä¸ªäº‹ä»¶</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ‰§è¡Œç‚¹å‡»&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>å°†äº‹ä»¶ç»‘å®šåˆ°æŒ‰é’®ä¸Š</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;button onClick=&#123;handleClick&#125;&gt;ç‚¹ä¸€ä¸‹ï¼Œç©ä¸€å¹´&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241418364.png" alt="image-20230624141852308"></p>
<p>æ‰§è¡Œç‚¹å‡»ä¼šè¿›è¡Œäº‹ä»¶çš„è°ƒç”¨</p>
<p>å¦‚æœéœ€è¦ä¼ å€¼ï¼Œæˆ‘ä»¬å¯ä»¥å°†å‡½æ•°åæ›´æ¢ä¸ºç®­å¤´å‡½æ•°</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;button onClick=&#123;<span class="function">() =&gt;</span> <span class="title function_">handleClick</span>()&#125;&gt;ç‚¹ä¸€ä¸‹ï¼Œç©ä¸€å¹´&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<p>äº‹ä»¶å¯¹è±¡ä¼šè‡ªåŠ¨ä½œä¸ºå‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line">&lt;button onClick=&#123;<span class="function">(<span class="params">e</span>) =&gt;</span> <span class="title function_">handleClick</span>(e)&#125;&gt;ç‚¹ä¸€ä¸‹ï¼Œç©ä¸€å¹´&lt;/button&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">e</span>) =&gt; &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;æ‰§è¡Œç‚¹å‡»&quot;</span>, e);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>æ·»åŠ ä¸€ä¸ªå‚æ•°<code>e</code>ï¼Œç”¨äºæ¥æ”¶äº‹ä»¶å‚æ•°ï¼Œå¹¶å°†å…¶æ‰“å°åˆ°æ§åˆ¶å°å½“ä¸­</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241556740.png" alt="image-20230624155607671"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241556239.png" alt="image-20230624155631186"></p>
<p>å¦‚æœä¸ä½¿ç”¨ç®­å¤´å‡½æ•°ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨å‡½æ•°è·å–ï¼Œå¹¶ä¸”ç›´æ¥é€šè¿‡äº‹ä»¶å¯¹è±¡å»è®¿é—®å…¶å†…éƒ¨çš„å±æ€§</p>
<h2 id="8-ä½¿ç”¨çŠ¶æ€ï¼ˆuseState-hookï¼‰"><a class="header-anchor" href="#8-ä½¿ç”¨çŠ¶æ€ï¼ˆuseState-hookï¼‰">Â¶</a>8. ä½¿ç”¨çŠ¶æ€ï¼ˆuseState hookï¼‰</h2>
<p>ç›´æ¥ä½¿ç”¨è¯­å¥è¿›è¡Œå˜é‡çš„ä¿®æ”¹å¹¶ä¸ä¼šä½¿é¡µé¢é‡æ–°æ¸²æŸ“ï¼Œå¦‚æœéœ€è¦åŠ¨æ€è¿›è¡Œä¿®æ”¹ï¼Œå¹¶ä¸”è§¦å‘é‡æ–°æ¸²æŸ“ï¼Œéœ€è¦ç”¨åˆ°<code>useState</code></p>
<p>å°†<code>useState</code>ä»reactåº“ä¸­å¼•å…¥</p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; useState &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆï¼Œéœ€è¦å¯¹éœ€è¦è¿›è¡Œæ›´æ–°çš„å˜é‡è¿›è¡Œ<strong>åˆå§‹åŒ–</strong></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> [name, setName] = <span class="title function_">useState</span>(<span class="string">&#x27;Hugo&#x27;</span>);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„ç¬¬ä¸€ä¸ªå‚æ•°<code>name</code>æ˜¯å˜é‡åï¼Œåˆå§‹å€¼æ˜¯<code>&quot;Hugo&quot;</code>ï¼Œç”¨äºæ›´æ–°å®ƒçš„å€¼çš„setteræ˜¯<code>setName</code></p>
<figure class="highlight jsx"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleClick</span> = (<span class="params">e</span>) =&gt; &#123;</span><br><span class="line">        <span class="title function_">setName</span>(<span class="string">&#x27;Michael&#x27;</span>);   <span class="comment">// æ›´æ–°å€¼</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241641462.png" alt="image-20230624164103394" style="zoom:50%;" />
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241642104.png" alt="image-20230624164210031"></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306241642287.png" alt="image-20230624164229220"></p>
<p>é€šè¿‡ç‚¹å‡»äº‹ä»¶è°ƒç”¨<code>setName</code>æ›´æ–°å€¼ï¼ŒåŒæ—¶è§¦å‘é¡µé¢è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œæœ€ç»ˆï¼Œåœ¨é¡µé¢å±•ç¤ºçš„å°±æ˜¯å†…å®¹å‘ç”Ÿäº†æ›´æ”¹</p>
]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux C ç¼–ç¨‹ï¼ˆä¸€ï¼‰</title>
    <url>/2023/06/23/Linux%20C%20%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1>Linux C ç¼–ç¨‹ï¼ˆä¸€ï¼‰</h1>
<h2 id="1-ç¨‹åºåŸºç¡€"><a class="header-anchor" href="#1-ç¨‹åºåŸºç¡€">Â¶</a>1. ç¨‹åºåŸºç¡€</h2>
<h3 id="1-1-åŸºæœ¬æ¦‚å¿µ"><a class="header-anchor" href="#1-1-åŸºæœ¬æ¦‚å¿µ">Â¶</a>1.1. åŸºæœ¬æ¦‚å¿µ</h3>
<p>è®¡ç®—æœºæ˜¯ç”±<strong>æ•°å­—ç”µè·¯</strong>ç»„æˆçš„è¿ç®—æœºå™¨ï¼Œåªèƒ½å¯¹<strong>æ•°å­—</strong>è¿›è¡Œè¿ç®—ï¼Œè€Œå…¶èƒ½å¤Ÿè¿›è¡Œç¬¦å·è¿ç®—çš„åŸå› ï¼Œæ˜¯å› ä¸º<strong>ç¬¦å·åœ¨è®¡ç®—æœºå†…éƒ¨ä¹Ÿæ˜¯ç”¨æ•°å­—è¡¨ç¤ºçš„</strong></p>
<p><strong>ç¨‹åº</strong></p>
<p>ç”¨æ¥å‘Šè¯‰è®¡ç®—æœºåº”è¯¥<strong>å¦‚ä½•å®Œæˆ</strong>ä¸€ä¸ªè®¡ç®—ä»»åŠ¡ï¼ˆç®€è¨€ä¹‹ï¼Œå°±æ˜¯å…ˆåšä»€ä¹ˆï¼Œå†åšä»€ä¹ˆï¼‰</p>
<p><strong>æŒ‡ä»¤</strong></p>
<p>ç¨‹åºç”±ä¸€ç³»åˆ—<strong>æŒ‡ä»¤</strong>ç»„æˆï¼ŒæŒ‡ä»¤æ˜¯<strong>æŒ‡ç¤ºè®¡ç®—æœºè¿›è¡ŒæŸç§è¿ç®—çš„å‘½ä»¤</strong></p>
<p><strong>è¯­å¥</strong></p>
<p>è®¡ç®—æœºæŒ‡ä»¤çš„<strong>æŠ½è±¡</strong>è¡¨ç¤ºï¼ˆæ¯”å¦‚Cã€Javaè¿™ç§é«˜çº§è¯­è¨€ï¼Œä¸æ˜¯ä½¿ç”¨çš„åŠ©è®°ç¬¦æˆ–æ˜¯æœºå™¨ç æŒ‡ä»¤ï¼Œè€Œæ˜¯å°è£…æˆäº†æ›´åŠ æ˜“ç”¨çš„é€»è¾‘ï¼‰</p>
<p><strong>ç¼–å†™ç¨‹åº</strong></p>
<p>ç¼–å†™ç¨‹åºçš„è¿‡ç¨‹æ˜¯å°†å¤æ‚çš„ä»»åŠ¡åˆ†è§£æˆå­ä»»åŠ¡ï¼Œå†æŠŠå­ä»»åŠ¡è¿›ä¸€æ­¥åˆ†è§£ï¼Œä¸æ–­åå¤è¿™æ ·çš„åˆ†è§£ï¼Œç›´åˆ°ç®€å•å¾—å¯ä»¥ä½¿ç”¨<strong>æŒ‡ä»¤</strong>å®Œæˆ</p>
<h3 id="1-2-ç¨‹åºè°ƒè¯•"><a class="header-anchor" href="#1-2-ç¨‹åºè°ƒè¯•">Â¶</a>1.2. ç¨‹åºè°ƒè¯•</h3>
<p>ç¨‹åºçš„ç¼–å†™æ˜¯ä¸€ä¸ªå¤æ‚çš„è¿‡ç¨‹ï¼Œå…¶ä¸­æ—¶å¸¸é™ªä¼´ç€ç¨‹åºå‘˜çš„è¿˜æœ‰å¯»æ‰¾ Bug çš„è¿‡ç¨‹ï¼Œå› ä¸ºç¨‹åºæ¯•ç«Ÿæ˜¯äººå†™çš„ï¼Œäººæ€»ä¼šçŠ¯é”™ï¼Œå› æ­¤å°±éœ€è¦æˆ‘ä»¬æŸ¥æ‰¾å¹¶ä¿®æ”¹è¿™äº›ç¨‹åºä¸­çš„é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“ Bug</p>
<p>æ‰¾åˆ°ç¨‹åºå½“ä¸­çš„è¿™äº› Bug å¹¶ä¸”çº æ­£çš„è¿‡ç¨‹ä¾¿æ˜¯<strong>è°ƒè¯•</strong>ï¼ˆDebugï¼‰</p>
<h4 id="Bugçš„åˆ†ç±»"><a class="header-anchor" href="#Bugçš„åˆ†ç±»">Â¶</a>Bugçš„åˆ†ç±»</h4>
<ul>
<li>ç¼–è¯‘æ—¶é”™è¯¯</li>
</ul>
<p><strong>ç¼–è¯‘å™¨åªèƒ½ç¿»è¯‘è¯­æ³•æ­£ç¡®çš„ç¨‹åº</strong>ï¼Œå¦‚æœè¯­æ³•å­˜åœ¨é”™è¯¯ï¼Œç¼–è¯‘å™¨å°±ä¼šç½¢å·¥ï¼Œæ­¤æ—¶ä½ éœ€è¦æ ¹æ®ç¼–è¯‘å™¨æä¾›çš„çº¿ç´¢ï¼Œæ‰¾åˆ°é—®é¢˜å¹¶åŠ ä»¥æ”¹æ­£</p>
<ul>
<li>è¿è¡Œæ—¶é”™è¯¯</li>
</ul>
<p><strong>ç¼–è¯‘å™¨æ£€æŸ¥ä¸å‡ºè¿™ç§é”™è¯¯</strong>ï¼Œå¹¶ä¸”ä¼šç»§ç»­ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼Œä½†æ˜¯è¿è¡Œæ—¶å¯èƒ½ä¼šå‘ç”Ÿæ„æƒ³ä¸åˆ°çš„é”™è¯¯æˆ–è€…å´©æºƒ</p>
<ul>
<li>é€»è¾‘é”™è¯¯å’Œè¯­ä¹‰é”™è¯¯</li>
</ul>
<p>è¿™ç§é”™è¯¯æ˜¯ç¨‹åºä»£ç çš„é€»è¾‘å­˜åœ¨é—®é¢˜ï¼Œä¹Ÿæ˜¯åœ¨ç¼–è¯‘æœŸå‘ç°ä¸äº†ï¼Œä½†æ˜¯è¿™ç§é”™è¯¯ä¼šä½¿ç¨‹åºæ‰§è¡Œé”™è¯¯çš„åŠŸèƒ½ï¼Œæ¯”å¦‚è¯´æ˜æ˜æƒ³è¦ç¨‹åºæ‰§è¡ŒåŠ æ³•ï¼Œå´å†™äº†ä¸€ä¸ªè¾“å‡ºâ€œHello Worldâ€çš„ç¨‹åº</p>
<p>ç¨‹åºçš„è°ƒè¯•æ˜¯ä¸€ä¸ªâ€œç ´æ¡ˆâ€çš„è¿‡ç¨‹ï¼Œéœ€è¦ä½ æ ¹æ®çº¿ç´¢è¿›è¡Œ<strong>å‡è®¾ã€æ¨ç†</strong>ï¼Œæœ€ç»ˆæ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼ŒåŒæ—¶ä¹Ÿéœ€è¦<strong>ç»éªŒçš„ç§¯ç´¯</strong>ï¼Œå¹¶ä¸”ä¼šä¸€ç›´ä¼´éšç¨‹åºå‘˜æˆé•¿</p>
<h3 id="1-3-ç¬¬ä¸€ä¸ªç¨‹åº"><a class="header-anchor" href="#1-3-ç¬¬ä¸€ä¸ªç¨‹åº">Â¶</a>1.3. ç¬¬ä¸€ä¸ªç¨‹åº</h3>
<p>ä¾ç…§ä¼ ç»Ÿï¼Œä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„ç¬¬ä¸€ä¸ªç¨‹åºé€šå¸¸éƒ½æ˜¯è¾“å‡ºâ€œHello World!â€å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬ä¸€èµ·çœ‹ä¸‹ç”¨ C è¯­è¨€è¯¥å¦‚ä½•å†™å§ï¼š</p>
<p>é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¿®æ”¹åç¼€åä¸º<code>.c</code>ï¼Œè¡¨æ˜è¿™æ˜¯ä¸€ä¸ª C è¯­è¨€<strong>æºä»£ç æ–‡ä»¶</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306231756427.png" alt="image-20230623001516951"></p>
<p>æ¥ä¸‹æ¥ï¼Œç¼–å†™ä»¥ä¸‹ä»£ç ï¼š</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™ä¾¿æ˜¯ä¸€ä¸ªè¾“å‡ºâ€œHello Worldâ€å­—ç¬¦ä¸²çš„ç®€å•ç¨‹åº</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gcc hello.c</span><br></pre></td></tr></table></figure>
<p>åœ¨ç»ˆç«¯è°ƒç”¨<code>gcc</code>å‘½ä»¤è¿›è¡Œæºä»£ç æ–‡ä»¶çš„ç¼–è¯‘ï¼Œå¾—åˆ°å¯æ‰§è¡Œæ–‡ä»¶ <code>a.out</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">./a.out </span><br></pre></td></tr></table></figure>
<p>æ‰§è¡Œ<code>a.out</code>æ–‡ä»¶ï¼Œå¾—åˆ°è¿è¡Œç»“æœ</p>
<p><img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306231756147.png" alt="image-20230623002639020"></p>
<p><code>#include &lt;stdio.h&gt;</code>ç”¨æ¥å¼•å…¥å¤´æ–‡ä»¶ï¼Œç›®çš„æ˜¯æä¾›å¯ä»¥è°ƒç”¨çš„å‡½æ•°ï¼Œæ¯”å¦‚è¯´ä¸‹é¢çš„<code>printf()</code>ï¼Œè€Œ<code>main()</code>ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œä½œä¸ºç¨‹åºçš„å…¥å£ï¼Œç¨‹åºä»<code>mian()</code>å¼€å§‹æ‰§è¡Œï¼Œ<code>&#123;&#125;</code>åŒ…è£¹çš„éƒ¨åˆ†ä¾¿æ˜¯<code>main()</code>çš„å†…å®¹ï¼Œ<code>printf()</code>å°†å…¶ä¸­ä½¿ç”¨<code>&quot;&quot;</code>åŒ…è£¹çš„å­—ç¬¦ä¸²è¾“å‡ºåˆ°ç»ˆç«¯æ§åˆ¶å°ï¼Œæœ€å<code>return</code>è¯­å¥è¡¨ç¤ºç¨‹åºçš„ç»ˆç»“ï¼Œè¿”å›ä¸€ä¸ª0ï¼Œè¡¨ç¤ºç¨‹åºæ­£å¸¸ç»“æŸ</p>
<h2 id="2-å¸¸é‡ã€å˜é‡å’Œè¡¨è¾¾å¼"><a class="header-anchor" href="#2-å¸¸é‡ã€å˜é‡å’Œè¡¨è¾¾å¼">Â¶</a>2. å¸¸é‡ã€å˜é‡å’Œè¡¨è¾¾å¼</h2>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Hello Worldç¨‹åº</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="comment">// è¾“å‡ºHello Worldå­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Hello World\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>/*</code>å¼€å¤´å¹¶ä¸”ä½¿ç”¨<code>*/</code>ç»“å°¾è·¨è¶Šå¤šè¡Œçš„å†…å®¹æ˜¯ç¨‹åºçš„<strong>æ³¨é‡Š</strong>ï¼Œå…¶ä¼šè¢«ç¼–è¯‘å™¨å¿½è§†ï¼Œä»…ä»…ç”¨äºå¯¹ç¨‹åºçš„åŠŸèƒ½è¿›è¡Œè¯´æ˜</p>
<p>ä½¿ç”¨<code>/*</code>å’Œ<code>*/</code>åŒ…è£¹çš„æ˜¯<strong>å¤šè¡Œæ³¨é‡Š</strong>ï¼ŒæœŸé—´å¯ä»¥æœ‰å¤šè¡Œå†…å®¹ï¼Œä½†æ˜¯<strong>ä¸èƒ½å¤Ÿè¿›è¡ŒåµŒå¥—</strong>ï¼Œå¦åˆ™ä¼šå¯¼è‡´æ³¨é‡Šå¤±æ•ˆ</p>
<p>é™¤äº†å¤šè¡Œæ³¨é‡Šï¼Œè¿˜å¯ä»¥ä½¿ç”¨ä»¥<code>//</code>å¼€å¤´çš„<strong>å•è¡Œæ³¨é‡Š</strong>ï¼Œè¿™ç§æ³¨é‡Šçš„èŒƒå›´æ˜¯ä»<code>//</code>ç›´è‡³å½“å‰çš„è¡Œå°¾</p>
<h3 id="2-1-å¸¸é‡"><a class="header-anchor" href="#2-1-å¸¸é‡">Â¶</a>2.1. å¸¸é‡</h3>
<p>å¸¸é‡æ˜¯ç¨‹åºä¸­æœ€åŸºæœ¬çš„å…ƒç´ ï¼ŒC è¯­è¨€å½“ä¸­æœ‰å„ç§ç±»å‹çš„å¸¸é‡ï¼Œåƒæ˜¯å­—ç¬¦å¸¸é‡ã€æ•´æ•°å¸¸é‡ã€æšä¸¾å¸¸é‡ç­‰</p>
<p>å…¶ä¸­æ³¨æ„ï¼Œ<strong>å­—ç¬¦å¸¸é‡</strong>éœ€è¦é€šè¿‡<code>''</code>åŒ…è£¹ï¼Œæ¯”å¦‚<code>'&#123;'</code>å°±æ˜¯ä¸€ä¸ªå­—ç¬¦å¸¸é‡ï¼Œé€šå¸¸éƒ½æ˜¯å•ä¸ªå­—ç¬¦ï¼Œä½†æ˜¯å¦‚æœè¡¨ç¤ºçš„æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œå¯èƒ½å‡ºç°<code>\n</code>è¿™ç§ï¼Œä½†å…¶å®è´¨è¿˜æ˜¯ä¸€ä¸ªå­—ç¬¦</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;å­—ç¬¦%c\næ•´æ•°%d\næµ®ç‚¹æ•°%f\n&quot;</span>, <span class="string">&#x27;&#123;&#x27;</span>, <span class="number">56</span>, <span class="number">6.78</span>);</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306252154864.png" alt="image-20230625215444219" style="zoom:50%;" />
<p>ä»¥ä¸Š<code>printf</code>è¯­å¥è¾“å‡ºå­—ç¬¦ã€æ•´æ•°ã€æµ®ç‚¹æ•°å¸¸é‡ï¼Œå…¶ä¸­<code>printf()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°ç§°ä¸º<strong>æ ¼å¼åŒ–å­—ç¬¦ä¸²</strong>ï¼Œä¹Ÿå°±æ˜¯<code>&quot;å­—ç¬¦%c\næ•´æ•°%d\næµ®ç‚¹æ•°%f\n&quot;</code>ï¼Œå®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰åé¢å‡ ä¸ªå¸¸é‡å°†è¦ä»¥ä½•ç§æ ¼å¼â€œå¯¹å·å…¥åº§â€</p>
<p><code>%</code>åé¢åˆ†åˆ«æ·»åŠ <code>c</code>ã€<code>d</code>ã€<code>f</code>è¡¨ç¤ºå­—ç¬¦å‹ã€æ•´å‹ã€æµ®ç‚¹å‹çš„<strong>è½¬æ¢è¯´æ˜</strong>ï¼Œè½¬æ¢è¯´æ˜åœ¨å­—ç¬¦ä¸²ä¸­å ä¸ªä½ç½®ï¼Œå³<strong>å ä½ç¬¦</strong>ï¼Œ<strong>è¿è¡Œæ—¶</strong>ä¼šæ›¿æ¢ä¸ºåé¢çš„å¸¸é‡ï¼Œä¸<strong>ç¼–è¯‘æ—¶</strong>å¤„ç†çš„<strong>è½¬ä¹‰å­—ç¬¦</strong>æœ‰æ‰€ä¸åŒ</p>
<h3 id="2-2-å˜é‡"><a class="header-anchor" href="#2-2-å˜é‡">Â¶</a>2.2. å˜é‡</h3>
<p>å˜é‡åœ¨ä»»ä½•ç¼–ç¨‹è¯­è¨€å½“ä¸­éƒ½æ˜¯æå…¶é‡è¦çš„å­˜åœ¨</p>
<p>ä»æœ¬è´¨ä¸Šæ¥è¯´ï¼Œå˜é‡æ˜¯<strong>è®¡ç®—æœºå­˜å‚¨å™¨</strong>é‡Œçš„ä¸€å—<strong>å‘½åç©ºé—´</strong>ï¼Œå¯ä»¥åœ¨é‡Œé¢å­˜å‚¨ä¸€ä¸ªå€¼ï¼Œå­˜å‚¨çš„å€¼æ˜¯å¯ä»¥éšæ—¶å˜çš„</p>
<p>è¿™å°±å¥½æ¯”ç§Ÿæˆ¿å­ï¼Œä½ å°±æ˜¯é‚£ä¸ªå€¼ï¼Œä½ ä¸ä½äº†ï¼Œåˆ«äººä½ï¼Œé‚£ä¹ˆå€¼å°±å‘ç”Ÿäº†å˜åŒ–ï¼Œä½†æ˜¯å­˜å‚¨ç©ºé—´è¿˜æ˜¯é‚£ä¸€å—</p>
<p>æ—¢ç„¶å¸¸é‡æœ‰ä¸åŒçš„ç±»å‹ï¼Œä¸ä¹‹å¯¹åº”çš„ï¼Œå˜é‡è‡ªç„¶ä¹Ÿä¼šæœ‰ä¸åŒçš„ç±»å‹</p>
<p>æ›´æ·±å…¥åœ°è®²ï¼Œ<strong>å˜é‡çš„ç±»å‹å†³å®šäº†å®ƒæ‰€å ç”¨å­˜å‚¨ç©ºé—´çš„å¤§å°</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> a;  <span class="comment">// æ•´å‹</span></span><br><span class="line"><span class="type">double</span> b;  <span class="comment">// åŒç²¾åº¦æµ®ç‚¹å‹</span></span><br><span class="line"><span class="type">char</span> c;   <span class="comment">// å­—ç¬¦å‹</span></span><br><span class="line"><span class="type">long</span> d;  <span class="comment">// é•¿æ•´å‹</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%lu\n%lu\n%lu\n%lu\n&quot;</span>, <span class="keyword">sizeof</span>(a), <span class="keyword">sizeof</span>(b), <span class="keyword">sizeof</span>(c), <span class="keyword">sizeof</span>(d));</span><br></pre></td></tr></table></figure>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202306252323752.png" alt="image-20230625232323147" style="zoom:50%;" />
<blockquote>
<p>C è¯­è¨€å½“ä¸­çš„å£°æ˜å¯ä»¥åˆ†ä¸º<strong>å˜é‡å£°æ˜</strong>ã€<strong>å‡½æ•°å£°æ˜</strong>å’Œ<strong>ç±»å‹å£°æ˜</strong>ä¸‰ç§</p>
<p>å¦‚æœå˜é‡æˆ–è€…å‡½æ•°<strong>å£°æ˜çš„åŒæ—¶è¦æ±‚ç¼–è¯‘å™¨ä¸ºå…¶åˆ†é…å­˜å‚¨ç©ºé—´</strong>ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥ç§°ä¸º<strong>å®šä¹‰</strong>ï¼Œå› æ­¤<strong>å®šä¹‰æ˜¯å£°æ˜çš„ä¸€ç§</strong></p>
</blockquote>
<p>ä¸ºå˜é‡èµ·åæ˜¯æœ‰ä¸€å®šçš„è§„åˆ™éœ€è¦éµå®ˆçš„ï¼Œè¿™ä¹Ÿå°±æ˜¯æ‰€è°“<strong>æ ‡è¯†ç¬¦</strong>è§„åˆ™</p>
<p>åœ¨ C è¯­è¨€ä¸­ï¼Œè§„å®šå¿…é¡»ä»¥<strong>å­—æ¯</strong>æˆ–<strong>ä¸‹åˆ’çº¿</strong>å¼€å¤´ï¼Œåé¢å¯ä»¥è·Ÿä¸Šè‹¥å¹²ä¸ª<strong>å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿</strong>ï¼Œä½†æ˜¯ä¸èƒ½æºæ‚æœ‰å…¶ä»–å­—ç¬¦ï¼Œæ¯”å¦‚ï¼š_123ã€__abcã€s1éƒ½æ˜¯åˆæ³•çš„æ ‡è¯†ç¬¦</p>
<p>é™¤æ­¤ä»¥å¤–ï¼Œè¿˜éœ€è¦æ³¨æ„ï¼Œåƒ C è¯­è¨€å½“ä¸­çš„<strong>å…³é”®å­—</strong>æˆ–è€…æ˜¯<strong>ä¿ç•™å­—</strong>æ˜¯ä¸èƒ½å¤Ÿä½œä¸ºæ ‡è¯†ç¬¦çš„</p>
<blockquote>
<p><a href="https://www.runoob.com/cprogramming/c-basic-syntax.html">Cè¯­è¨€å…³é”®å­—å‚è€ƒï¼ˆhttps://www.runoob.com/cprogramming/c-basic-syntax.htmlï¼‰</a></p>
</blockquote>
<p>ä¸€èˆ¬å‘¢ï¼Œè¿˜è¦å°½å¯èƒ½<strong>é¿å…ä½¿ç”¨ä»¥ä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦</strong>ï¼Œé€šå¸¸ä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦åªè¦ä¸ä¸ C è¯­è¨€å…³é”®å­—å†²çªå°±æ˜¯åˆæ³•çš„ï¼Œç„¶è€Œï¼Œå¾€å¾€æœ‰ä¸€äº›ä¸‹åˆ’çº¿å¼€å¤´çš„æ ‡è¯†ç¬¦ä¼šè¢«ç¼–è¯‘å™¨ç”¨äºæ‰©å±•</p>
<h3 id="2-3-èµ‹å€¼"><a class="header-anchor" href="#2-3-èµ‹å€¼">Â¶</a>2.3. èµ‹å€¼</h3>
<p>å®šä¹‰äº†å˜é‡ä¹‹åï¼Œæˆ‘ä»¬å¾€å¾€éœ€è¦æŠŠå€¼å­˜åˆ°å®ƒä»¬æ‰€è¡¨ç¤ºçš„å­˜å‚¨ç©ºé—´é‡Œï¼Œè¿™ä¾¿æ˜¯ä¸€ä¸ª<strong>èµ‹å€¼</strong>è¿‡ç¨‹</p>
<p><strong>å˜é‡ä¸€å®šè¦å…ˆå£°æ˜ï¼Œåä½¿ç”¨ï¼Œç¼–è¯‘å™¨éœ€è¦å…ˆçœ‹åˆ°å˜é‡å£°æ˜</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> d;   <span class="comment">// å£°æ˜</span></span><br><span class="line">d = <span class="number">0</span>;   <span class="comment">// èµ‹å€¼</span></span><br><span class="line">d += <span class="number">1</span>;   <span class="comment">// ä½¿ç”¨--è‡ªå¢</span></span><br></pre></td></tr></table></figure>
<p>å½“ç„¶å˜é‡çš„å®šä¹‰å’Œèµ‹å€¼ä¹Ÿå¯ä»¥ä¸€æ­¥å®Œæˆï¼Œè¿™è¢«ç§°ä¸ºå˜é‡çš„<strong>åˆå§‹åŒ–</strong></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> d = <span class="number">0</span>;</span><br><span class="line">d += <span class="number">1</span>;</span><br></pre></td></tr></table></figure>
<p>å˜é‡çš„<strong>æœ€å°å­˜å‚¨å•ä½æ˜¯å­—èŠ‚</strong>ï¼Œåœ¨ C è¯­è¨€ä¸­<code>char</code>ç±»å‹å 1å­—èŠ‚ï¼Œå…¶ä»–çš„ç±»å‹æ‰€å ç”¨çš„å­—èŠ‚æ•°åœ¨ä¸åŒå¹³å°ä¸Šæœ‰ä¸åŒçš„è§„å®š</p>
<h3 id="2-4-è¡¨è¾¾å¼"><a class="header-anchor" href="#2-4-è¡¨è¾¾å¼">Â¶</a>2.4. è¡¨è¾¾å¼</h3>
<p>å˜é‡å’Œå¸¸é‡éƒ½å¯ä»¥å‚ä¸å„ç§è¿ç®—ï¼Œæ¯”å¦‚ï¼šåŠ å‡ä¹˜é™¤ï¼Œè€Œå‚ä¸è¿™äº›è¿ç®—çš„å¸¸é‡æˆ–è€…å˜é‡å°±è¢«ç§°ä¸º<strong>æ“ä½œæ•°</strong></p>
<p>å°†å¸¸é‡ã€å˜é‡é€šè¿‡è¿ç®—ç»„åˆåœ¨ä¸€èµ·ï¼Œå¯ä»¥å½¢æˆè¡¨è¾¾å¼ï¼Œæ¯”å¦‚ï¼šx + yã€a * b - 2</p>
<p><strong>ä»»ä½•è¡¨è¾¾å¼éƒ½æœ‰å€¼å’Œç±»å‹ä¸¤ä¸ªåŸºæœ¬å±æ€§</strong></p>
<p>å…¶å®è¿™æ˜¯ç”±äºè¡¨è¾¾å¼éƒ½ä¼šé€šè¿‡è¿ç®—å¾—åˆ°ç»“æœï¼Œè€Œç»“æœä¼šæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œå› è€Œè‡ªç„¶ä¼šæœ‰å€¼å’Œç±»å‹</p>
<p>åœ¨ C è¯­è¨€å½“ä¸­ï¼Œæ•´æ•°çš„é™¤æ³•æ—¢ä¸æ˜¯Floorä¹Ÿä¸æ˜¯Ceilingï¼Œæ— è®ºæ­£è´Ÿï¼Œä¸€å¾‹å»æ‰å°æ•°éƒ¨åˆ†</p>
<h3 id="2-5-å­—ç¬¦ç±»å‹å’Œå­—ç¬¦ä¸²ç¼–ç "><a class="header-anchor" href="#2-5-å­—ç¬¦ç±»å‹å’Œå­—ç¬¦ä¸²ç¼–ç ">Â¶</a>2.5. å­—ç¬¦ç±»å‹å’Œå­—ç¬¦ä¸²ç¼–ç </h3>
<p>å­—ç¬¦å¸¸é‡æˆ–å­—ç¬¦å‹å˜é‡ä¹Ÿå¯ä»¥å½“ä½œæ•´æ•°å‚ä¸è¿ç®—</p>
<p>è¿™æ˜¯å› ä¸ºåœ¨è®¡ç®—æœºçš„å†…éƒ¨ï¼Œè¿™äº›å­—ç¬¦å…¶å®ä¹Ÿæ˜¯ä½¿ç”¨æ•°å­—è¡¨ç¤ºçš„ï¼Œæ¯ä¸ªå­—ç¬¦åœ¨è®¡ç®—æœºå†…éƒ¨æœ‰ä¸€ä¸ªæ•´æ•°ä¸ä¹‹å¯¹åº”ï¼Œè€Œè¿™å°±æ˜¯<strong>å­—ç¬¦ç¼–ç </strong></p>
<p><strong>ç›®å‰æœ€å¸¸ç”¨çš„æ˜¯ASCIIç ï¼ˆAmerican Standard Code for Information Interchangeï¼‰</strong></p>
<p>ASCIIç çš„å–å€¼èŒƒå›´æ˜¯0~127ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›ä¸å¯è§å­—ç¬¦å’Œç©ºç™½å­—ç¬¦</p>
<p><strong>â€˜0â€™çš„ASCIIç æ˜¯48ï¼Œâ€™\0â€™çš„ASCIIç æ˜¯0</strong></p>
]]></content>
      <categories>
        <category>Cè¯­è¨€</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title>è‡ªå®šä¹‰Viewï¼ˆä¸€ï¼‰â€”â€” åæ ‡ç³»</title>
    <url>/2023/07/07/%E8%87%AA%E5%AE%9A%E4%B9%89View%EF%BC%88%E4%B8%80%EF%BC%89%E2%80%94%E2%80%94%20%E5%9D%90%E6%A0%87%E7%B3%BB/</url>
    <content><![CDATA[<h1>è‡ªå®šä¹‰Viewï¼ˆä¸€ï¼‰â€”â€” åæ ‡ç³»</h1>
<h2 id="1-åæ ‡ç³»"><a class="header-anchor" href="#1-åæ ‡ç³»">Â¶</a>1. åæ ‡ç³»</h2>
<h3 id="1-1-æ•°å­¦çš„åæ ‡ç³»å’Œå±å¹•åæ ‡ç³»"><a class="header-anchor" href="#1-1-æ•°å­¦çš„åæ ‡ç³»å’Œå±å¹•åæ ‡ç³»">Â¶</a>1.1. æ•°å­¦çš„åæ ‡ç³»å’Œå±å¹•åæ ‡ç³»</h3>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202307032340460.png" alt="image-20230703234028826" style="zoom:67%;" />
<p>åœ¨æ•°å­¦å½“ä¸­ï¼Œæˆ‘ä»¬å¸¸è§çš„åæ ‡ç³»æ˜¯å¦‚ä¸Šå›¾è¿™æ ·ï¼Œxè½´å’Œyè½´åˆ†åˆ«è‡ªå·¦è‡³å³å’Œè‡ªä¸‹è€Œä¸Šå»¶ä¼¸ï¼Œè§’åº¦æ˜¯ä»¥é€†æ—¶é’ˆæ–¹å‘ä¸ºæ­£</p>
<p>ä½†æ˜¯Androidçš„å±å¹•å’Œè¿™ä¼šæœ‰ä¸€äº›åŒºåˆ«</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202307040011188.png" alt="image-20230704001143588" style="zoom:67%;" />
<p>åœ¨Androidè®¾å¤‡çš„å±å¹•ä¸Šï¼Œxè½´å’Œyè½´æ˜¯åˆ†åˆ«å‘å³å’Œå‘ä¸‹çš„ï¼Œè®¾å¤‡å±å¹•çš„å·¦ä¸Šè§’æ˜¯åæ ‡ç³»çš„<strong>åæ ‡åŸç‚¹</strong>ï¼Œè§’åº¦ä»¥é¡ºæ—¶é’ˆæ—‹è½¬æ–¹å‘ä¸ºæ­£</p>
<h3 id="1-2-Viewçš„åæ ‡ç³»"><a class="header-anchor" href="#1-2-Viewçš„åæ ‡ç³»">Â¶</a>1.2. Viewçš„åæ ‡ç³»</h3>
<p><code>View</code>çš„åæ ‡ç³»æ˜¯ç›¸å¯¹äºå®ƒçš„çˆ¶çº§è€Œè¨€çš„</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202307042341262.png" alt="image-20230704234121119" style="zoom:80%;" />    
<p><code>top</code>ã€<code>bottom</code>ã€<code>left</code>ã€<code>right</code>åˆ†åˆ«æ˜¯ä¸<code>View</code>çš„ä½ç½®è¡¨ç¤ºç›¸å…³çš„æ¦‚å¿µï¼Œæè¿°çš„æ˜¯å…¶åœ¨çˆ¶çº§ä¸­çš„<strong>ç›¸å¯¹ä½ç½®</strong></p>
<blockquote>
<p>The geometry of a view is that of a rectangle. A view has a location, expressed as a pair of <em>left</em> and <em>top</em> coordinates, and two dimensions, expressed as a width and a height. The unit for location and dimensions is the pixel.</p>
</blockquote>
<p><code>View</code>å®è´¨ä¸Šè¡¨è¿°çš„æ˜¯ä¸€ä¸ª<strong>çŸ©å½¢èŒƒå›´</strong>ï¼Œå…³äºå…¶ä½ç½®çš„ç¡®å®šï¼Œä½¿ç”¨çš„æ˜¯å…¶å·¦ä¸Šè§’çš„åæ ‡ï¼Œå°±åƒè¿™é‡Œçš„<code>top</code>ï¼Œ<code>left</code>ï¼Œåœ¨è¯¥åæ ‡ç³»ä¸‹ï¼Œç¡®å®šå…¶å·¦ä¸Šè§’çš„åæ ‡ä½ç½®ï¼Œå…¶å®å†é…åˆå¦å¤–2ä¸ªç»´åº¦ï¼Œå³å®½ã€é«˜å°±å¯ä»¥ç¡®å®šè¿™ä¸ª<code>View</code>å…·ä½“è¡¨ç¤ºçš„èŒƒå›´äº†</p>
<p>é€šè¿‡å¯¹äº<code>View</code>å¯¹è±¡è°ƒç”¨<code>getLeft()</code>å’Œ<code>getTop()</code>å¯ä»¥å¾—åˆ°<code>left</code>å’Œ<code>top</code>çš„å€¼ï¼Œå³<code>View</code>ï¼ˆçŸ©å½¢ï¼‰çš„åæ ‡ï¼ˆx, yï¼‰ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿”å›çš„æ•°å€¼æ˜¯ç›¸å¯¹äºçˆ¶çº§<code>View</code>çš„ï¼Œå¹¶ä¸”<strong>é»˜è®¤å•ä½ä¸ºåƒç´ </strong></p>
<p>é™¤æ­¤ä»¥å¤–ï¼Œ<code>View</code>è¿˜æä¾›äº†<code>getRight()</code>å’Œ<code>getBottom()</code>æ–¹æ³•æ¥è·å–æ‰€è°“<code>right</code>å’Œ<code>bottom</code>çš„æ•°å€¼ï¼Œå…¶å®<code>right = left + width</code>è€Œ<code>bottom = top + height</code>ï¼Œåªæ˜¯ç®€åŒ–äº†éƒ¨åˆ†è®¡ç®—ï¼Œå¯èƒ½æ›´åŠ ç›´è§‚ä¸€äº›ï¼Œåœ¨å®é™…çš„è‡ªå®šä¹‰<code>View</code>çš„ç¼–ç è¿‡ç¨‹ä¸­ï¼Œè¿™äº›æ¦‚å¿µæ˜¯éå¸¸å¸¸ç”¨çš„ï¼Œä¹Ÿç»å¸¸ä½œä¸ºä¸€äº›æ–¹æ³•çš„å‚æ•°è¢«ç”¨åˆ°ï¼Œå› æ­¤ç†Ÿæ‚‰è¿™äº›æ¦‚å¿µå¾ˆæœ‰å¿…è¦</p>
<h3 id="1-3-MotionEventä¸­çš„åæ ‡"><a class="header-anchor" href="#1-3-MotionEventä¸­çš„åæ ‡">Â¶</a>1.3. MotionEventä¸­çš„åæ ‡</h3>
<p>åœ¨å¤„ç†Androidè®¾å¤‡ä¸Šçš„å„ç§è§¦å±äº‹ä»¶ï¼Œæˆ‘ä»¬ä¸å…ä¼šæ¥è§¦åˆ°ä¸€ä¸ª<code>MotionEvent</code>ç±»ï¼Œå®ƒç”¨äºæè¿°ç§»åŠ¨ï¼ˆé€šå¸¸æ¥è§¦å±å¹•çš„æ˜¯æ‰‹æŒ‡ï¼‰ï¼Œé€šè¿‡ä¸€äº›å‚æ•°æ¥æè¿°è¿™æ ·çš„äº‹ä»¶</p>
<blockquote>
<p>Object used to report movement (mouse, pen, finger, trackball) events. Motion events may hold either absolute or relative movements and other data, depending on the type of device.</p>
</blockquote>
<p>æˆ‘ä»¬çš„æ‰‹æŒ‡æ¥è§¦åˆ°è®¾å¤‡çš„å±å¹•ï¼Œå°±ä¼šäº§ç”Ÿäº‹ä»¶ï¼Œè€Œæ•´ä¸ªè®¾å¤‡çš„å±å¹•å°±æ˜¯ä¸€ä¸ªå¤§çš„åæ ‡ç³»ï¼Œè€Œæˆ‘ä»¬æ‰‹æŒ‡æ¥è§¦çš„ä½ç½®ä¾¿æ˜¯è¿™ä¸ªåæ ‡ç³»ä¸­çš„æŸä¸ªç‰¹å®šçš„ç‚¹ï¼Œå¯¹åº”çš„ä¾¿æ˜¯ä¸€ä¸ª<code>MotionEvent</code>å¯¹è±¡</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202307072320262.png" alt="image-20230707231946669" style="zoom: 80%;" />
<p><code>getX()</code>å’Œ<code>getRawX()</code>å‡æ˜¯<code>MotionEvent</code>å¯¹è±¡çš„æ–¹æ³•ï¼Œå‰è€…è·å–çš„æ˜¯å½“å‰äº‹ä»¶å¯¹è±¡ä¸å½“å‰<code>View</code>çš„å·¦è¾¹ç•Œçš„æ°´å¹³ç›¸å¯¹è·ç¦»ï¼Œè€Œåè€…è·å–çš„æ˜¯äº‹ä»¶å¯¹è±¡ä¸å±å¹•å·¦è¾¹ç•Œçš„æ°´å¹³è·ç¦»</p>
<p>å½“ç„¶ï¼Œå¯¹åº”åœ°ä¹Ÿæœ‰<code>getY()</code>å’Œ<code>getRawY()</code></p>
<p>å‰è€…å¯ä»¥çœ‹åšæ˜¯å°†äº‹ä»¶æ‰€åœ¨<code>View</code>ä»¥å·¦ä¸Šè§’ä¸ºå·¦è¾¹åŸç‚¹ï¼Œä½œä¸€ä¸ªåæ ‡ç³»ï¼Œå°†<code>MotionEvent</code>å¯¹è±¡çš„ä½ç½®è¡¨ç¤ºå‡ºæ¥ï¼Œè€Œåè€…åˆ™æ˜¯å°†æ•´ä¸ªå±å¹•ä½œä¸ºåæ ‡ç³»ï¼Œå¦‚æœå°†<code>MotionEvent</code>çœ‹åšä¸€ä¸ªä¸è®¡å¤§å°çš„<code>View</code>ï¼Œé‚£ä¹ˆæ­£å¥½å¯ä»¥åˆ†åˆ«å¯¹åº”<code>View</code>çš„åæ ‡ç³»ä¸å±å¹•åæ ‡ç³»æ¥çœ‹å¾…</p>
<img src="https://cdn.jsdelivr.net/gh/minos-chertsfield/PicAbout/img/202307072329864.png" alt="image-20230707232916681" style="zoom: 80%;" />
]]></content>
      <categories>
        <category>Android</category>
      </categories>
      <tags>
        <tag>Android</tag>
      </tags>
  </entry>
</search>
